/*!
 * Authentic Theme (https://github.com/qooob/authentic-theme)
 * Copyright Ilia Rostovtsev <programming@rostovtsev.ru>
 * Licensed under MIT (https://github.com/qooob/authentic-theme/blob/master/LICENSE)
 */
"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=!0;var _d=!1;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var stats={general:{timeout:500,stopped:1,call:{},query:function query(){var _this=this;this.stopped&&function(){_this.stopped=0;_this.call={};_this.call=$.ajax({context:_this,url:v___server_extensions_path+"/stats/stats.cgi?xhr-stats=general",success:function success(data){var _this2=this;setTimeout(function(){_this2.render(data)},this.timeout);this.stopped=1},dataType:"json"})}()},render:function render(data){Object.entries(data).map(function(_ref){var _ref2=_slicedToArray(_ref,2),target=_ref2[0],data=_ref2[1];var v=parseInt(data),$pc=$('#system-status .piechart[data-charts*="'+target+'"]'),$lc=$('.info-container .'+target+'_percent');if(Number.isInteger(v)){if($pc.length){$pc.data('easyPieChart').update(v)}
if($lc.length){$lc.find('.bar').attr('style','width:'+v+'%');var $dp=$lc.find('.description'),$tx=$dp.text().split(/\s+/),$ts=void 0;$.each($tx,function(id,vd){if(vd.includes(':')){$tx[id+1]=v+'%';$ts=id}});$dp.text($tx.join(' ')).attr('title',$tx.splice($ts+2,Infinity).join(' ').slice(1,-1))}}});this.query()},kill:function kill(){var _this3=this;var abort=this.call.abort;typeof abort==="function"&&(abort.call(),this.stopped=0);setTimeout(function(){_this3.stopped=1,_this3.call={}},this.timeout+2)}}}
