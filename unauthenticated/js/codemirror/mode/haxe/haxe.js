(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("haxe",function(ap,C){var aL=ap.indentUnit;function aR(c){return{type:c,style:"keyword"}}var aV=aR("keyword a"),aX=aR("keyword b"),aY=aR("keyword c");var aQ=aR("operator"),bf={type:"atom",style:"atom"},aB={type:"attribute",style:"attribute"};var az=aR("typedef");var bb={"if":aV,"while":aV,"else":aX,"do":aX,"try":aX,"return":aY,"break":aY,"continue":aY,"new":aY,"throw":aY,"var":aR("var"),inline:aB,"static":aB,using:aR("import"),"public":aB,"private":aB,cast:aR("cast"),"import":aR("import"),macro:aR("macro"),"function":aR("function"),"catch":aR("catch"),untyped:aR("untyped"),callback:aR("cb"),"for":aR("for"),"switch":aR("switch"),"case":aR("case"),"default":aR("default"),"in":aQ,never:aR("property_access"),trace:aR("trace"),"class":az,"abstract":az,"enum":az,"interface":az,typedef:az,"extends":az,"implements":az,dynamic:az,"true":bf,"false":bf,"null":bf};var B=/[+\-*&%=<>!?|]/;function aA(d,e,c){e.tokenize=c;return c(d,e)}function aM(d,c){var e=false,f;while((f=d.next())!=null){if(f==c&&!e){return true}e=!e&&f=="\\"}}var az,a2;function aw(d,e,c){az=d;a2=c;return e}function aD(d,f){var c=d.next();if(c=='"'||c=="'"){return aA(d,f,a8(c))}else{if(/[\[\]{}\(\),;\:\.]/.test(c)){return aw(c)}else{if(c=="0"&&d.eat(/x/i)){d.eatWhile(/[\da-f]/i);return aw("number","number")}else{if(/\d/.test(c)||c=="-"&&d.eat(/\d/)){d.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/);return aw("number","number")}else{if(f.reAllowed&&(c=="~"&&d.eat(/\//))){aM(d,"/");d.eatWhile(/[gimsu]/);return aw("regexp","string-2")}else{if(c=="/"){if(d.eat("*")){return aA(d,f,am)}else{if(d.eat("/")){d.skipToEnd();return aw("comment","comment")}else{d.eatWhile(B);return aw("operator",null,d.current())}}}else{if(c=="#"){d.skipToEnd();return aw("conditional","meta")}else{if(c=="@"){d.eat(/:/);d.eatWhile(/[\w_]/);return aw("metadata","meta")}else{if(B.test(c)){d.eatWhile(B);return aw("operator",null,d.current())}else{var e;if(/[A-Z]/.test(c)){d.eatWhile(/[\w_<>]/);e=d.current();return aw("type","variable-3",e)}else{d.eatWhile(/[\w_]/);var e=d.current(),g=bb.propertyIsEnumerable(e)&&bb[e];return(g&&f.kwAllowed)?aw(g.type,g.style,e):aw("variable","variable",e)}}}}}}}}}}}function a8(c){return function(d,e){if(aM(d,c)){e.tokenize=aD}return aw("string","string")}}function am(d,e){var c=false,f;while(f=d.next()){if(f=="/"&&c){e.tokenize=aD;break}c=(f=="*")}return aw("comment","comment")}var a6={atom:true,number:true,variable:true,string:true,regexp:true};function aC(d,h,c,e,g,f){this.indented=d;this.column=h;this.type=c;this.prev=g;this.info=f;if(e!=null){this.align=e}}function aH(d,e){for(var c=d.localVars;c;c=c.next){if(c.name==e){return true}}}function aS(f,i,c,g,e){var d=f.cc;aN.state=f;aN.stream=e;aN.marked=null,aN.cc=d;if(!f.lexical.hasOwnProperty("align")){f.lexical.align=true}while(true){var h=d.length?d.pop():aF;if(h(c,g)){while(d.length&&d[d.length-1].lex){d.pop()()}if(aN.marked){return aN.marked}if(c=="variable"&&aH(f,g)){return"variable-2"}if(c=="variable"&&a0(f,g)){return"variable-3"}return i}}}function a0(d,e){if(/[a-z]/.test(e.charAt(0))){return false}var c=d.importedtypes.length;for(var f=0;f<c;f++){if(d.importedtypes[f]==e){return true}}}function aO(c){var d=aN.state;for(var e=d.importedtypes;e;e=e.next){if(e.name==c){return}}d.importedtypes={name:c,next:d.importedtypes}}var aN={state:null,column:null,marked:null,cc:null};function bg(){for(var c=arguments.length-1;c>=0;c--){aN.cc.push(arguments[c])}}function ar(){bg.apply(null,arguments);return true}function aU(e,d){for(var c=d;c;c=c.next){if(c.name==e){return true}}return false}function a5(c){var d=aN.state;if(d.context){aN.marked="def";if(aU(c,d.localVars)){return}d.localVars={name:c,next:d.localVars}}else{if(d.globalVars){if(aU(c,d.globalVars)){return}d.globalVars={name:c,next:d.globalVars}}}}var au={name:"this",next:null};function aW(){if(!aN.state.context){aN.state.localVars=au}aN.state.context={prev:aN.state.context,vars:aN.state.localVars}}function aZ(){aN.state.localVars=aN.state.context.vars;aN.state.context=aN.state.context.prev}aZ.lex=true;function a7(e,d){var c=function(){var f=aN.state;f.lexical=new aC(f.indented,aN.stream.column(),e,null,f.lexical,d)};c.lex=true;return c}function at(){var c=aN.state;if(c.lexical.prev){if(c.lexical.type==")"){c.indented=c.lexical.indented}c.lexical=c.lexical.prev}}at.lex=true;function bc(c){function d(e){if(e==c){return ar()}else{if(c==";"){return bg()}else{return ar(d)}}}return d}function aF(c){if(c=="@"){return ar(aP)}if(c=="var"){return ar(a7("vardef"),ao,bc(";"),at)}if(c=="keyword a"){return ar(a7("form"),aJ,aF,at)}if(c=="keyword b"){return ar(a7("form"),aF,at)}if(c=="{"){return ar(a7("}"),aW,a4,at,aZ)}if(c==";"){return ar()}if(c=="attribute"){return ar(bd)}if(c=="function"){return ar(a9)}if(c=="for"){return ar(a7("form"),bc("("),a7(")"),ba,bc(")"),at,aF,at)}if(c=="variable"){return ar(a7("stat"),ax)}if(c=="switch"){return ar(a7("form"),aJ,a7("}","switch"),bc("{"),a4,at,at)}if(c=="case"){return ar(aJ,bc(":"))}if(c=="default"){return ar(bc(":"))}if(c=="catch"){return ar(a7("form"),aW,bc("("),a1,bc(")"),aF,at,aZ)}if(c=="import"){return ar(av,bc(";"))}if(c=="typedef"){return ar(aE)}return bg(a7("stat"),aJ,bc(";"),at)}function aJ(c){if(a6.hasOwnProperty(c)){return ar(an)}if(c=="type"){return ar(an)}if(c=="function"){return ar(a9)}if(c=="keyword c"){return ar(ay)}if(c=="("){return ar(a7(")"),ay,bc(")"),at,an)}if(c=="operator"){return ar(aJ)}if(c=="["){return ar(a7("]"),A(ay,"]"),at,an)}if(c=="{"){return ar(a7("}"),A(a3,"}"),at,an)}return ar()}function ay(c){if(c.match(/[;\}\)\],]/)){return bg()}return bg(aJ)}function an(c,d){if(c=="operator"&&/\+\+|--/.test(d)){return ar(an)}if(c=="operator"||c==":"){return ar(aJ)}if(c==";"){return}if(c=="("){return ar(a7(")"),A(aJ,")"),at,an)}if(c=="."){return ar(a,an)}if(c=="["){return ar(a7("]"),aJ,bc("]"),at,an)}}function bd(c){if(c=="attribute"){return ar(bd)}if(c=="function"){return ar(a9)}if(c=="var"){return ar(ao)}}function aP(c){if(c==":"){return ar(aP)}if(c=="variable"){return ar(aP)}if(c=="("){return ar(a7(")"),A(aK,")"),at,aF)}}function aK(c){if(c=="variable"){return ar()}}function av(c,d){if(c=="variable"&&/[A-Z]/.test(d.charAt(0))){aO(d);return ar()}else{if(c=="variable"||c=="property"||c=="."||d=="*"){return ar(av)}}}function aE(c,d){if(c=="variable"&&/[A-Z]/.test(d.charAt(0))){aO(d);return ar()}else{if(c=="type"&&/[A-Z]/.test(d.charAt(0))){return ar()}}}function ax(c){if(c==":"){return ar(at,aF)}return bg(an,bc(";"),at)}function a(c){if(c=="variable"){aN.marked="property";return ar()}}function a3(c){if(c=="variable"){aN.marked="property"}if(a6.hasOwnProperty(c)){return ar(bc(":"),aJ)}}function A(d,c){function e(f){if(f==","){return ar(d,e)}if(f==c){return ar()}return ar(bc(c))}return function(f){if(f==c){return ar()}else{return bg(d,e)}}}function a4(c){if(c=="}"){return ar()}return bg(aF,a4)}function ao(c,d){if(c=="variable"){a5(d);return ar(aT,aq)}return ar()}function aq(c,d){if(d=="="){return ar(aJ,aq)}if(c==","){return ar(ao)}}function ba(c,d){if(c=="variable"){a5(d);return ar(be,aJ)}else{return bg()}}function be(c,d){if(d=="in"){return ar()}}function a9(c,d){if(c=="variable"||c=="type"){a5(d);return ar(a9)}if(d=="new"){return ar(a9)}if(c=="("){return ar(a7(")"),aW,A(a1,")"),at,aT,aF,aZ)}}function aT(c){if(c==":"){return ar(aG)}}function aG(c){if(c=="type"){return ar()}if(c=="variable"){return ar()}if(c=="{"){return ar(a7("}"),A(aI,"}"),at)}}function aI(c){if(c=="variable"){return ar(aT)}}function a1(c,d){if(c=="variable"){a5(d);return ar(aT)}}return{startState:function(d){var c=["Int","Float","String","Void","Std","Bool","Dynamic","Array"];var e={tokenize:aD,reAllowed:true,kwAllowed:true,cc:[],lexical:new aC((d||0)-aL,0,"block",false),localVars:C.localVars,importedtypes:c,context:C.localVars&&{vars:C.localVars},indented:0};if(C.globalVars&&typeof C.globalVars=="object"){e.globalVars=C.globalVars}return e},token:function(d,e){if(d.sol()){if(!e.lexical.hasOwnProperty("align")){e.lexical.align=false}e.indented=d.indentation()}if(d.eatSpace()){return null}var c=e.tokenize(d,e);if(az=="comment"){return c}e.reAllowed=!!(az=="operator"||az=="keyword c"||az.match(/^[\[{}\(,;:]$/));e.kwAllowed=az!=".";return aS(e,c,az,a2,d)},indent:function(d,c){if(d.tokenize!=aD){return 0}var e=c&&c.charAt(0),g=d.lexical;if(g.type=="stat"&&e=="}"){g=g.prev}var f=g.type,h=e==f;if(f=="vardef"){return g.indented+4}else{if(f=="form"&&e=="{"){return g.indented}else{if(f=="stat"||f=="form"){return g.indented+aL}else{if(g.info=="switch"&&!h){return g.indented+(/^(?:case|default)\b/.test(c)?aL:2*aL)}else{if(g.align){return g.column+(h?0:1)}else{return g.indented+(h?0:aL)}}}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});b.defineMIME("text/x-haxe","haxe");b.defineMode("hxml",function(){return{startState:function(){return{define:false,inString:false}},token:function(g,h){var i=g.peek();var j=g.sol();if(i=="#"){g.skipToEnd();return"comment"}if(j&&i=="-"){var a="variable-2";g.eat(/-/);if(g.peek()=="-"){g.eat(/-/);a="keyword a"}if(g.peek()=="D"){g.eat(/[D]/);a="keyword c";h.define=true}g.eatWhile(/[A-Z]/i);return a}var i=g.peek();if(h.inString==false&&i=="'"){h.inString=true;g.next()}if(h.inString==true){if(g.skipTo("'")){}else{g.skipToEnd()}if(g.peek()=="'"){g.next();h.inString=false}return"string"}g.next();return null},lineComment:"#"}});b.defineMIME("text/x-hxml","hxml")});