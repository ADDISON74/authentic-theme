(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("mathematica",function(r,t){var u="[a-zA-Z\\$][a-zA-Z0-9\\$]*";var q="(?:\\d+)";var w="(?:\\.\\d+|\\d+\\.\\d*|\\d+)";var y="(?:\\.\\w+|\\w+\\.\\w*|\\w+)";var p="(?:`(?:`?"+w+")?)";var z=new RegExp("(?:"+q+"(?:\\^\\^"+y+p+"?(?:\\*\\^[+-]?\\d+)?))");var a=new RegExp("(?:"+w+p+"?(?:\\*\\^[+-]?\\d+)?)");var v=new RegExp("(?:`?)(?:"+u+")(?:`(?:"+u+"))*(?:`?)");function x(c,d){var e;e=c.next();if(e==='"'){d.tokenize=o;return d.tokenize(c,d)}if(e==="("){if(c.eat("*")){d.commentLevel++;d.tokenize=s;return d.tokenize(c,d)}}c.backUp(1);if(c.match(z,true,false)){return"number"}if(c.match(a,true,false)){return"number"}if(c.match(/(?:In|Out)\[[0-9]*\]/,true,false)){return"atom"}if(c.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,true,false)){return"meta"}if(c.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,true,false)){return"string-2"}if(c.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,true,false)){return"variable-2"}if(c.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(c.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,true,false)){return"variable-2"}if(c.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(c.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,true,false)){return"variable-3"}if(c.match(/(?:\[|\]|{|}|\(|\))/,true,false)){return"bracket"}if(c.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,true,false)){return"variable-2"}if(c.match(v,true,false)){return"keyword"}if(c.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,true,false)){return"operator"}c.next();return"error"}function o(c,e){var f,g=false,d=false;while((f=c.next())!=null){if(f==='"'&&!d){g=true;break}d=!d&&f==="\\"}if(g&&!d){e.tokenize=x}return"string"}function s(c,d){var e,f;while(d.commentLevel>0&&(f=c.next())!=null){if(e==="("&&f==="*"){d.commentLevel++}if(e==="*"&&f===")"){d.commentLevel--}e=f}if(d.commentLevel<=0){d.tokenize=x}return"comment"}return{startState:function(){return{tokenize:x,commentLevel:0}},token:function(c,d){if(c.eatSpace()){return null}return d.tokenize(c,d)},blockCommentStart:"(*",blockCommentEnd:"*)"}});b.defineMIME("text/x-mathematica",{name:"mathematica"})});