(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("yaml",function(){var a=["true","false","on","off","yes","no"];var d=new RegExp("\\b(("+a.join(")|(")+"))$","i");return{token:function(c,h){var i=c.peek();var j=h.escaped;h.escaped=false;if(i=="#"&&(c.pos==0||/\s/.test(c.string.charAt(c.pos-1)))){c.skipToEnd();return"comment"}if(c.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/)){return"string"}if(h.literal&&c.indentation()>h.keyCol){c.skipToEnd();return"string"}else{if(h.literal){h.literal=false}}if(c.sol()){h.keyCol=0;h.pair=false;h.pairStart=false;if(c.match(/---/)){return"def"}if(c.match(/\.\.\./)){return"def"}if(c.match(/\s*-\s+/)){return"meta"}}if(c.match(/^(\{|\}|\[|\])/)){if(i=="{"){h.inlinePairs++}else{if(i=="}"){h.inlinePairs--}else{if(i=="["){h.inlineList++}else{h.inlineList--}}}return"meta"}if(h.inlineList>0&&!j&&i==","){c.next();return"meta"}if(h.inlinePairs>0&&!j&&i==","){h.keyCol=0;h.pair=false;h.pairStart=false;c.next();return"meta"}if(h.pairStart){if(c.match(/^\s*(\||\>)\s*/)){h.literal=true;return"meta"}if(c.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)){return"variable-2"}if(h.inlinePairs==0&&c.match(/^\s*-?[0-9\.\,]+\s?$/)){return"number"}if(h.inlinePairs>0&&c.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)){return"number"}if(c.match(d)){return"keyword"}}if(!h.pair&&c.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)){h.pair=true;h.keyCol=c.indentation();return"atom"}if(h.pair&&c.match(/^:\s*/)){h.pairStart=true;return"meta"}h.pairStart=false;h.escaped=(i=="\\");c.next();return null},startState:function(){return{pair:false,pairStart:false,keyCol:0,inlinePairs:0,inlineList:0,literal:false,escaped:false}}}});b.defineMIME("text/x-yaml","yaml");b.defineMIME("text/yaml","yaml")});