(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(B){function G(c){var b={};for(var a=0;a<c.length;a++){b[c[a]]=true}return b}var I=G(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]);var L=G(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]);var N=G(["true","false","nil","self","super","_"]);var H=G(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]);var C="+-/*%=|&<>~^?!";var A=":;,.(){}[]";var T=/^\-?0b[01][01_]*/;var Q=/^\-?0o[0-7][0-7_]*/;var R=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/;var O=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/;var P=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/;var K=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;var y=/^\#[A-Za-z]+/;var F=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function x(d,b,f){if(d.sol()){b.indented=d.indentation()}if(d.eatSpace()){return null}var a=d.peek();if(a=="/"){if(d.match("//")){d.skipToEnd();return"comment"}if(d.match("/*")){b.tokenize.push(E);return E(d,b)}}if(d.match(y)){return"builtin"}if(d.match(F)){return"attribute"}if(d.match(T)){return"number"}if(d.match(Q)){return"number"}if(d.match(R)){return"number"}if(d.match(O)){return"number"}if(d.match(K)){return"property"}if(C.indexOf(a)>-1){d.next();return"operator"}if(A.indexOf(a)>-1){d.next();d.match("..");return"punctuation"}if(a=='"'||a=="'"){d.next();var e=J(a);b.tokenize.push(e);return e(d,b)}if(d.match(P)){var c=d.current();if(H.hasOwnProperty(c)){return"variable-2"}if(N.hasOwnProperty(c)){return"atom"}if(I.hasOwnProperty(c)){if(L.hasOwnProperty(c)){b.prev="define"}return"keyword"}if(f=="define"){return"def"}return"variable"}d.next();return null}function S(){var a=0;return function(e,b,c){var d=x(e,b,c);if(d=="punctuation"){if(e.current()=="("){++a}else{if(e.current()==")"){if(a==0){e.backUp(1);b.tokenize.pop();return b.tokenize[b.tokenize.length-1](e,b)}else{--a}}}}return d}}function J(a){return function(e,c){var d,b=false;while(d=e.next()){if(b){if(d=="("){c.tokenize.push(S());return"string"}b=false}else{if(d==a){break}else{b=d=="\\"}}}c.tokenize.pop();return"string"}}function E(b,a){b.match(/^(?:[^*]|\*(?!\/))*/);if(b.match("*/")){a.tokenize.pop()}return"comment"}function D(a,b,c){this.prev=a;this.align=b;this.indented=c}function M(a,c){var b=c.match(/^\s*($|\/[\/\*])/,false)?null:c.column()+1;a.context=new D(a.context,b,a.indented)}function z(a){if(a.context){a.indented=a.context.indented;a.context=a.context.prev}}B.defineMode("swift",function(a){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(c,b){var e=b.prev;b.prev=null;var d=b.tokenize[b.tokenize.length-1]||x;var g=d(c,b,e);if(!g||g=="comment"){b.prev=e}else{if(!b.prev){b.prev=g}}if(g=="punctuation"){var f=/[\(\[\{]|([\]\)\}])/.exec(c.current());if(f){(f[1]?z:M)(b,c)}}return g},indent:function(e,c){var d=e.context;if(!d){return 0}var b=/^[\]\}\)]/.test(c);if(d.align!=null){return d.align-(b?1:0)}return d.indented+(b?0:a.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}});B.defineMIME("text/x-swift","swift")});