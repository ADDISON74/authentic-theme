(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("go",function(w){var t=w.indentUnit;var u={"break":true,"case":true,chan:true,"const":true,"continue":true,"default":true,defer:true,"else":true,fallthrough:true,"for":true,func:true,go:true,"goto":true,"if":true,"import":true,"interface":true,map:true,"package":true,range:true,"return":true,select:true,struct:true,"switch":true,type:true,"var":true,bool:true,"byte":true,complex64:true,complex128:true,float32:true,float64:true,int8:true,int16:true,int32:true,int64:true,string:true,uint8:true,uint16:true,uint32:true,uint64:true,"int":true,uint:true,uintptr:true,error:true,rune:true};var s={"true":true,"false":true,iota:true,nil:true,append:true,cap:true,close:true,complex:true,copy:true,"delete":true,imag:true,len:true,make:true,"new":true,panic:true,print:true,println:true,real:true,recover:true};var x=/[+\-*&^%:=<>!|\/]/;var o;function v(c,e){var f=c.next();if(f=='"'||f=="'"||f=="`"){e.tokenize=a(f);return e.tokenize(c,e)}if(/[\d\.]/.test(f)){if(f=="."){c.match(/^[0-9]+([eE][\-+]?[0-9]+)?/)}else{if(f=="0"){c.match(/^[xX][0-9a-fA-F]+/)||c.match(/^0[0-7]+/)}else{c.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/)}}return"number"}if(/[\[\]{}\(\),;\:\.]/.test(f)){o=f;return null}if(f=="/"){if(c.eat("*")){e.tokenize=q;return q(c,e)}if(c.eat("/")){c.skipToEnd();return"comment"}}if(x.test(f)){c.eatWhile(x);return"operator"}c.eatWhile(/[\w\$_\xa1-\uffff]/);var d=c.current();if(u.propertyIsEnumerable(d)){if(d=="case"||d=="default"){o="case"}return"keyword"}if(s.propertyIsEnumerable(d)){return"atom"}return"variable"}function a(c){return function(d,f){var e=false,g,h=false;while((g=d.next())!=null){if(g==c&&!e){h=true;break}e=!e&&c!="`"&&g=="\\"}if(h||!(e||c=="`")){f.tokenize=v}return"string"}}function q(c,d){var f=false,e;while(e=c.next()){if(e=="/"&&f){d.tokenize=v;break}f=(e=="*")}return"comment"}function n(c,f,g,d,e){this.indented=c;this.column=f;this.type=g;this.align=d;this.prev=e}function r(c,e,d){return c.context=new n(c.indented,e,d,null,c.context)}function p(c){if(!c.context.prev){return}var d=c.context.type;if(d==")"||d=="]"||d=="}"){c.indented=c.context.indented}return c.context=c.context.prev}return{startState:function(c){return{tokenize:null,context:new n((c||0)-t,0,"top",false),indented:0,startOfLine:true}},token:function(c,d){var f=d.context;if(c.sol()){if(f.align==null){f.align=false}d.indented=c.indentation();d.startOfLine=true;if(f.type=="case"){f.type="}"}}if(c.eatSpace()){return null}o=null;var e=(d.tokenize||v)(c,d);if(e=="comment"){return e}if(f.align==null){f.align=true}if(o=="{"){r(d,c.column(),"}")}else{if(o=="["){r(d,c.column(),"]")}else{if(o=="("){r(d,c.column(),")")}else{if(o=="case"){f.type="case"}else{if(o=="}"&&f.type=="}"){p(d)}else{if(o==f.type){p(d)}}}}}}d.startOfLine=false;return e},indent:function(c,f){if(c.tokenize!=v&&c.tokenize!=null){return b.Pass}var g=c.context,d=f&&f.charAt(0);if(g.type=="case"&&/^(?:case|default)\b/.test(f)){c.context.type="}";return g.indented}var e=d==g.type;if(g.align){return g.column+(e?0:1)}else{return g.indented+(e?0:t)}},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});b.defineMIME("text/x-go","go")});