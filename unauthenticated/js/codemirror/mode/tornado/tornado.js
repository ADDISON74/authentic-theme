(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("tornado:inner",function(){var a=["and","as","assert","autoescape","block","break","class","comment","context","continue","datetime","def","del","elif","else","end","escape","except","exec","extends","false","finally","for","from","global","if","import","in","include","is","json_encode","lambda","length","linkify","load","module","none","not","or","pass","print","put","raise","raw","return","self","set","squeeze","super","true","try","url_escape","while","with","without","xhtml_escape","yield"];a=new RegExp("^(("+a.join(")|(")+"))\\b");function e(c,d){c.eatWhile(/[^\{]/);var h=c.next();if(h=="{"){if(h=c.eat(/\{|%|#/)){d.tokenize=f(h);return"tag"}}}function f(c){if(c=="{"){c="}"}return function(d,i){var j=d.next();if((j==c)&&d.eat("}")){i.tokenize=e;return"tag"}if(d.match(a)){return"keyword"}return c=="#"?"comment":"string"}}return{startState:function(){return{tokenize:e}},token:function(c,d){return d.tokenize(c,d)}}});b.defineMode("tornado",function(a){var f=b.getMode(a,"text/html");var e=b.getMode(a,"tornado:inner");return b.overlayMode(f,e)});b.defineMIME("text/x-tornado","tornado")});