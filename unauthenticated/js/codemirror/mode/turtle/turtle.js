(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("turtle",function(u){var r=u.indentUnit;var m;function p(c){return new RegExp("^(?:"+c.join("|")+")$","i")}var v=p([]);var s=p(["@prefix","@base","a"]);var q=/[*+\-<>=&|]/;function t(d,f){var c=d.next();m=null;if(c=="<"&&!d.match(/^[\s\u00a0=]/,false)){d.match(/^[^\s\u00a0>]*>?/);return"atom"}else{if(c=='"'||c=="'"){f.tokenize=a(c);return f.tokenize(d,f)}else{if(/[{}\(\),\.;\[\]]/.test(c)){m=c;return null}else{if(c=="#"){d.skipToEnd();return"comment"}else{if(q.test(c)){d.eatWhile(q);return null}else{if(c==":"){return"operator"}else{d.eatWhile(/[_\w\d]/);if(d.peek()==":"){return"variable-3"}else{var e=d.current();if(s.test(e)){return"meta"}if(c>="A"&&c<="Z"){return"comment"}else{return"keyword"}}var e=d.current();if(v.test(e)){return null}else{if(s.test(e)){return"meta"}else{return"variable"}}}}}}}}}function a(c){return function(d,f){var e=false,g;while((g=d.next())!=null){if(g==c&&!e){f.tokenize=t;break}e=!e&&g=="\\"}return"string"}}function o(d,e,c){d.context={prev:d.context,indent:d.indent,col:c,type:e}}function n(c){c.indent=c.context.indent;c.context=c.context.prev}return{startState:function(){return{tokenize:t,context:null,indent:0,col:0}},token:function(d,e){if(d.sol()){if(e.context&&e.context.align==null){e.context.align=false}e.indent=d.indentation()}if(d.eatSpace()){return null}var c=e.tokenize(d,e);if(c!="comment"&&e.context&&e.context.align==null&&e.context.type!="pattern"){e.context.align=true}if(m=="("){o(e,")",d.column())}else{if(m=="["){o(e,"]",d.column())}else{if(m=="{"){o(e,"}",d.column())}else{if(/[\]\}\)]/.test(m)){while(e.context&&e.context.type=="pattern"){n(e)}if(e.context&&m==e.context.type){n(e)}}else{if(m=="."&&e.context&&e.context.type=="pattern"){n(e)}else{if(/atom|string|variable/.test(c)&&e.context){if(/[\}\]]/.test(e.context.type)){o(e,"pattern",d.column())}else{if(e.context.type=="pattern"&&!e.context.align){e.context.align=true;e.context.col=d.column()}}}}}}}}return c},indent:function(d,c){var e=c&&c.charAt(0);var f=d.context;if(/[\]\}]/.test(e)){while(f&&f.type=="pattern"){f=f.prev}}var g=f&&e==f.type;if(!f){return 0}else{if(f.type=="pattern"){return f.col}else{if(f.align){return f.col+(g?0:1)}else{return f.indent+(g?0:r)}}}},lineComment:"#"}});b.defineMIME("text/turtle","turtle")});