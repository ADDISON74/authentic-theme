(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],b)}else{b(CodeMirror)}}})(function(d){function f(a){var c={},b=a.split(",");for(var k=0;k<b.length;++k){var i=b[k].toUpperCase();var l=b[k].charAt(0).toUpperCase()+b[k].slice(1);c[b[k]]=true;c[i]=true;c[l]=true}return c}function e(a){a.eatWhile(/[\w\$_]/);return"meta"}d.defineMode("vhdl",function(C,A){var y=C.indentUnit,x=A.atoms||f("null"),F=A.hooks||{"`":e,"$":e},w=A.multiLineStrings;var z=f("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor");var E=f("architecture,entity,begin,case,port,else,elsif,end,for,function,if");var D=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;var t;function B(g,i){var j=g.next();if(F[j]){var k=F[j](g,i);if(k!==false){return k}}if(j=='"'){i.tokenize=c(j);return i.tokenize(g,i)}if(j=="'"){i.tokenize=a(j);return i.tokenize(g,i)}if(/[\[\]{}\(\),;\:\.]/.test(j)){t=j;return null}if(/[\d']/.test(j)){g.eatWhile(/[\w\.']/);return"number"}if(j=="-"){if(g.eat("-")){g.skipToEnd();return"comment"}}if(D.test(j)){g.eatWhile(D);return"operator"}g.eatWhile(/[\w\$_]/);var h=g.current();if(z.propertyIsEnumerable(h.toLowerCase())){if(E.propertyIsEnumerable(h)){t="newstatement"}return"keyword"}if(x.propertyIsEnumerable(h)){return"atom"}return"variable"}function a(g){return function(l,i){var h=false,j,k=false;while((j=l.next())!=null){if(j==g&&!h){k=true;break}h=!h&&j=="--"}if(k||!(h||w)){i.tokenize=B}return"string"}}function c(g){return function(l,i){var h=false,j,k=false;while((j=l.next())!=null){if(j==g&&!h){k=true;break}h=!h&&j=="--"}if(k||!(h||w)){i.tokenize=B}return"string-2"}}function b(g,j,k,h,i){this.indented=g;this.column=j;this.type=k;this.align=h;this.prev=i}function v(g,i,h){return g.context=new b(g.indented,i,h,null,g.context)}function u(g){var h=g.context.type;if(h==")"||h=="]"||h=="}"){g.indented=g.context.indented}return g.context=g.context.prev}return{startState:function(g){return{tokenize:null,context:new b((g||0)-y,0,"top",false),indented:0,startOfLine:true}},token:function(g,h){var j=h.context;if(g.sol()){if(j.align==null){j.align=false}h.indented=g.indentation();h.startOfLine=true}if(g.eatSpace()){return null}t=null;var i=(h.tokenize||B)(g,h);if(i=="comment"||i=="meta"){return i}if(j.align==null){j.align=true}if((t==";"||t==":")&&j.type=="statement"){u(h)}else{if(t=="{"){v(h,g.column(),"}")}else{if(t=="["){v(h,g.column(),"]")}else{if(t=="("){v(h,g.column(),")")}else{if(t=="}"){while(j.type=="statement"){j=u(h)}if(j.type=="}"){j=u(h)}while(j.type=="statement"){j=u(h)}}else{if(t==j.type){u(h)}else{if(j.type=="}"||j.type=="top"||(j.type=="statement"&&t=="newstatement")){v(h,g.column(),"statement")}}}}}}}h.startOfLine=false;return i},indent:function(g,j){if(g.tokenize!=B&&g.tokenize!=null){return 0}var h=j&&j.charAt(0),k=g.context,i=h==k.type;if(k.type=="statement"){return k.indented+(h=="{"?0:y)}else{if(k.align){return k.column+(i?0:1)}else{return k.indented+(i?0:y)}}},electricChars:"{}"}});d.defineMIME("text/x-vhdl","vhdl")});