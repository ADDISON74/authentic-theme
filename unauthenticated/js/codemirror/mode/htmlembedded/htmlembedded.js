(function(b){if(typeof exports=="object"&&typeof module=="object"){b(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],b)}else{b(CodeMirror)}}})(function(b){b.defineMode("htmlembedded",function(a,d){return b.multiplexingMode(b.getMode(a,"htmlmixed"),{open:d.open||d.scriptStartRegex||"<%",close:d.close||d.scriptEndRegex||"%>",mode:b.getMode(a,d.scriptingModeSpec)})},"htmlmixed");b.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});b.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});b.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});b.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});