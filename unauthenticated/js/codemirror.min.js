(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.CodeMirror=a())}(this,(function(){var em=navigator.userAgent;var ex=navigator.platform;var cG=/gecko\/\d/i.test(em);var ff=/MSIE \d/.test(em);var bV=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(em);var cU=/Edge\/(\d+)/.exec(em);var d3=ff||bV||cU;var m=d3&&(ff?document.documentMode||6:+(cU||bV)[1]);var di=!cU&&/WebKit\//.test(em);var d6=di&&/Qt\/\d+\.\d+/.test(em);var dx=!cU&&/Chrome\//.test(em);var eo=/Opera\//.test(em);var aG=/Apple Computer/.test(navigator.vendor);var dq=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(em);var f0=/PhantomJS/.test(em);var fy=!cU&&/AppleWebKit/.test(em)&&/Mobile\/\w+/.test(em);var aR=/Android/.test(em);var eD=fy||aR||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(em);var cl=fy||/Mac/.test(ex);var gj=/\bCrOS\b/.test(em);var aU=/win/i.test(ex);var a4=eo&&em.match(/Version\/(\d*\.\d*)/);if(a4){a4=Number(a4[1])}if(a4&&a4>=15){eo=false;di=true}var b3=cl&&(d6||eo&&(a4==null||a4<12.11));var gR=cG||(d3&&m>=9);function V(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var h=function(g2,i){var g3=g2.className;var g1=V(i).exec(g3);if(g1){var g4=g3.slice(g1.index+g1[0].length);g2.className=g3.slice(0,g1.index)+(g4?g1[1]+g4:"")}};function en(g1){for(var i=g1.childNodes.length;i>0;--i){g1.removeChild(g1.firstChild)}return g1}function b5(i,g1){return en(i).appendChild(g1)}function gI(g1,g5,g4,g3){var g6=document.createElement(g1);if(g4){g6.className=g4}if(g3){g6.style.cssText=g3}if(typeof g5=="string"){g6.appendChild(document.createTextNode(g5))}else{if(g5){for(var g2=0;g2<g5.length;++g2){g6.appendChild(g5[g2])}}}return g6}function gO(i,g3,g2,g1){var g4=gI(i,g3,g2,g1);g4.setAttribute("role","presentation");return g4}var cD;if(document.createRange){cD=function(g3,g4,g1,i){var g2=document.createRange();g2.setEnd(i||g3,g1);g2.setStart(g3,g4);return g2}}else{cD=function(g2,g4,i){var g1=document.body.createTextRange();try{g1.moveToElementText(g2.parentNode)}catch(g3){return g1}g1.collapse(true);g1.moveEnd("character",i);g1.moveStart("character",g4);return g1}}function gS(i,g1){if(g1.nodeType==3){g1=g1.parentNode}if(i.contains){return i.contains(g1)}do{if(g1.nodeType==11){g1=g1.host}if(g1==i){return true}}while(g1=g1.parentNode)}function d7(){var i;try{i=document.activeElement}catch(g1){i=document.body||null}while(i&&i.shadowRoot&&i.shadowRoot.activeElement){i=i.shadowRoot.activeElement}return i}function f9(g1,i){var g2=g1.className;if(!V(i).test(g2)){g1.className+=(g2?" ":"")+i}}function gy(g3,g1){var g2=g3.split(" ");for(var g4=0;g4<g2.length;g4++){if(g2[g4]&&!V(g2[g4]).test(g1)){g1+=" "+g2[g4]}}return g1}var d4=function(i){i.select()};if(fy){d4=function(i){i.selectionStart=0;i.selectionEnd=i.value.length}}else{if(d3){d4=function(g1){try{g1.select()}catch(i){}}}}function cN(g1){var i=Array.prototype.slice.call(arguments,1);return function(){return g1.apply(null,i)}}function aS(g2,g1,i){if(!g1){g1={}}for(var g3 in g2){if(g2.hasOwnProperty(g3)&&(i!==false||!g1.hasOwnProperty(g3))){g1[g3]=g2[g3]}}return g1}function b4(g4,g2,g6,g7,g3){if(g2==null){g2=g4.search(/[^\s\u00a0]/);if(g2==-1){g2=g4.length}}for(var g5=g7||0,g8=g3||0;;){var g1=g4.indexOf("\t",g5);if(g1<0||g1>=g2){return g8+(g2-g5)}g8+=g1-g5;g8+=g6-(g8%g6);g5=g1+1}}var g0=function(){this.id=null};g0.prototype.set=function(i,g1){clearTimeout(this.id);this.id=setTimeout(g1,i)};function dD(g3,g1){for(var g2=0;g2<g3.length;++g2){if(g3[g2]==g1){return g2}}return -1}var d2=30;var cq={toString:function(){return"CodeMirror.Pass"}};var ad={scroll:false};var P={origin:"*mouse"};var de={origin:"+move"};function eP(g4,g3,g5){for(var g6=0,g2=0;;){var g1=g4.indexOf("\t",g6);if(g1==-1){g1=g4.length}var i=g1-g6;if(g1==g4.length||g2+i>=g3){return g6+Math.min(i,g3-g2)}g2+=g1-g6;g2+=g5-(g2%g5);g6=g1+1;if(g2>=g3){return g6}}}var a5=[""];function cH(i){while(a5.length<=i){a5.push(gf(a5)+" ")}return a5[i]}function gf(i){return i[i.length-1]}function b6(g4,g3){var g1=[];for(var g2=0;g2<g4.length;g2++){g1[g2]=g3(g4[g2],g2)}return g1}function co(g4,g1,g2){var g3=0,i=g2(g1);while(g3<g4.length&&g2(g4[g3])<=i){g3++}g4.splice(g3,0,g1)}function gz(){}function cB(g2,i){var g1;if(Object.create){g1=Object.create(g2)}else{gz.prototype=g2;g1=new gz()}if(i){aS(i,g1)}return g1}var bh=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function gc(i){return/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||bh.test(i))}function cS(i,g1){if(!g1){return gc(i)}if(g1.source.indexOf("\\w")>-1&&gc(i)){return true}return g1.test(i)}function fr(i){for(var g1 in i){if(i.hasOwnProperty(g1)&&i[g1]){return false}}return true}var fe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function fV(i){return i.charCodeAt(0)>=768&&fe.test(i)}function eH(g1,g2,i){while((i<0?g2>0:g2<g1.length)&&fV(g1.charAt(g2))){g2+=i}return g2}function cE(i,g3,g2){for(;;){if(Math.abs(g3-g2)<=1){return i(g3)?g3:g2}var g1=Math.floor((g3+g2)/2);if(i(g1)){g2=g1}else{g3=g1}}}function fc(g1,g3,g2){var g4=this;this.input=g2;g4.scrollbarFiller=gI("div",null,"CodeMirror-scrollbar-filler");g4.scrollbarFiller.setAttribute("cm-not-content","true");g4.gutterFiller=gI("div",null,"CodeMirror-gutter-filler");g4.gutterFiller.setAttribute("cm-not-content","true");g4.lineDiv=gO("div",null,"CodeMirror-code");g4.selectionDiv=gI("div",null,null,"position: relative; z-index: 1");g4.cursorDiv=gI("div",null,"CodeMirror-cursors");g4.measure=gI("div",null,"CodeMirror-measure");g4.lineMeasure=gI("div",null,"CodeMirror-measure");g4.lineSpace=gO("div",[g4.measure,g4.lineMeasure,g4.selectionDiv,g4.cursorDiv,g4.lineDiv],null,"position: relative; outline: none");var i=gO("div",[g4.lineSpace],"CodeMirror-lines");g4.mover=gI("div",[i],null,"position: relative");g4.sizer=gI("div",[g4.mover],"CodeMirror-sizer");g4.sizerWidth=null;g4.heightForcer=gI("div",null,null,"position: absolute; height: "+d2+"px; width: 1px;");g4.gutters=gI("div",null,"CodeMirror-gutters");g4.lineGutter=null;g4.scroller=gI("div",[g4.sizer,g4.heightForcer,g4.gutters],"CodeMirror-scroll");g4.scroller.setAttribute("tabIndex","-1");g4.wrapper=gI("div",[g4.scrollbarFiller,g4.gutterFiller,g4.scroller],"CodeMirror");if(d3&&m<8){g4.gutters.style.zIndex=-1;g4.scroller.style.paddingRight=0}if(!di&&!(cG&&eD)){g4.scroller.draggable=true}if(g1){if(g1.appendChild){g1.appendChild(g4.wrapper)}else{g1(g4.wrapper)}}g4.viewFrom=g4.viewTo=g3.first;g4.reportedViewFrom=g4.reportedViewTo=g3.first;g4.view=[];g4.renderedView=null;g4.externalMeasured=null;g4.viewOffset=0;g4.lastWrapHeight=g4.lastWrapWidth=0;g4.updateLineNumbers=null;g4.nativeBarWidth=g4.barHeight=g4.barWidth=0;g4.scrollbarsClipped=false;g4.lineNumWidth=g4.lineNumInnerWidth=g4.lineNumChars=null;g4.alignWidgets=false;g4.cachedCharWidth=g4.cachedTextHeight=g4.cachedPaddingH=null;g4.maxLine=null;g4.maxLineLength=0;g4.maxLineChanged=false;g4.wheelDX=g4.wheelDY=g4.wheelStartX=g4.wheelStartY=null;g4.shift=false;g4.selForContextMenu=null;g4.activeTouch=null;g2.init(g4)}function fM(g4,g6){g6-=g4.first;if(g6<0||g6>=g4.size){throw new Error("There is no line "+(g6+g4.first)+" in the document.")}var g1=g4;while(!g1.lines){for(var g2=0;;++g2){var g5=g1.children[g2],g3=g5.chunkSize();if(g6<g3){g1=g5;break}g6-=g3}}return g1.lines[g6]}function gK(g2,g4,i){var g1=[],g3=g4.line;g2.iter(g4.line,i.line+1,function(g5){var g6=g5.text;if(g3==i.line){g6=g6.slice(0,i.ch)}if(g3==g4.line){g6=g6.slice(g4.ch)}g1.push(g6);++g3});return g1}function a7(g1,g3,g2){var i=[];g1.iter(g3,g2,function(g4){i.push(g4.text)});return i}function gN(g1,i){var g2=i-g1.height;if(g2){for(var g3=g1;g3;g3=g3.parent){g3.height+=g2}}}function bZ(g1){if(g1.parent==null){return null}var g5=g1.parent,g4=dD(g5.lines,g1);for(var g2=g5.parent;g2;g5=g2,g2=g2.parent){for(var g3=0;;++g3){if(g2.children[g3]==g5){break}g4+=g2.children[g3].chunkSize()}}return g4+g5.first}function bT(g7,g6){var g4=g7.first;outer:do{for(var g3=0;g3<g7.children.length;++g3){var g2=g7.children[g3],g1=g2.height;if(g6<g1){g7=g2;continue outer}g6-=g1;g4+=g2.chunkSize()}return g4}while(!g7.lines);var g5=0;for(;g5<g7.lines.length;++g5){var g9=g7.lines[g5],g8=g9.height;if(g6<g8){break}g6-=g8}return g4+g5}function cn(g1,i){return i>=g1.first&&i<g1.first+g1.size}function eS(g1,g2){return String(g1.lineNumberFormatter(g2+g1.firstLineNumber))}function Z(i,g1,g2){if(g2===void 0){g2=null}if(!(this instanceof Z)){return new Z(i,g1,g2)}this.line=i;this.ch=g1;this.sticky=g2}function cv(g1,i){return g1.line-i.line||g1.ch-i.ch}function aa(g1,i){return g1.sticky==i.sticky&&cv(g1,i)==0}function cy(i){return Z(i.line,i.ch)}function bJ(g1,i){return cv(g1,i)<0?i:g1}function av(g1,i){return cv(g1,i)<0?g1:i}function dn(i,g1){return Math.max(i.first,Math.min(g1,i.first+i.size-1))}function gk(g1,g2){if(g2.line<g1.first){return Z(g1.first,0)}var i=g1.first+g1.size-1;if(g2.line>i){return Z(i,fM(g1,i).text.length)}return fY(g2,fM(g1,g2.line).text.length)}function fY(g2,g1){var i=g2.ch;if(i==null||i>g1){return Z(g2.line,g1)}else{if(i<0){return Z(g2.line,0)}else{return g2}}}function el(g3,g4){var g1=[];for(var g2=0;g2<g4.length;g2++){g1[g2]=gk(g3,g4[g2])}return g1}var gV=false;var bc=false;function f7(){gV=true}function bI(){bc=true}function eG(i,g2,g1){this.marker=i;this.from=g2;this.to=g1}function fH(g3,g1){if(g3){for(var g2=0;g2<g3.length;++g2){var g4=g3[g2];if(g4.marker==g1){return g4}}}}function fb(g2,g3){var g4;for(var g1=0;g1<g2.length;++g1){if(g2[g1]!=g3){(g4||(g4=[])).push(g2[g1])}}return g4}function ct(i,g1){i.markedSpans=i.markedSpans?i.markedSpans.concat([g1]):[g1];g1.marker.attachLine(i)}function aV(g2,g3,g7){var g8;if(g2){for(var g5=0;g5<g2.length;++g5){var g9=g2[g5],g6=g9.marker;var g1=g9.from==null||(g6.inclusiveLeft?g9.from<=g3:g9.from<g3);if(g1||g9.from==g3&&g6.type=="bookmark"&&(!g7||!g9.marker.insertLeft)){var g4=g9.to==null||(g6.inclusiveRight?g9.to>=g3:g9.to>g3);(g8||(g8=[])).push(new eG(g6,g9.from,g4?null:g9.to))}}}return g8}function aF(g2,g4,g7){var g8;if(g2){for(var g5=0;g5<g2.length;++g5){var g9=g2[g5],g6=g9.marker;var g3=g9.to==null||(g6.inclusiveRight?g9.to>=g4:g9.to>g4);if(g3||g9.from==g4&&g6.type=="bookmark"&&(!g7||g9.marker.insertLeft)){var g1=g9.from==null||(g6.inclusiveLeft?g9.from<=g4:g9.from<g4);(g8||(g8=[])).push(new eG(g6,g1?null:g9.from-g4,g9.to==null?null:g9.to-g4))}}}return g8}function eI(hm,hc){if(hc.full){return null}var g3=cn(hm,hc.from.line)&&fM(hm,hc.from.line).markedSpans;var ha=cn(hm,hc.to.line)&&fM(hm,hc.to.line).markedSpans;if(!g3&&!ha){return null}var g9=hc.from.ch,hh=hc.to.ch,he=cv(hc.from,hc.to)==0;var g8=aV(g3,g9,he);var hb=aF(ha,hh,he);var hf=hc.text.length==1,g6=gf(hc.text).length+(hf?g9:0);if(g8){for(var hk=0;hk<g8.length;++hk){var hj=g8[hk];if(hj.to==null){var hd=fH(hb,hj.marker);if(!hd){hj.to=g9}else{if(hf){hj.to=hd.to==null?null:hd.to+g6}}}}}if(hb){for(var g7=0;g7<hb.length;++g7){var hi=hb[g7];if(hi.to!=null){hi.to+=g6}if(hi.from==null){var g2=fH(g8,hi.marker);if(!g2){hi.from=g6;if(hf){(g8||(g8=[])).push(hi)}}}else{hi.from+=g6;if(hf){(g8||(g8=[])).push(hi)}}}}if(g8){g8=s(g8)}if(hb&&hb!=g8){hb=s(hb)}var hl=[g8];if(!hf){var hg=hc.text.length-2,g1;if(hg>0&&g8){for(var g5=0;g5<g8.length;++g5){if(g8[g5].to==null){(g1||(g1=[])).push(new eG(g8[g5].marker,null,null))}}}for(var g4=0;g4<hg;++g4){hl.push(g1)}hl.push(hb)}return hl}function s(g2){for(var g1=0;g1<g2.length;++g1){var g3=g2[g1];if(g3.from!=null&&g3.from==g3.to&&g3.marker.clearWhenEmpty!==false){g2.splice(g1--,1)}}if(!g2.length){return null}return g2}function c1(hd,hb,hc){var g5=null;hd.iter(hb.line,hc.line+1,function(he){if(he.markedSpans){for(var hf=0;hf<he.markedSpans.length;++hf){var hg=he.markedSpans[hf].marker;if(hg.readOnly&&(!g5||dD(g5,hg)==-1)){(g5||(g5=[])).push(hg)}}}});if(!g5){return null}var g6=[{from:hb,to:hc}];for(var g7=0;g7<g5.length;++g7){var g8=g5[g7],g3=g8.find(0);for(var g4=0;g4<g6.length;++g4){var g2=g6[g4];if(cv(g2.to,g3.from)<0||cv(g2.from,g3.to)>0){continue}var ha=[g4,1],g1=cv(g2.from,g3.from),g9=cv(g2.to,g3.to);if(g1<0||!g8.inclusiveLeft&&!g1){ha.push({from:g2.from,to:g3.from})}if(g9>0||!g8.inclusiveRight&&!g9){ha.push({from:g3.to,to:g2.to})}g6.splice.apply(g6,ha);g4+=ha.length-3}}return g6}function gQ(g1){var g3=g1.markedSpans;if(!g3){return}for(var g2=0;g2<g3.length;++g2){g3[g2].marker.detachLine(g1)}g1.markedSpans=null}function dl(g1,g3){if(!g3){return}for(var g2=0;g2<g3.length;++g2){g3[g2].marker.attachLine(g1)}g1.markedSpans=g3}function w(i){return i.inclusiveLeft?-1:0}function b9(i){return i.inclusiveRight?1:0}function eb(g3,g1){var g5=g3.lines.length-g1.lines.length;if(g5!=0){return g5}var g2=g3.find(),g6=g1.find();var i=cv(g2.from,g6.from)||w(g3)-w(g1);if(i){return -i}var g4=cv(g2.to,g6.to)||b9(g3)-b9(g1);if(g4){return g4}return g1.id-g3.id}function bb(g2,g6){var g1=bc&&g2.markedSpans,g5;if(g1){for(var g4=(void 0),g3=0;g3<g1.length;++g3){g4=g1[g3];if(g4.marker.collapsed&&(g6?g4.from:g4.to)==null&&(!g5||eb(g5,g4.marker)<0)){g5=g4.marker}}}return g5}function fl(i){return bb(i,true)}function eW(i){return bb(i,false)}function A(g9,g3,g7,g8,g5){var hc=fM(g9,g3);var g1=bc&&hc.markedSpans;if(g1){for(var g4=0;g4<g1.length;++g4){var g2=g1[g4];if(!g2.marker.collapsed){continue}var hb=g2.marker.find(0);var ha=cv(hb.from,g7)||w(g2.marker)-w(g5);var g6=cv(hb.to,g8)||b9(g2.marker)-b9(g5);if(ha>=0&&g6<=0||ha<=0&&g6>=0){continue}if(ha<=0&&(g2.marker.inclusiveRight&&g5.inclusiveLeft?cv(hb.to,g7)>=0:cv(hb.to,g7)>0)||ha>=0&&(g2.marker.inclusiveRight&&g5.inclusiveLeft?cv(hb.from,g8)<=0:cv(hb.from,g8)<0)){return true}}}}function z(g1){var i;while(i=fl(g1)){g1=i.find(-1,true).line}return g1}function cA(g1){var i;while(i=eW(g1)){g1=i.find(1,true).line}return g1}function g(g2){var i,g1;while(i=eW(g2)){g2=i.find(1,true).line;(g1||(g1=[])).push(g2)}return g1}function a1(g3,g1){var i=fM(g3,g1),g2=z(i);if(i==g2){return g1}return bZ(g2)}function ep(g3,g2){if(g2>g3.lastLine()){return g2}var g1=fM(g3,g2),i;if(!f2(g3,g1)){return g2}while(i=eW(g1)){g1=i.find(1,true).line}return bZ(g1)+1}function f2(g5,g2){var g1=bc&&g2.markedSpans;if(g1){for(var g4=(void 0),g3=0;g3<g1.length;++g3){g4=g1[g3];if(!g4.marker.collapsed){continue}if(g4.from==null){return true}if(g4.marker.widgetNode){continue}if(g4.from==0&&g4.marker.inclusiveLeft&&W(g5,g2,g4)){return true}}}}function W(g6,g2,g4){if(g4.to==null){var g1=g4.marker.find(1,true);return W(g6,g1.line,fH(g1.line.markedSpans,g4.marker))}if(g4.marker.inclusiveRight&&g4.to==g2.text.length){return true}for(var g5=(void 0),g3=0;g3<g2.markedSpans.length;++g3){g5=g2.markedSpans[g3];if(g5.marker.collapsed&&!g5.marker.widgetNode&&g5.from==g4.to&&(g5.to==null||g5.to!=g4.from)&&(g5.marker.inclusiveLeft||g4.marker.inclusiveRight)&&W(g6,g2,g5)){return true}}}function bY(g3){g3=z(g3);var g5=0,g2=g3.parent;for(var g4=0;g4<g2.lines.length;++g4){var g1=g2.lines[g4];if(g1==g3){break}else{g5+=g1.height}}for(var g6=g2.parent;g6;g2=g6,g6=g2.parent){for(var g8=0;g8<g6.children.length;++g8){var g7=g6.children[g8];if(g7==g2){break}else{g5+=g7.height}}}return g5}function eL(g2){if(g2.height==0){return 0}var g1=g2.text.length,i,g5=g2;while(i=fl(g5)){var g3=i.find(0,true);g5=g3.from.line;g1+=g3.from.ch-g3.to.ch}g5=g2;while(i=eW(g5)){var g4=i.find(0,true);g1-=g5.text.length-g4.from.ch;g5=g4.to.line;g1+=g5.text.length-g4.to.ch}return g1}function f(i){var g2=i.display,g1=i.doc;g2.maxLine=fM(g1,g1.first);g2.maxLineLength=eL(g2.maxLine);g2.maxLineChanged=true;g1.iter(function(g4){var g3=eL(g4);if(g3>g2.maxLineLength){g2.maxLineLength=g3;g2.maxLine=g4}})}function eq(g1,g7,g6,g5){if(!g1){return g5(g7,g6,"ltr")}var g4=false;for(var g3=0;g3<g1.length;++g3){var g2=g1[g3];if(g2.from<g6&&g2.to>g7||g7==g6&&g2.to==g7){g5(Math.max(g2.from,g7),Math.min(g2.to,g6),g2.level==1?"rtl":"ltr");g4=true}}if(!g4){g5(g7,g6,"ltr")}}var fA=null;function aL(g1,g3,g5){var g4;fA=null;for(var g2=0;g2<g1.length;++g2){var g6=g1[g2];if(g6.from<g3&&g6.to>g3){return g2}if(g6.to==g3){if(g6.from!=g6.to&&g5=="before"){g4=g2}else{fA=g2}}if(g6.from==g3){if(g6.from!=g6.to&&g5!="before"){g4=g2}else{fA=g2}}}return g4!=null?g4:fA}var bn=(function(){var g6="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var g4="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function g3(g9){if(g9<=247){return g6.charAt(g9)}else{if(1424<=g9&&g9<=1524){return"R"}else{if(1536<=g9&&g9<=1785){return g4.charAt(g9-1536)}else{if(1774<=g9&&g9<=2220){return"r"}else{if(8192<=g9&&g9<=8203){return"w"}else{if(g9==8204){return"b"}else{return"L"}}}}}}}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var g8=/[stwN]/,g2=/[LRr]/,g1=/[Lb1n]/,g5=/[1n]/;function g7(hb,ha,g9){this.level=hb;this.from=ha;this.to=g9}return function(hw,hc){var hl=hc=="ltr"?"L":"R";if(hw.length==0||hc=="ltr"&&!i.test(hw)){return false}var hf=hw.length,hF=[];for(var hI=0;hI<hf;++hI){hF.push(g3(hw.charCodeAt(hI)))}for(var ht=0,hs=hl;ht<hf;++ht){var hJ=hF[ht];if(hJ=="m"){hF[ht]=hs}else{hs=hJ}}for(var hr=0,hb=hl;hr<hf;++hr){var hE=hF[hr];if(hE=="1"&&hb=="r"){hF[hr]="n"}else{if(g2.test(hE)){hb=hE;if(hE=="r"){hF[hr]="R"}}}}for(var hq=1,ha=hF[0];hq<hf-1;++hq){var hD=hF[hq];if(hD=="+"&&ha=="1"&&hF[hq+1]=="1"){hF[hq]="1"}else{if(hD==","&&ha==hF[hq+1]&&(ha=="1"||ha=="n")){hF[hq]=ha}}ha=hD}for(var hp=0;hp<hf;++hp){var hC=hF[hp];if(hC==","){hF[hp]="N"}else{if(hC=="%"){var he=(void 0);for(he=hp+1;he<hf&&hF[he]=="%";++he){}var hj=(hp&&hF[hp-1]=="!")||(he<hf&&hF[he]=="1")?"1":"N";for(var hH=hp;hH<he;++hH){hF[hH]=hj}hp=he-1}}}for(var ho=0,hi=hl;ho<hf;++ho){var hA=hF[ho];if(hi=="L"&&hA=="1"){hF[ho]="L"}else{if(g2.test(hA)){hi=hA}}}for(var hn=0;hn<hf;++hn){if(g8.test(hF[hn])){var hx=(void 0);for(hx=hn+1;hx<hf&&g8.test(hF[hx]);++hx){}var hz=(hn?hF[hn-1]:hl)=="L";var hB=(hx<hf?hF[hx]:hl)=="L";var hv=hz==hB?(hz?"L":"R"):hl;for(var hh=hn;hh<hx;++hh){hF[hh]=hv}hn=hx-1}}var hy=[],hG;for(var hm=0;hm<hf;){if(g1.test(hF[hm])){var hk=hm;for(++hm;hm<hf&&g1.test(hF[hm]);++hm){}hy.push(new g7(0,hk,hm))}else{var hu=hm,g9=hy.length;for(++hm;hm<hf&&hF[hm]!="L";++hm){}for(var hg=hu;hg<hm;){if(g5.test(hF[hg])){if(hu<hg){hy.splice(g9,0,new g7(1,hu,hg))}var hd=hg;for(++hg;hg<hm&&g5.test(hF[hg]);++hg){}hy.splice(g9,0,new g7(2,hd,hg));hu=hg}else{++hg}}if(hu<hm){hy.splice(g9,0,new g7(1,hu,hm))}}}if(hy[0].level==1&&(hG=hw.match(/^\s+/))){hy[0].from=hG[0].length;hy.unshift(new g7(0,0,hG[0].length))}if(gf(hy).level==1&&(hG=hw.match(/\s+$/))){gf(hy).to-=hG[0].length;hy.push(new g7(0,hf-hG[0].length,hf))}return hc=="rtl"?hy.reverse():hy}})();function a(g1,g2){var i=g1.order;if(i==null){i=g1.order=bn(g1.text,g2)}return i}function bA(i,g2,g1){var g3=eH(i.text,g2+g1,g1);return g3<0||g3>i.text.length?null:g3}function am(i,g3,g1){var g2=bA(i,g3.ch,g1);return g2==null?null:new Z(g3.line,g2,g1<0?"after":"before")}function e1(g1,g9,g6,g5,g3){if(g1){var g4=a(g6,g9.doc.direction);if(g4){var g2=g3<0?gf(g4):g4[0];var hb=(g3<0)==(g2.level==1);var g8=hb?"after":"before";var i;if(g2.level>0){var g7=ba(g9,g6);i=g3<0?g6.text.length-1:0;var ha=F(g9,g7,i).top;i=cE(function(hc){return F(g9,g7,hc).top==ha},(g3<0)==(g2.level==1)?g2.from:g2.to-1,i);if(g8=="before"){i=bA(g6,i,1)}}else{i=g3<0?g2.to:g2.from}return new Z(g5,i,g8)}}return new Z(g5,g3<0?g6.text.length:0,g3<0?"before":"after")}function v(hb,hg,g4,g7){var hd=a(hg,hb.doc.direction);if(!hd){return am(hg,g4,g7)}if(g4.ch>=hg.text.length){g4.ch=hg.text.length;g4.sticky="before"}else{if(g4.ch<=0){g4.ch=0;g4.sticky="after"}}var g3=aL(hd,g4.ch,g4.sticky),g5=hd[g3];if(hb.doc.direction=="ltr"&&g5.level%2==0&&(g7>0?g5.to>g4.ch:g5.from<g4.ch)){return am(hg,g4,g7)}var he=function(hi,hh){return bA(hg,hi instanceof Z?hi.ch:hi,hh)};var g8;var hc=function(hh){if(!hb.options.lineWrapping){return{begin:0,end:hg.text.length}}g8=g8||ba(hb,hg);return bt(hb,hg,g8,hh)};var g6=hc(g4.sticky=="before"?he(g4,-1):g4.ch);if(hb.doc.direction=="rtl"||g5.level==1){var hf=(g5.level==1)==(g7<0);var g1=he(g4,hf?1:-1);if(g1!=null&&(!hf?g1>=g5.from&&g1>=g6.begin:g1<=g5.to&&g1<=g6.end)){var ha=hf?"before":"after";return new Z(g4.line,g1,ha)}}var g2=function(hh,hk,hn){var hj=function(hp,ho){return ho?new Z(g4.line,he(hp,1),"before"):new Z(g4.line,hp,"after")};for(;hh>=0&&hh<hd.length;hh+=hk){var hi=hd[hh];var hl=(hk>0)==(hi.level!=1);var hm=hl?hn.begin:he(hn.end,-1);if(hi.from<=hm&&hm<hi.to){return hj(hm,hl)}hm=hl?hi.from:he(hi.to,-1);if(hn.begin<=hm&&hm<hn.end){return hj(hm,hl)}}};var g9=g2(g3+g7,g7,g6);if(g9){return g9}var i=g7>0?g6.end:he(g6.begin,-1);if(i!=null&&!(g7>0&&i==hg.text.length)){g9=g2(g7>0?0:hd.length-1,g7,hc(i));if(g9){return g9}}return null}var fD=[];var ca=function(g2,i,g1){if(g2.addEventListener){g2.addEventListener(i,g1,false)}else{if(g2.attachEvent){g2.attachEvent("on"+i,g1)}else{var g3=g2._handlers||(g2._handlers={});g3[i]=(g3[i]||fD).concat(g1)}}};function eJ(g1,i){return g1._handlers&&g1._handlers[i]||fD}function eC(g4,g2,g3){if(g4.removeEventListener){g4.removeEventListener(g2,g3,false)}else{if(g4.detachEvent){g4.detachEvent("on"+g2,g3)}else{var g5=g4._handlers,i=g5&&g5[g2];if(i){var g1=dD(i,g3);if(g1>-1){g5[g2]=i.slice(0,g1).concat(i.slice(g1+1))}}}}}function aI(g5,g4){var g1=eJ(g5,g4);if(!g1.length){return}var g2=Array.prototype.slice.call(arguments,2);for(var g3=0;g3<g1.length;++g3){g1[g3].apply(null,g2)}}function aW(i,g2,g1){if(typeof g2=="string"){g2={type:g2,preventDefault:function(){this.defaultPrevented=true}}}aI(i,g1||g2.type,i,g2);return bX(g2)||g2.codemirrorIgnore}function Y(g2){var g1=g2._handlers&&g2._handlers.cursorActivity;if(!g1){return}var g4=g2.curOp.cursorActivityHandlers||(g2.curOp.cursorActivityHandlers=[]);for(var g3=0;g3<g1.length;++g3){if(dD(g4,g1[g3])==-1){g4.push(g1[g3])}}}function fR(g1,i){return eJ(g1,i).length>0}function bL(i){i.prototype.on=function(g1,g2){ca(this,g1,g2)};i.prototype.off=function(g1,g2){eC(this,g1,g2)}}function cY(i){if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}}function dK(i){if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}}function bX(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==false}function eQ(i){cY(i);dK(i)}function O(i){return i.target||i.srcElement}function gp(g1){var i=g1.which;if(i==null){if(g1.button&1){i=1}else{if(g1.button&2){i=3}else{if(g1.button&4){i=2}}}}if(cl&&g1.ctrlKey&&i==1){i=3}return i}var fg=function(){if(d3&&m<9){return false}var i=gI("div");return"draggable" in i||"dragDrop" in i}();var gn;function bx(i){if(gn==null){var g2=gI("span","\u200b");b5(i,gI("span",[g2,document.createTextNode("x")]));if(i.firstChild.offsetHeight!=0){gn=g2.offsetWidth<=1&&g2.offsetHeight>2&&!(d3&&m<8)}}var g1=gn?gI("span","\u200b"):gI("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");g1.setAttribute("cm-text","");return g1}var go;function b0(g3){if(go!=null){return go}var i=b5(g3,document.createTextNode("A\u062eA"));var g2=cD(i,0,1).getBoundingClientRect();var g1=cD(i,1,2).getBoundingClientRect();en(g3);if(!g2||g2.left==g2.right){return false}return go=(g1.right-g2.right<3)}var gu="\n\nb".split(/\n/).length!=3?function(g5){var g6=0,i=[],g4=g5.length;while(g6<=g4){var g3=g5.indexOf("\n",g6);if(g3==-1){g3=g5.length}var g2=g5.slice(g6,g5.charAt(g3-1)=="\r"?g3-1:g3);var g1=g2.indexOf("\r");if(g1!=-1){i.push(g2.slice(0,g1));g6+=g1+1}else{i.push(g2);g6=g3+1}}return i}:function(i){return i.split(/\r\n?|\n/)};var bD=window.getSelection?function(g1){try{return g1.selectionStart!=g1.selectionEnd}catch(i){return false}}:function(g2){var i;try{i=g2.ownerDocument.selection.createRange()}catch(g1){}if(!i||i.parentElement()!=g2){return false}return i.compareEndPoints("StartToEnd",i)!=0};var du=(function(){var i=gI("div");if("oncopy" in i){return true}i.setAttribute("oncopy","return;");return typeof i.oncopy=="function"})();var fE=null;function aP(g1){if(fE!=null){return fE}var g2=b5(g1,gI("span","x"));var g3=g2.getBoundingClientRect();var i=cD(g2,0,1).getBoundingClientRect();return fE=Math.abs(g3.left-i.left)>1}var dM={};var aX={};function eT(i,g1){if(arguments.length>2){g1.dependencies=Array.prototype.slice.call(arguments,2)}dM[i]=g1}function bw(g1,i){aX[g1]=i}function gT(i){if(typeof i=="string"&&aX.hasOwnProperty(i)){i=aX[i]}else{if(i&&typeof i.name=="string"&&aX.hasOwnProperty(i.name)){var g1=aX[i.name];if(typeof g1=="string"){g1={name:g1}}i=cB(g1,i);i.name=g1.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i)){return gT("application/xml")}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i)){return gT("application/json")}}}}if(typeof i=="string"){return{name:i}}else{return i||{name:"null"}}}function f8(g2,g1){g1=gT(g1);var g4=dM[g1.name];if(!g4){return f8(g2,"text/plain")}var g5=g4(g2,g1);if(dJ.hasOwnProperty(g1.name)){var g3=dJ[g1.name];for(var g6 in g3){if(!g3.hasOwnProperty(g6)){continue}if(g5.hasOwnProperty(g6)){g5["_"+g6]=g5[g6]}g5[g6]=g3[g6]}}g5.name=g1.name;if(g1.helperType){g5.helperType=g1.helperType}if(g1.modeProps){for(var i in g1.modeProps){g5[i]=g1.modeProps[i]}}return g5}var dJ={};function e6(g2,g1){var i=dJ.hasOwnProperty(g2)?dJ[g2]:(dJ[g2]={});aS(g1,i)}function ch(g3,i){if(i===true){return i}if(g3.copyState){return g3.copyState(i)}var g2={};for(var g4 in i){var g1=i[g4];if(g1 instanceof Array){g1=g1.concat([])}g2[g4]=g1}return g2}function gP(g2,i){var g1;while(g2.innerMode){g1=g2.innerMode(i);if(!g1||g1.mode==g2){break}i=g1.state;g2=g1.mode}return g1||{mode:g2,state:i}}function ce(g2,g1,i){return g2.startState?g2.startState(g1,i):true}var fq=function(i,g1){this.pos=this.start=0;this.string=i;this.tabSize=g1||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};fq.prototype.eol=function(){return this.pos>=this.string.length};fq.prototype.sol=function(){return this.pos==this.lineStart};fq.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};fq.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};fq.prototype.eat=function(i){var g2=this.string.charAt(this.pos);var g1;if(typeof i=="string"){g1=g2==i}else{g1=g2&&(i.test?i.test(g2):i(g2))}if(g1){++this.pos;return g2}};fq.prototype.eatWhile=function(i){var g1=this.pos;while(this.eat(i)){}return this.pos>g1};fq.prototype.eatSpace=function(){var g1=this;var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++g1.pos}return this.pos>i};fq.prototype.skipToEnd=function(){this.pos=this.string.length};fq.prototype.skipTo=function(i){var g1=this.string.indexOf(i,this.pos);if(g1>-1){this.pos=g1;return true}};fq.prototype.backUp=function(i){this.pos-=i};fq.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=b4(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?b4(this.string,this.lineStart,this.tabSize):0)};fq.prototype.indentation=function(){return b4(this.string,null,this.tabSize)-(this.lineStart?b4(this.string,this.lineStart,this.tabSize):0)};fq.prototype.match=function(g4,g1,i){if(typeof g4=="string"){var g5=function(g6){return i?g6.toLowerCase():g6};var g3=this.string.substr(this.pos,g4.length);if(g5(g3)==g5(g4)){if(g1!==false){this.pos+=g4.length}return true}}else{var g2=this.string.slice(this.pos).match(g4);if(g2&&g2.index>0){return null}if(g2&&g1!==false){this.pos+=g2[0].length}return g2}};fq.prototype.current=function(){return this.string.slice(this.start,this.pos)};fq.prototype.hideFirstChars=function(g1,i){this.lineStart+=g1;try{return i()}finally{this.lineStart-=g1}};function f6(i,g2,g6,g5){var g4=[i.state.modeGen],g3={};x(i,g2.text,i.doc.mode,g6,function(g8,g9){return g4.push(g8,g9)},g3,g5);var g1=function(hb){var g9=i.state.overlays[hb],ha=1,g8=0;x(i,g2.text,g9.mode,true,function(hc,he){var hg=ha;while(g8<hc){var hd=g4[ha];if(hd>hc){g4.splice(ha,1,hc,g4[ha+1],hd)}ha+=2;g8=Math.min(hc,hd)}if(!he){return}if(g9.opaque){g4.splice(hg,ha-hg,hc,"overlay "+he);ha=hg+2}else{for(;hg<ha;hg+=2){var hf=g4[hg+1];g4[hg+1]=(hf?hf+" ":"")+"overlay "+he}}},g3)};for(var g7=0;g7<i.state.overlays.length;++g7){g1(g7)}return{styles:g4,classes:g3.bgClass||g3.textClass?g3:null}}function dr(g1,g2,g4){if(!g2.styles||g2.styles[0]!=g1.state.modeGen){var g3=dV(g1,bZ(g2));var i=f6(g1,g2,g2.text.length>g1.options.maxHighlightLength?ch(g1.doc.mode,g3):g3);g2.stateAfter=g3;g2.styles=i.styles;if(i.classes){g2.styleClasses=i.classes}else{if(g2.styleClasses){g2.styleClasses=null}}if(g4===g1.doc.frontier){g1.doc.frontier++}}return g2.styles}function dV(i,g6,g1){var g4=i.doc,g3=i.display;if(!g4.mode.startState){return true}var g5=cQ(i,g6,g1),g2=g5>g4.first&&fM(g4,g5-1).stateAfter;if(!g2){g2=ce(g4.mode)}else{g2=ch(g4.mode,g2)}g4.iter(g5,g6,function(g7){dR(i,g7.text,g2);var g8=g5==g6-1||g5%5==0||g5>=g3.viewFrom&&g5<g3.viewTo;g7.stateAfter=g8?ch(g4.mode,g2):null;++g5});if(g1){g4.frontier=g5}return g2}function dR(i,g5,g2,g1){var g4=i.doc.mode;var g3=new fq(g5,i.options.tabSize);g3.start=g3.pos=g1||0;if(g5==""){fW(g4,g2)}while(!g3.eol()){e4(g4,g3,g2);g3.start=g3.pos}}function fW(g2,g1){if(g2.blankLine){return g2.blankLine(g1)}if(!g2.innerMode){return}var i=gP(g2,g1);if(i.mode.blankLine){return i.mode.blankLine(i.state)}}function e4(g6,g5,g4,g1){for(var g2=0;g2<10;g2++){if(g1){g1[0]=gP(g6,g4).mode}var g3=g6.token(g5,g4);if(g5.pos>g5.start){return g3}}throw new Error("Mode "+g6.name+" failed to advance stream.")}function cI(g9,g7,g4,g3){var i=function(hc){return({start:ha.start,end:ha.pos,string:ha.current(),type:g2||null,state:hc?ch(g8.mode,g1):g1})};var g8=g9.doc,g5=g8.mode,g2;g7=gk(g8,g7);var hb=fM(g8,g7.line),g1=dV(g9,g7.line,g4);var ha=new fq(hb.text,g9.options.tabSize),g6;if(g3){g6=[]}while((g3||ha.pos<g7.ch)&&!ha.eol()){ha.start=ha.pos;g2=e4(g5,ha,g1);if(g3){g6.push(i(true))}}return g3?g6:i()}function dE(g2,g1){if(g2){for(;;){var i=g2.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i){break}g2=g2.slice(0,i.index)+g2.slice(i.index+i[0].length);var g3=i[1]?"bgClass":"textClass";if(g1[g3]==null){g1[g3]=i[2]}else{if(!(new RegExp("(?:^|s)"+i[2]+"(?:$|s)")).test(g1[g3])){g1[g3]+=" "+i[2]}}}}return g2}function x(ha,hc,g5,g1,g6,g3,g4){var g2=g5.flattenSpans;if(g2==null){g2=ha.options.flattenSpans}var g8=0,g7=null;var hb=new fq(hc,ha.options.tabSize),i;var he=ha.options.addModeClass&&[null];if(hc==""){dE(fW(g5,g1),g3)}while(!hb.eol()){if(hb.pos>ha.options.maxHighlightLength){g2=false;if(g4){dR(ha,hc,g1,hb.pos)}hb.pos=hc.length;i=null}else{i=dE(e4(g5,hb,g1,he),g3)}if(he){var hd=he[0].name;if(hd){i="m-"+(i?hd+" "+i:hd)}}if(!g2||g7!=i){while(g8<hb.start){g8=Math.min(hb.start,g8+5000);g6(g8,g7)}g7=i}hb.start=hb.pos}while(g8<hb.pos){var g9=Math.min(hb.pos,g8+5000);g6(g9,g7);g8=g9}}function cQ(g6,i,g3){var g1,g4,g5=g6.doc;var g2=g3?-1:i-(g6.doc.mode.innerMode?1000:100);for(var g9=i;g9>g2;--g9){if(g9<=g5.first){return g5.first}var g8=fM(g5,g9-1);if(g8.stateAfter&&(!g3||g9<=g5.frontier)){return g9}var g7=b4(g8.text,null,g6.options.tabSize);if(g4==null||g1>g7){g4=g9-1;g1=g7}}return g4}var gM=function(g2,g1,i){this.text=g2;dl(this,g1);this.height=i?i(this):1};gM.prototype.lineNo=function(){return bZ(this)};bL(gM);function eM(g1,g4,g2,i){g1.text=g4;if(g1.stateAfter){g1.stateAfter=null}if(g1.styles){g1.styles=null}if(g1.order!=null){g1.order=null}gQ(g1);dl(g1,g2);var g3=i?i(g1):1;if(g3!=g1.height){gN(g1,g3)}}function bN(i){i.parent=null;gQ(i)}var eg={};var cg={};function ft(g2,g1){if(!g2||/^\s*$/.test(g2)){return null}var i=g1.addModeClass?cg:eg;return i[g2]||(i[g2]=g2.replace(/\S+/g,"cm-$&"))}function fo(g7,g6){var g5=gO("span",null,null,di?"padding-right: .1px":null);var g4={pre:gO("pre",[g5],"CodeMirror-line"),content:g5,col:0,pos:0,cm:g7,trailingSpace:false,splitSpaces:(d3||di)&&g7.getOption("lineWrapping")};g6.measure={};for(var g3=0;g3<=(g6.rest?g6.rest.length:0);g3++){var g9=g3?g6.rest[g3-1]:g6.line,g2=(void 0);g4.pos=0;g4.addToken=u;if(b0(g7.display.measure)&&(g2=a(g9,g7.doc.direction))){g4.addToken=X(g4.addToken,g2)}g4.map=[];var g1=g6!=g7.display.externalMeasured&&bZ(g9);by(g9,g4,dr(g7,g9,g1));if(g9.styleClasses){if(g9.styleClasses.bgClass){g4.bgClass=gy(g9.styleClasses.bgClass,g4.bgClass||"")}if(g9.styleClasses.textClass){g4.textClass=gy(g9.styleClasses.textClass,g4.textClass||"")}}if(g4.map.length==0){g4.map.push(0,0,g4.content.appendChild(bx(g7.display.measure)))}if(g3==0){g6.measure.map=g4.map;g6.measure.cache={}}else{(g6.measure.maps||(g6.measure.maps=[])).push(g4.map);(g6.measure.caches||(g6.measure.caches=[])).push({})}}if(di){var g8=g4.content.lastChild;if(/\bcm-tab\b/.test(g8.className)||(g8.querySelector&&g8.querySelector(".cm-tab"))){g4.content.className="cm-tab-wrap-hack"}}aI(g7,"renderLine",g7,g6.line,g4.pre);if(g4.pre.className){g4.textClass=gy(g4.pre.className,g4.textClass||"")}return g4}function fL(g1){var i=gI("span","\u2022","cm-invalidchar");i.title="\\u"+g1.charCodeAt(0).toString(16);i.setAttribute("aria-label",i.title);return i}function u(hb,g6,hg,hd,g9,hj,g5){if(!g6){return}var hf=hb.splitSpaces?cX(g6,hb.trailingSpace):g6;var i=hb.cm.state.specialChars,g1=false;var he;if(!i.test(g6)){hb.col+=g6.length;he=document.createTextNode(hf);hb.map.push(hb.pos,hb.pos+g6.length,he);if(d3&&m<9){g1=true}hb.pos+=g6.length}else{he=document.createDocumentFragment();var g3=0;while(true){i.lastIndex=g3;var hc=i.exec(g6);var hi=hc?hc.index-g3:g6.length-g3;if(hi){var g8=document.createTextNode(hf.slice(g3,g3+hi));if(d3&&m<9){he.appendChild(gI("span",[g8]))}else{he.appendChild(g8)}hb.map.push(hb.pos,hb.pos+hi,g8);hb.col+=hi;hb.pos+=hi}if(!hc){break}g3+=hi+1;var hh=(void 0);if(hc[0]=="\t"){var ha=hb.cm.options.tabSize,g7=ha-hb.col%ha;hh=he.appendChild(gI("span",cH(g7),"cm-tab"));hh.setAttribute("role","presentation");hh.setAttribute("cm-text","\t");hb.col+=g7}else{if(hc[0]=="\r"||hc[0]=="\n"){hh=he.appendChild(gI("span",hc[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));hh.setAttribute("cm-text",hc[0]);hb.col+=1}else{hh=hb.cm.options.specialCharPlaceholder(hc[0]);hh.setAttribute("cm-text",hc[0]);if(d3&&m<9){he.appendChild(gI("span",[hh]))}else{he.appendChild(hh)}hb.col+=1}}hb.map.push(hb.pos,hb.pos+1,hh);hb.pos++}}hb.trailingSpace=hf.charCodeAt(g6.length-1)==32;if(hg||hd||g9||g1||g5){var g2=hg||"";if(hd){g2+=hd}if(g9){g2+=g9}var g4=gI("span",[he],g2,g5);if(hj){g4.title=hj}return hb.content.appendChild(g4)}hb.content.appendChild(he)}function cX(g6,g5){if(g6.length>1&&!/  /.test(g6)){return g6}var g2=g5,g1="";for(var g3=0;g3<g6.length;g3++){var g4=g6.charAt(g3);if(g4==" "&&g2&&(g3==g6.length-1||g6.charCodeAt(g3+1)==32)){g4="\u00a0"}g1+=g4;g2=g4==" "}return g1}function X(g1,i){return function(g9,hb,g2,g6,hc,ha,g8){g2=g2?g2+" cm-force-border":"cm-force-border";var g3=g9.pos,g5=g3+hb.length;for(;;){var g4=(void 0);for(var g7=0;g7<i.length;g7++){g4=i[g7];if(g4.to>g3&&g4.from<=g3){break}}if(g4.to>=g5){return g1(g9,hb,g2,g6,hc,ha,g8)}g1(g9,hb.slice(0,g4.to-g3),g2,g6,null,ha,g8);g6=null;hb=hb.slice(g4.to-g3);g3=g4.to}}}function ah(g1,g3,i,g2){var g4=!g2&&i.widgetNode;if(g4){g1.map.push(g1.pos,g1.pos+g3,g4)}if(!g2&&g1.cm.display.input.needsContentAttribute){if(!g4){g4=g1.content.appendChild(document.createElement("span"))}g4.setAttribute("cm-marker",i.id)}if(g4){g1.cm.display.input.setUneditable(g4);g1.content.appendChild(g4)}g1.pos+=g3;g1.trailingSpace=false}function by(hc,hj,hb){var g6=hc.markedSpans,g9=hc.text,hh=0;if(!g6){for(var g7=1;g7<hb.length;g7+=2){hj.addToken(hj,g9.slice(hh,hh=hb[g7]),ft(hb[g7+1],hj.cm.options))}return}var hn=g9.length,g5=0,hm=1,hf="",ho,hd;var hs=0,g1,hr,hg,ht,g3;for(;;){if(hs==g5){g1=hr=hg=ht=hd="";g3=null;hs=Infinity;var g8=[],ha=(void 0);for(var hk=0;hk<g6.length;++hk){var hl=g6[hk],hi=hl.marker;if(hi.type=="bookmark"&&hl.from==g5&&hi.widgetNode){g8.push(hi)}else{if(hl.from<=g5&&(hl.to==null||hl.to>g5||hi.collapsed&&hl.to==g5&&hl.from==g5)){if(hl.to!=null&&hl.to!=g5&&hs>hl.to){hs=hl.to;hr=""}if(hi.className){g1+=" "+hi.className}if(hi.css){hd=(hd?hd+";":"")+hi.css}if(hi.startStyle&&hl.from==g5){hg+=" "+hi.startStyle}if(hi.endStyle&&hl.to==hs){(ha||(ha=[])).push(hi.endStyle,hl.to)}if(hi.title&&!ht){ht=hi.title}if(hi.collapsed&&(!g3||eb(g3.marker,hi)<0)){g3=hl}}else{if(hl.from>g5&&hs>hl.from){hs=hl.from}}}}if(ha){for(var hq=0;hq<ha.length;hq+=2){if(ha[hq+1]==hs){hr+=" "+ha[hq]}}}if(!g3||g3.from==g5){for(var hp=0;hp<g8.length;++hp){ah(hj,0,g8[hp])}}if(g3&&(g3.from||0)==g5){ah(hj,(g3.to==null?hn+1:g3.to)-g5,g3.marker,g3.from==null);if(g3.to==null){return}if(g3.to==g5){g3=false}}}if(g5>=hn){break}var he=Math.min(hn,hs);while(true){if(hf){var g2=g5+hf.length;if(!g3){var g4=g2>he?hf.slice(0,he-g5):hf;hj.addToken(hj,g4,ho?ho+g1:g1,hg,g5+g4.length==hs?hr:"",ht,hd)}if(g2>=he){hf=hf.slice(he-g5);g5=he;break}g5=g2;hg=""}hf=g9.slice(hh,hh=hb[hm++]);ho=ft(hb[hm++],hj.cm.options)}}}function bG(g2,i,g1){this.line=i;this.rest=g(i);this.size=this.rest?bZ(gf(this.rest))-g1+1:1;this.node=this.text=null;this.hidden=f2(g2,i)}function fs(i,g6,g5){var g4=[],g2;for(var g3=g6;g3<g5;g3=g2){var g1=new bG(i.doc,fM(i.doc,g3),g3);g2=g3+g1.size;g4.push(g1)}return g4}var bz=null;function eZ(i){if(bz){bz.ops.push(i)}else{i.ownsGroup=bz={ops:[i],delayedCallbacks:[]}}}function dc(g4){var g3=g4.delayedCallbacks,g2=0;do{for(;g2<g3.length;g2++){g3[g2].call(null)}for(var g1=0;g1<g4.ops.length;g1++){var g5=g4.ops[g1];if(g5.cursorActivityHandlers){while(g5.cursorActivityCalled<g5.cursorActivityHandlers.length){g5.cursorActivityHandlers[g5.cursorActivityCalled++].call(null,g5.cm)}}}}while(g2<g3.length)}function cb(g2,g1){var i=g2.ownsGroup;if(!i){return}try{dc(i)}finally{bz=null;g1(i)}}var bK=null;function ai(g7,g5){var g1=eJ(g7,g5);if(!g1.length){return}var g3=Array.prototype.slice.call(arguments,2),g6;if(bz){g6=bz.delayedCallbacks}else{if(bK){g6=bK}else{g6=bK=[];setTimeout(aQ,0)}}var g2=function(g8){g6.push(function(){return g1[g8].apply(null,g3)})};for(var g4=0;g4<g1.length;++g4){g2(g4)}}function aQ(){var g1=bK;bK=null;for(var g2=0;g2<g1.length;++g2){g1[g2]()}}function af(i,g2,g4,g5){for(var g1=0;g1<g2.changes.length;g1++){var g3=g2.changes[g1];if(g3=="text"){fS(i,g2)}else{if(g3=="gutter"){dA(i,g2,g4,g5)}else{if(g3=="class"){dZ(i,g2)}else{if(g3=="widget"){ar(i,g2,g5)}}}}}g2.changes=null}function gh(i){if(i.node==i.text){i.node=gI("div",null,null,"position: relative");if(i.text.parentNode){i.text.parentNode.replaceChild(i.node,i.text)}i.node.appendChild(i.text);if(d3&&m<8){i.node.style.zIndex=2}}return i.node}function eV(i,g2){var g1=g2.bgClass?g2.bgClass+" "+(g2.line.bgClass||""):g2.line.bgClass;if(g1){g1+=" CodeMirror-linebackground"}if(g2.background){if(g1){g2.background.className=g1}else{g2.background.parentNode.removeChild(g2.background);g2.background=null}}else{if(g1){var g3=gh(g2);g2.background=g3.insertBefore(gI("div",null,g1),g3.firstChild);i.display.input.setUneditable(g2.background)}}}function ef(i,g1){var g2=i.display.externalMeasured;if(g2&&g2.line==g1.line){i.display.externalMeasured=null;g1.measure=g2.measure;return g2.built}return fo(i,g1)}function fS(i,g3){var g1=g3.text.className;var g2=ef(i,g3);if(g3.text==g3.node){g3.node=g2.pre}g3.text.parentNode.replaceChild(g2.pre,g3.text);g3.text=g2.pre;if(g2.bgClass!=g3.bgClass||g2.textClass!=g3.textClass){g3.bgClass=g2.bgClass;g3.textClass=g2.textClass;dZ(i,g3)}else{if(g1){g3.text.className=g1}}}function dZ(g1,g2){eV(g1,g2);if(g2.line.wrapClass){gh(g2).className=g2.line.wrapClass}else{if(g2.node!=g2.text){g2.node.className=""}}var i=g2.textClass?g2.textClass+" "+(g2.line.textClass||""):g2.line.textClass;g2.text.className=i||""}function dA(g8,g6,g5,g7){if(g6.gutter){g6.node.removeChild(g6.gutter);g6.gutter=null}if(g6.gutterBackground){g6.node.removeChild(g6.gutterBackground);g6.gutterBackground=null}if(g6.line.gutterClass){var g1=gh(g6);g6.gutterBackground=gI("div",null,"CodeMirror-gutter-background "+g6.line.gutterClass,("left: "+(g8.options.fixedGutter?g7.fixedPos:-g7.gutterTotalWidth)+"px; width: "+(g7.gutterTotalWidth)+"px"));g8.display.input.setUneditable(g6.gutterBackground);g1.insertBefore(g6.gutterBackground,g6.text)}var g3=g6.line.gutterMarkers;if(g8.options.lineNumbers||g3){var g9=gh(g6);var g4=g6.gutter=gI("div",null,"CodeMirror-gutter-wrapper",("left: "+(g8.options.fixedGutter?g7.fixedPos:-g7.gutterTotalWidth)+"px"));g8.display.input.setUneditable(g4);g9.insertBefore(g4,g6.text);if(g6.line.gutterClass){g4.className+=" "+g6.line.gutterClass}if(g8.options.lineNumbers&&(!g3||!g3["CodeMirror-linenumbers"])){g6.lineNumber=g4.appendChild(gI("div",eS(g8.options,g5),"CodeMirror-linenumber CodeMirror-gutter-elt",("left: "+(g7.gutterLeft["CodeMirror-linenumbers"])+"px; width: "+(g8.display.lineNumInnerWidth)+"px")))}if(g3){for(var g2=0;g2<g8.options.gutters.length;++g2){var i=g8.options.gutters[g2],ha=g3.hasOwnProperty(i)&&g3[i];if(ha){g4.appendChild(gI("div",[ha],"CodeMirror-gutter-elt",("left: "+(g7.gutterLeft[i])+"px; width: "+(g7.gutterWidth[i])+"px")))}}}}}function ar(i,g1,g4){if(g1.alignable){g1.alignable=null}for(var g3=g1.node.firstChild,g2=(void 0);g3;g3=g2){g2=g3.nextSibling;if(g3.className=="CodeMirror-linewidget"){g1.node.removeChild(g3)}}fZ(i,g1,g4)}function aJ(i,g2,g3,g4){var g1=ef(i,g2);g2.text=g2.node=g1.pre;if(g1.bgClass){g2.bgClass=g1.bgClass}if(g1.textClass){g2.textClass=g1.textClass}dZ(i,g2);dA(i,g2,g3,g4);fZ(i,g2,g4);return g2.node}function fZ(g1,g3,g4){gL(g1,g3.line,g3,g4,true);if(g3.rest){for(var g2=0;g2<g3.rest.length;g2++){gL(g1,g3.rest[g2],g3,g4,false)}}}function gL(g9,ha,g6,g8,g4){if(!ha.widgets){return}var g1=gh(g6);for(var g3=0,g7=ha.widgets;g3<g7.length;++g3){var g5=g7[g3],g2=gI("div",[g5.node],"CodeMirror-linewidget");if(!g5.handleMouseEvents){g2.setAttribute("cm-ignore-events","true")}bR(g5,g2,g6,g8);g9.display.input.setUneditable(g2);if(g4&&g5.above){g1.insertBefore(g2,g6.gutter||g6.text)}else{g1.appendChild(g2)}ai(g5,"redraw")}}function bR(g3,g2,i,g4){if(g3.noHScroll){(i.alignable||(i.alignable=[])).push(g2);var g1=g4.wrapperWidth;g2.style.left=g4.fixedPos+"px";if(!g3.coverGutter){g1-=g4.gutterTotalWidth;g2.style.paddingLeft=g4.gutterTotalWidth+"px"}g2.style.width=g1+"px"}if(g3.coverGutter){g2.style.zIndex=5;g2.style.position="relative";if(!g3.noHScroll){g2.style.marginLeft=-g4.gutterTotalWidth+"px"}}}function dg(g2){if(g2.height!=null){return g2.height}var i=g2.doc.cm;if(!i){return 0}if(!gS(document.body,g2.node)){var g1="position: relative;";if(g2.coverGutter){g1+="margin-left: -"+i.display.gutters.offsetWidth+"px;"}if(g2.noHScroll){g1+="width: "+i.display.wrapper.clientWidth+"px;"}b5(i.display.measure,gI("div",[g2.node],null,g1))}return g2.height=g2.node.parentNode.offsetHeight}function bg(g1,i){for(var g2=O(i);g2!=g1.wrapper;g2=g2.parentNode){if(!g2||(g2.nodeType==1&&g2.getAttribute("cm-ignore-events")=="true")||(g2.parentNode==g1.sizer&&g2!=g1.mover)){return true}}}function fG(i){return i.lineSpace.offsetTop}function bU(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function fC(g3){if(g3.cachedPaddingH){return g3.cachedPaddingH}var g2=b5(g3.measure,gI("pre","x"));var i=window.getComputedStyle?window.getComputedStyle(g2):g2.currentStyle;var g1={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};if(!isNaN(g1.left)&&!isNaN(g1.right)){g3.cachedPaddingH=g1}return g1}function db(i){return d2-i.display.nativeBarWidth}function dG(i){return i.display.scroller.clientWidth-db(i)-i.display.barWidth}function dd(i){return i.display.scroller.clientHeight-db(i)-i.display.barHeight}function cx(g8,g4,g7){var g3=g8.options.lineWrapping;var g5=g3&&dG(g8);if(!g4.measure.heights||g3&&g4.measure.width!=g5){var g6=g4.measure.heights=[];if(g3){g4.measure.width=g5;var ha=g4.text.firstChild.getClientRects();for(var g1=0;g1<ha.length-1;g1++){var g9=ha[g1],g2=ha[g1+1];if(Math.abs(g9.bottom-g2.bottom)>2){g6.push((g9.bottom+g2.top)/2-g7.top)}}}g6.push(g7.bottom-g7.top)}}function cL(g3,g1,g4){if(g3.line==g1){return{map:g3.measure.map,cache:g3.measure.cache}}for(var g2=0;g2<g3.rest.length;g2++){if(g3.rest[g2]==g1){return{map:g3.measure.maps[g2],cache:g3.measure.caches[g2]}}}for(var g5=0;g5<g3.rest.length;g5++){if(bZ(g3.rest[g5])>g4){return{map:g3.measure.maps[g5],cache:g3.measure.caches[g5],before:true}}}}function dk(i,g2){g2=z(g2);var g4=bZ(g2);var g1=i.display.externalMeasured=new bG(i.doc,g2,g4);g1.lineN=g4;var g3=g1.built=fo(i,g1);g1.text=g3.pre;b5(i.display.lineMeasure,g3.pre);return g1}function eE(i,g1,g3,g2){return F(i,ba(i,g1),g3,g2)}function fJ(i,g2){if(g2>=i.display.viewFrom&&g2<i.display.viewTo){return i.display.view[dL(i,g2)]}var g1=i.display.externalMeasured;if(g1&&g2>=g1.lineN&&g2<g1.lineN+g1.size){return g1}}function ba(i,g2){var g3=bZ(g2);var g1=fJ(i,g3);if(g1&&!g1.text){g1=null}else{if(g1&&g1.changes){af(i,g1,g3,fK(i));i.curOp.forceUpdate=true}}if(!g1){g1=dk(i,g2)}var g4=cL(g1,g2,g3);return{line:g2,view:g1,rect:null,map:g4.map,cache:g4.cache,before:g4.before,hasHeights:false}}function F(i,g6,g4,g1,g3){if(g6.before){g4=-1}var g2=g4+(g1||""),g5;if(g6.cache.hasOwnProperty(g2)){g5=g6.cache[g2]}else{if(!g6.rect){g6.rect=g6.view.text.getBoundingClientRect()}if(!g6.hasHeights){cx(i,g6.view,g6.rect);g6.hasHeights=true}g5=l(i,g6,g4,g1);if(!g5.bogus){g6.cache[g2]=g5}}return{left:g5.left,right:g5.right,top:g3?g5.rtop:g5.top,bottom:g3?g5.rbottom:g5.bottom}}var e3={left:0,right:0,top:0,bottom:0};function aO(g2,g1,g8){var g4,g3,g6,g9,g5,ha;for(var g7=0;g7<g2.length;g7+=3){g5=g2[g7];ha=g2[g7+1];if(g1<g5){g3=0;g6=1;g9="left"}else{if(g1<ha){g3=g1-g5;g6=g3+1}else{if(g7==g2.length-3||g1==ha&&g2[g7+3]>g1){g6=ha-g5;g3=g6-1;if(g1>=ha){g9="right"}}}}if(g3!=null){g4=g2[g7+2];if(g5==ha&&g8==(g4.insertLeft?"left":"right")){g9=g8}if(g8=="left"&&g3==0){while(g7&&g2[g7-2]==g2[g7-3]&&g2[g7-1].insertLeft){g4=g2[(g7-=3)+2];g9="left"}}if(g8=="right"&&g3==ha-g5){while(g7<g2.length-3&&g2[g7+3]==g2[g7+4]&&!g2[g7+5].insertLeft){g4=g2[(g7+=3)+2];g9="right"}}break}}return{node:g4,start:g3,end:g6,collapse:g9,coverStart:g5,coverEnd:ha}}function fp(g2,g1){var g4=e3;if(g1=="left"){for(var g3=0;g3<g2.length;g3++){if((g4=g2[g3]).left!=g4.right){break}}}else{for(var g5=g2.length-1;g5>=0;g5--){if((g4=g2[g5]).left!=g4.right){break}}}return g4}function l(g9,hj,hc,g6){var ha=aO(hj.map,hc,g6);var hh=ha.node,g5=ha.start,g4=ha.end,g1=ha.collapse;var g2;if(hh.nodeType==3){for(var g7=0;g7<4;g7++){while(g5&&fV(hj.line.text.charAt(ha.coverStart+g5))){--g5}while(ha.coverStart+g4<ha.coverEnd&&fV(hj.line.text.charAt(ha.coverStart+g4))){++g4}if(d3&&m<9&&g5==0&&g4==ha.coverEnd-ha.coverStart){g2=hh.parentNode.getBoundingClientRect()}else{g2=fp(cD(hh,g5,g4).getClientRects(),g6)}if(g2.left||g2.right||g5==0){break}g4=g5;g5=g5-1;g1="right"}if(d3&&m<11){g2=fj(g9.display.measure,g2)}}else{if(g5>0){g1=g6="right"}var g3;if(g9.options.lineWrapping&&(g3=hh.getClientRects()).length>1){g2=g3[g6=="right"?g3.length-1:0]}else{g2=hh.getBoundingClientRect()}}if(d3&&m<9&&!g5&&(!g2||!g2.left&&!g2.right)){var g8=hh.parentNode.getClientRects()[0];if(g8){g2={left:g8.left,right:g8.left+dW(g9.display),top:g8.top,bottom:g8.bottom}}else{g2=e3}}var hf=g2.top-hj.rect.top,hd=g2.bottom-hj.rect.top;var hl=(hf+hd)/2;var hk=hj.view.measure.heights;var hi=0;for(;hi<hk.length-1;hi++){if(hl<hk[hi]){break}}var hg=hi?hk[hi-1]:0,he=hk[hi];var hb={left:(g1=="right"?g2.right:g2.left)-hj.rect.left,right:(g1=="left"?g2.left:g2.right)-hj.rect.left,top:hg,bottom:he};if(!g2.left&&!g2.right){hb.bogus=true}if(!g9.options.singleCursorHeightPerLine){hb.rtop=hf;hb.rbottom=hd}return hb}function fj(g2,g3){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aP(g2)){return g3}var g1=screen.logicalXDPI/screen.deviceXDPI;var i=screen.logicalYDPI/screen.deviceYDPI;return{left:g3.left*g1,right:g3.right*g1,top:g3.top*i,bottom:g3.bottom*i}}function ay(g2){if(g2.measure){g2.measure.cache={};g2.measure.heights=null;if(g2.rest){for(var g1=0;g1<g2.rest.length;g1++){g2.measure.caches[g1]={}}}}}function aT(g1){g1.display.externalMeasure=null;en(g1.display.lineMeasure);for(var g2=0;g2<g1.display.view.length;g2++){ay(g1.display.view[g2])}}function an(i){aT(i);i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null;if(!i.options.lineWrapping){i.display.maxLineChanged=true}i.display.lineNumChars=null}function cM(){if(dx&&aR){return -(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cK(){if(dx&&aR){return -(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function fm(g8,g5,g7,g2,g4){if(!g4&&g5.widgets){for(var g3=0;g3<g5.widgets.length;++g3){if(g5.widgets[g3].above){var ha=dg(g5.widgets[g3]);g7.top+=ha;g7.bottom+=ha}}}if(g2=="line"){return g7}if(!g2){g2="local"}var g6=bY(g5);if(g2=="local"){g6+=fG(g8.display)}else{g6-=g8.display.viewOffset}if(g2=="page"||g2=="window"){var g1=g8.display.lineSpace.getBoundingClientRect();g6+=g1.top+(g2=="window"?0:cK());var g9=g1.left+(g2=="window"?0:cM());g7.left+=g9;g7.right+=g9}g7.top+=g6;g7.bottom+=g6;return g7}function gW(g1,g4,g2){if(g2=="div"){return g4}var g6=g4.left,g5=g4.top;if(g2=="page"){g6-=cM();g5-=cK()}else{if(g2=="local"||!g2){var g3=g1.display.sizer.getBoundingClientRect();g6+=g3.left;g5+=g3.top}}var i=g1.display.lineSpace.getBoundingClientRect();return{left:g6-i.left,top:g5-i.top}}function c3(i,g4,g3,g2,g1){if(!g2){g2=fM(i.doc,g4.line)}return fm(i,g2,eE(i,g2,g4.ch,g1),g3)}function ee(hb,g9,g2,g6,hd,g7){g6=g6||fM(hb.doc,g9.line);if(!hd){hd=ba(hb,g6)}function g4(hg,hf){var he=F(hb,hd,hg,hf?"right":"left",g7);if(hf){he.left=he.right}else{he.right=he.left}return fm(hb,g6,he,g2)}var g5=a(g6,hb.doc.direction),i=g9.ch,ha=g9.sticky;if(i>=g6.text.length){i=g6.text.length;ha="before"}else{if(i<=0){i=0;ha="after"}}if(!g5){return g4(ha=="before"?i-1:i,ha=="before")}function hc(hh,he,hi){var hf=g5[he],hg=(hf.level%2)!=0;return g4(hi?hh-1:hh,hg!=hi)}var g1=aL(g5,i,ha);var g8=fA;var g3=hc(i,g1,ha=="before");if(g8!=null){g3.other=hc(i,g8,ha!="before")}return g3}function d0(i,g4){var g3=0;g4=gk(i.doc,g4);if(!i.options.lineWrapping){g3=dW(i.display)*g4.ch}var g1=fM(i.doc,g4.line);var g2=bY(g1)+fG(i.display);return{left:g3,right:g3,top:g2,bottom:g2+g1.height}}function gG(i,g1,g3,g2,g5){var g4=Z(i,g1,g3);g4.xRel=g5;if(g2){g4.outside=true}return g4}function gr(g7,g4,g3){var g6=g7.doc;g3+=g7.display.viewOffset;if(g3<0){return gG(g6.first,0,null,true,-1)}var g2=bT(g6,g3),g8=g6.first+g6.size-1;if(g2>g8){return gG(g6.first+g6.size-1,fM(g6,g8).text.length,null,true,1)}if(g4<0){g4=0}var g1=fM(g6,g2);for(;;){var g9=dh(g7,g1,g2,g4,g3);var g5=eW(g1);var i=g5&&g5.find(0,true);if(g5&&(g9.ch>i.from.ch||g9.ch==i.from.ch&&g9.xRel>0)){g2=bZ(g1=i.to.line)}else{return g9}}}function bv(i,g2,g5,g6){var g4=function(g7){return fm(i,g2,F(i,g5,g7),"line")};var g1=g2.text.length;var g3=cE(function(g7){return g4(g7-1).bottom<=g6},g1,0);g1=cE(function(g7){return g4(g7).top>g6},g3,g1);return{begin:g3,end:g1}}function bt(i,g1,g3,g4){var g2=fm(i,g1,F(i,g3,g4),"line").top;return bv(i,g1,g3,g2)}function dh(g4,i,g7,g6,g5){g5-=bY(i);var hh=0,g1=i.text.length;var ha=ba(g4,i);var g3;var hf=a(i,g4.doc.direction);if(hf){if(g4.options.lineWrapping){var he;((he=bv(g4,i,ha,g5),hh=he.begin,g1=he.end,he))}g3=new Z(g7,hh);var hc=ee(g4,g3,"line",i,ha).left;var hd=hc<g6?1:-1;var g8,hb=hc-g6,g2;do{g8=hb;g2=g3;g3=v(g4,i,g3,hd);if(g3==null||g3.ch<hh||g1<=(g3.sticky=="before"?g3.ch-1:g3.ch)){g3=g2;break}hb=ee(g4,g3,"line",i,ha).left-g6}while((hd<0)!=(hb<0)&&(Math.abs(hb)<=Math.abs(g8)));if(Math.abs(hb)>Math.abs(g8)){if((hb<0)==(g8<0)){throw new Error("Broke out of infinite loop in coordsCharInner")}g3=g2}}else{var g9=cE(function(hi){var hj=fm(g4,i,F(g4,ha,hi),"line");if(hj.top>g5){g1=Math.min(hi,g1);return true}else{if(hj.bottom<=g5){return false}else{if(hj.left>g6){return true}else{if(hj.right<g6){return false}else{return(g6-hj.left<hj.right-g6)}}}}},hh,g1);g9=eH(i.text,g9,1);g3=new Z(g7,g9,g9==g1?"before":"after")}var hg=ee(g4,g3,"line",i,ha);if(g5<hg.top||hg.bottom<g5){g3.outside=true}g3.xRel=g6<hg.left?-1:(g6>hg.right?1:0);return g3}var aK;function a3(g3){if(g3.cachedTextHeight!=null){return g3.cachedTextHeight}if(aK==null){aK=gI("pre");for(var g2=0;g2<49;++g2){aK.appendChild(document.createTextNode("x"));aK.appendChild(gI("br"))}aK.appendChild(document.createTextNode("x"))}b5(g3.measure,aK);var g1=aK.offsetHeight/50;if(g1>3){g3.cachedTextHeight=g1}en(g3.measure);return g1||1}function dW(g4){if(g4.cachedCharWidth!=null){return g4.cachedCharWidth}var i=gI("span","xxxxxxxxxx");var g3=gI("pre",[i]);b5(g4.measure,g3);var g2=i.getBoundingClientRect(),g1=(g2.right-g2.left)/10;if(g1>2){g4.cachedCharWidth=g1}return g1||10}function fK(g1){var g6=g1.display,g4={},g3={};var g5=g6.gutters.clientLeft;for(var g7=g6.gutters.firstChild,g2=0;g7;g7=g7.nextSibling,++g2){g4[g1.options.gutters[g2]]=g7.offsetLeft+g7.clientLeft+g5;g3[g1.options.gutters[g2]]=g7.clientWidth}return{fixedPos:ei(g6),gutterTotalWidth:g6.gutters.offsetWidth,gutterLeft:g4,gutterWidth:g3,wrapperWidth:g6.wrapper.clientWidth}}function ei(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function bj(i){var g2=a3(i.display),g1=i.options.lineWrapping;var g3=g1&&Math.max(5,i.display.scroller.clientWidth/dW(i.display)-3);return function(g5){if(f2(i.doc,g5)){return 0}var g4=0;if(g5.widgets){for(var g6=0;g6<g5.widgets.length;g6++){if(g5.widgets[g6].height){g4+=g5.widgets[g6].height}}}if(g1){return g4+(Math.ceil(g5.text.length/g3)||1)*g2}else{return g4+g2}}}function ac(i){var g2=i.doc,g1=bj(i);g2.iter(function(g3){var g4=g1(g3);if(g4!=g3.height){gN(g3,g4)}})}function cF(g9,g4,g1,g2){var g5=g9.display;if(!g1&&O(g4).getAttribute("cm-not-content")=="true"){return null}var g8,g6,i=g5.lineSpace.getBoundingClientRect();try{g8=g4.clientX-i.left;g6=g4.clientY-i.top}catch(g4){return null}var g7=gr(g9,g8,g6),ha;if(g2&&g7.xRel==1&&(ha=fM(g9.doc,g7.line).text).length==g7.ch){var g3=b4(ha,ha.length,g9.options.tabSize)-ha.length;g7=Z(g7.line,Math.max(0,Math.round((g8-fC(g9.display).left)/dW(g9.display))-g3))}return g7}function dL(g1,g4){if(g4>=g1.display.viewTo){return null}g4-=g1.display.viewFrom;if(g4<0){return null}var g2=g1.display.view;for(var g3=0;g3<g2.length;g3++){g4-=g2[g3].size;if(g4<0){return g3}}}function bO(i){i.display.input.showSelection(i.display.input.prepareSelection())}function gi(g8,g1){var g7=g8.doc,g9={};var g6=g9.cursors=document.createDocumentFragment();var g2=g9.selection=document.createDocumentFragment();for(var g4=0;g4<g7.sel.ranges.length;g4++){if(g1===false&&g4==g7.sel.primIndex){continue}var g5=g7.sel.ranges[g4];if(g5.from().line>=g8.display.viewTo||g5.to().line<g8.display.viewFrom){continue}var g3=g5.empty();if(g3||g8.options.showCursorWhenSelecting){C(g8,g5.head,g6)}if(!g3){bP(g8,g5,g2)}}return g9}function C(i,g3,g2){var g5=ee(i,g3,"div",null,null,!i.options.singleCursorHeightPerLine);var g4=g2.appendChild(gI("div","\u00a0","CodeMirror-cursor"));g4.style.left=g5.left+"px";g4.style.top=g5.top+"px";g4.style.height=Math.max(0,g5.bottom-g5.top)*i.options.cursorHeight+"px";if(g5.other){var g1=g2.appendChild(gI("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));g1.style.display="";g1.style.left=g5.other.left+"px";g1.style.top=g5.other.top+"px";g1.style.height=(g5.other.bottom-g5.other.top)*0.85+"px"}}function bP(g4,ha,g5){var hd=g4.display,hh=g4.doc;var i=document.createDocumentFragment();var g9=fC(g4.display),g3=g9.left;var he=Math.max(hd.sizerWidth,dG(g4)-hd.sizer.offsetLeft)-g9.right;function hb(hl,hk,hj,hi){if(hk<0){hk=0}hk=Math.round(hk);hi=Math.round(hi);i.appendChild(gI("div",null,"CodeMirror-selected",("position: absolute; left: "+hl+"px;\n                             top: "+hk+"px; width: "+(hj==null?he-hl:hj)+"px;\n                             height: "+(hi-hk)+"px")))}function g1(hj,hl,ho){var hk=fM(hh,hj);var hm=hk.text.length;var hp,hi;function hn(hr,hq){return c3(g4,Z(hj,hr),"div",hk,hq)}eq(a(hk,hh.direction),hl||0,ho==null?hm:ho,function(hx,hw,hq){var ht=hn(hx,"left"),hu,hv,hs;if(hx==hw){hu=ht;hv=hs=ht.left}else{hu=hn(hw-1,"right");if(hq=="rtl"){var hr=ht;ht=hu;hu=hr}hv=ht.left;hs=hu.right}if(hl==null&&hx==0){hv=g3}if(hu.top-ht.top>3){hb(hv,ht.top,null,ht.bottom);hv=g3;if(ht.bottom<hu.top){hb(hv,ht.bottom,null,hu.top)}}if(ho==null&&hw==hm){hs=he}if(!hp||ht.top<hp.top||ht.top==hp.top&&ht.left<hp.left){hp=ht}if(!hi||hu.bottom>hi.bottom||hu.bottom==hi.bottom&&hu.right>hi.right){hi=hu}if(hv<g3+1){hv=g3}hb(hv,hu.top,hs-hv,hu.bottom)});return{start:hp,end:hi}}var hg=ha.from(),hf=ha.to();if(hg.line==hf.line){g1(hg.line,hg.ch,hf.ch)}else{var g2=fM(hh,hg.line),g7=fM(hh,hf.line);var g6=z(g2)==z(g7);var g8=g1(hg.line,hg.ch,g6?g2.text.length+1:null).end;var hc=g1(hf.line,g6?0:null,hf.ch).start;if(g6){if(g8.top<hc.top-2){hb(g8.right,g8.top,null,g8.bottom);hb(g3,hc.top,hc.left,hc.bottom)}else{hb(g8.right,g8.top,hc.left-g8.right,g8.bottom)}}if(g8.bottom<hc.top){hb(g3,g8.bottom,null,hc.top)}}g5.appendChild(i)}function q(i){if(!i.state.focused){return}var g2=i.display;clearInterval(g2.blinker);var g1=true;g2.cursorDiv.style.visibility="";if(i.options.cursorBlinkRate>0){g2.blinker=setInterval(function(){return g2.cursorDiv.style.visibility=(g1=!g1)?"":"hidden"},i.options.cursorBlinkRate)}else{if(i.options.cursorBlinkRate<0){g2.cursorDiv.style.visibility="hidden"}}}function t(i){if(!i.state.focused){i.display.input.focus();cT(i)}}function ao(i){i.state.delayingBlurEvent=true;setTimeout(function(){if(i.state.delayingBlurEvent){i.state.delayingBlurEvent=false;a0(i)}},100)}function cT(i,g1){if(i.state.delayingBlurEvent){i.state.delayingBlurEvent=false}if(i.options.readOnly=="nocursor"){return}if(!i.state.focused){aI(i,"focus",i,g1);i.state.focused=true;f9(i.display.wrapper,"CodeMirror-focused");if(!i.curOp&&i.display.selForContextMenu!=i.doc.sel){i.display.input.reset();if(di){setTimeout(function(){return i.display.input.reset(true)},20)}}i.display.input.receivedFocus()}q(i)}function a0(i,g1){if(i.state.delayingBlurEvent){return}if(i.state.focused){aI(i,"blur",i,g1);i.state.focused=false;h(i.display.wrapper,"CodeMirror-focused")}clearInterval(i.display.blinker);setTimeout(function(){if(!i.state.focused){i.display.shift=false}},150)}function be(g8){var g6=g8.display;var g2=g6.lineDiv.offsetTop;for(var g3=0;g3<g6.view.length;g3++){var g9=g6.view[g3],ha=(void 0);if(g9.hidden){continue}if(d3&&m<8){var g5=g9.node.offsetTop+g9.node.offsetHeight;ha=g5-g2;g2=g5}else{var g4=g9.node.getBoundingClientRect();ha=g4.bottom-g4.top}var g7=g9.line.height-ha;if(ha<2){ha=a3(g6)}if(g7>0.001||g7<-0.001){gN(g9.line,ha);cp(g9.line);if(g9.rest){for(var g1=0;g1<g9.rest.length;g1++){cp(g9.rest[g1])}}}}}function cp(g1){if(g1.widgets){for(var g2=0;g2<g1.widgets.length;++g2){g1.widgets[g2].height=g1.widgets[g2].node.parentNode.offsetHeight}}}function ck(g3,g7,g2){var g4=g2&&g2.top!=null?Math.max(0,g2.top):g3.scroller.scrollTop;g4=Math.floor(g4-fG(g3));var i=g2&&g2.bottom!=null?g2.bottom:g4+g3.wrapper.clientHeight;var g5=bT(g7,g4),g6=bT(g7,i);if(g2&&g2.ensure){var g1=g2.ensure.from.line,g8=g2.ensure.to.line;if(g1<g5){g5=g1;g6=bT(g7,bY(fM(g7,g1))+g3.wrapper.clientHeight)}else{if(Math.min(g8,g7.lastLine())>=g6){g5=bT(g7,bY(fM(g7,g8))-g3.wrapper.clientHeight);g6=g8}}}return{from:g5,to:Math.max(g6,g5+1)}}function e7(g9){var g7=g9.display,g8=g7.view;if(!g7.alignWidgets&&(!g7.gutters.firstChild||!g9.options.fixedGutter)){return}var g5=ei(g7)-g7.scroller.scrollLeft+g9.doc.scrollLeft;var g1=g7.gutters.offsetWidth,g2=g5+"px";for(var g4=0;g4<g8.length;g4++){if(!g8[g4].hidden){if(g9.options.fixedGutter){if(g8[g4].gutter){g8[g4].gutter.style.left=g2}if(g8[g4].gutterBackground){g8[g4].gutterBackground.style.left=g2}}var g6=g8[g4].alignable;if(g6){for(var g3=0;g3<g6.length;g3++){g6[g3].style.left=g2}}}}if(g9.options.fixedGutter){g7.gutters.style.left=(g5+g1)+"px"}}function er(i){if(!i.options.lineNumbers){return false}var g5=i.doc,g1=eS(i.options,g5.first+g5.size-1),g4=i.display;if(g1.length!=g4.lineNumChars){var g6=g4.measure.appendChild(gI("div",[gI("div",g1)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var g2=g6.firstChild.offsetWidth,g3=g6.offsetWidth-g2;g4.lineGutter.style.width="";g4.lineNumInnerWidth=Math.max(g2,g4.lineGutter.offsetWidth-g3)+1;g4.lineNumWidth=g4.lineNumInnerWidth+g3;g4.lineNumChars=g4.lineNumInnerWidth?g1.length:-1;g4.lineGutter.style.width=g4.lineNumWidth+"px";dm(i);return true}return false}function es(g1,g3){if(aW(g1,"scrollCursorIntoView")){return}var g5=g1.display,g2=g5.sizer.getBoundingClientRect(),i=null;if(g3.top+g2.top<0){i=true}else{if(g3.bottom+g2.top>(window.innerHeight||document.documentElement.clientHeight)){i=false}}if(i!=null&&!f0){var g4=gI("div","\u200b",null,("position: absolute;\n                         top: "+(g3.top-g5.viewOffset-fG(g1.display))+"px;\n                         height: "+(g3.bottom-g3.top+db(g1)+g5.barHeight)+"px;\n                         left: "+(g3.left)+"px; width: "+(Math.max(2,g3.right-g3.left))+"px;"));g1.display.lineSpace.appendChild(g4);g4.scrollIntoView(i);g1.display.lineSpace.removeChild(g4)}}function G(hb,g8,g4,g3){if(g3==null){g3=0}var g9;for(var g5=0;g5<5;g5++){var g6=false;var ha=ee(hb,g8);var i=!g4||g4==g8?ha:ee(hb,g4);g9={left:Math.min(ha.left,i.left),top:Math.min(ha.top,i.top)-g3,right:Math.max(ha.left,i.left),bottom:Math.max(ha.bottom,i.bottom)+g3};var g2=K(hb,g9);var g7=hb.doc.scrollTop,g1=hb.doc.scrollLeft;if(g2.scrollTop!=null){B(hb,g2.scrollTop);if(Math.abs(hb.doc.scrollTop-g7)>1){g6=true}}if(g2.scrollLeft!=null){bQ(hb,g2.scrollLeft);if(Math.abs(hb.doc.scrollLeft-g1)>1){g6=true}}if(!g6){break}}return g9}function H(i,g1){var g2=K(i,g1);if(g2.scrollTop!=null){B(i,g2.scrollTop)}if(g2.scrollLeft!=null){bQ(i,g2.scrollLeft)}}function K(g9,g8){var g6=g9.display,g4=a3(g9.display);if(g8.top<0){g8.top=0}var g2=g9.curOp&&g9.curOp.scrollTop!=null?g9.curOp.scrollTop:g6.scroller.scrollTop;var hb=dd(g9),hd={};if(g8.bottom-g8.top>hb){g8.bottom=g8.top+hb}var g1=g9.doc.height+bU(g6);var i=g8.top<g4,g5=g8.bottom>g1-g4;if(g8.top<g2){hd.scrollTop=i?0:g8.top}else{if(g8.bottom>g2+hb){var g7=Math.min(g8.top,(g5?g1:g8.bottom)-hb);if(g7!=g2){hd.scrollTop=g7}}}var hc=g9.curOp&&g9.curOp.scrollLeft!=null?g9.curOp.scrollLeft:g6.scroller.scrollLeft;var ha=dG(g9)-(g9.options.fixedGutter?g6.gutters.offsetWidth:0);var g3=g8.right-g8.left>ha;if(g3){g8.right=g8.left+ha}if(g8.left<10){hd.scrollLeft=0}else{if(g8.left<hc){hd.scrollLeft=Math.max(0,g8.left-(g3?0:10))}else{if(g8.right>ha+hc-3){hd.scrollLeft=g8.right+(g3?0:10)-ha}}}return hd}function c0(i,g1){if(g1==null){return}gb(i);i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+g1}function ge(i){gb(i);var g1=i.getCursor(),g3=g1,g2=g1;if(!i.options.lineWrapping){g3=g1.ch?Z(g1.line,g1.ch-1):g1;g2=Z(g1.line,g1.ch+1)}i.curOp.scrollToPos={from:g3,to:g2,margin:i.options.cursorScrollMargin}}function fh(g1,i,g2){if(i!=null||g2!=null){gb(g1)}if(i!=null){g1.curOp.scrollLeft=i}if(g2!=null){g1.curOp.scrollTop=g2}}function cs(i,g1){gb(i);i.curOp.scrollToPos=g1}function gb(i){var g1=i.curOp.scrollToPos;if(g1){i.curOp.scrollToPos=null;var g3=d0(i,g1.from),g2=d0(i,g1.to);b2(i,g3,g2,g1.margin)}}function b2(i,g4,g3,g2){var g1=K(i,{left:Math.min(g4.left,g3.left),top:Math.min(g4.top,g3.top)-g2,right:Math.max(g4.right,g3.right),bottom:Math.max(g4.bottom,g3.bottom)+g2});fh(i,g1.scrollLeft,g1.scrollTop)}function B(i,g1){if(Math.abs(i.doc.scrollTop-g1)<2){return}if(!cG){ed(i,{top:g1})}R(i,g1,true);if(cG){ed(i)}eB(i,100)}function R(i,g2,g1){g2=Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,g2);if(i.display.scroller.scrollTop==g2&&!g1){return}i.doc.scrollTop=g2;i.display.scrollbars.setScrollTop(g2);if(i.display.scroller.scrollTop!=g2){i.display.scroller.scrollTop=g2}}function bQ(i,g3,g2,g1){g3=Math.min(g3,i.display.scroller.scrollWidth-i.display.scroller.clientWidth);if((g2?g3==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-g3)<2)&&!g1){return}i.doc.scrollLeft=g3;e7(i);if(i.display.scroller.scrollLeft!=g3){i.display.scroller.scrollLeft=g3}i.display.scrollbars.setScrollLeft(g3)}function dT(i){var g3=i.display,g2=g3.gutters.offsetWidth;var g1=Math.round(i.doc.height+bU(i.display));return{clientHeight:g3.scroller.clientHeight,viewHeight:g3.wrapper.clientHeight,scrollWidth:g3.scroller.scrollWidth,clientWidth:g3.scroller.clientWidth,viewWidth:g3.wrapper.clientWidth,barLeft:i.options.fixedGutter?g2:0,docHeight:g1,scrollHeight:g1+db(i)+g3.barHeight,nativeBarWidth:g3.nativeBarWidth,gutterWidth:g2}}var dF=function(g2,g1,i){this.cm=i;var g3=this.vert=gI("div",[gI("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var g4=this.horiz=gI("div",[gI("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");g2(g3);g2(g4);ca(g3,"scroll",function(){if(g3.clientHeight){g1(g3.scrollTop,"vertical")}});ca(g4,"scroll",function(){if(g4.clientWidth){g1(g4.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(d3&&m<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};dF.prototype.update=function(g3){var g4=g3.scrollWidth>g3.clientWidth+1;var g2=g3.scrollHeight>g3.clientHeight+1;var g5=g3.nativeBarWidth;if(g2){this.vert.style.display="block";this.vert.style.bottom=g4?g5+"px":"0";var g1=g3.viewHeight-(g4?g5:0);this.vert.firstChild.style.height=Math.max(0,g3.scrollHeight-g3.clientHeight+g1)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(g4){this.horiz.style.display="block";this.horiz.style.right=g2?g5+"px":"0";this.horiz.style.left=g3.barLeft+"px";var i=g3.viewWidth-g3.barLeft-(g2?g5:0);this.horiz.firstChild.style.width=Math.max(0,g3.scrollWidth-g3.clientWidth+i)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&g3.clientHeight>0){if(g5==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:g2?g5:0,bottom:g4?g5:0}};dF.prototype.setScrollLeft=function(i){if(this.horiz.scrollLeft!=i){this.horiz.scrollLeft=i}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};dF.prototype.setScrollTop=function(i){if(this.vert.scrollTop!=i){this.vert.scrollTop=i}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};dF.prototype.zeroWidthHack=function(){var i=cl&&!dq?"12px":"18px";this.horiz.style.height=this.vert.style.width=i;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new g0;this.disableVert=new g0};dF.prototype.enableZeroWidthBar=function(g2,i,g1){g2.style.pointerEvents="auto";function g3(){var g5=g2.getBoundingClientRect();var g4=g1=="vert"?document.elementFromPoint(g5.right-1,(g5.top+g5.bottom)/2):document.elementFromPoint((g5.right+g5.left)/2,g5.bottom-1);if(g4!=g2){g2.style.pointerEvents="none"}else{i.set(1000,g3)}}i.set(1000,g3)};dF.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz);i.removeChild(this.vert)};var fB=function(){};fB.prototype.update=function(){return{bottom:0,right:0}};fB.prototype.setScrollLeft=function(){};fB.prototype.setScrollTop=function(){};fB.prototype.clear=function(){};function fv(g3,g5){if(!g5){g5=dT(g3)}var g2=g3.display.barWidth,g1=g3.display.barHeight;aZ(g3,g5);for(var g4=0;g4<4&&g2!=g3.display.barWidth||g1!=g3.display.barHeight;g4++){if(g2!=g3.display.barWidth&&g3.options.lineWrapping){be(g3)}aZ(g3,dT(g3));g2=g3.display.barWidth;g1=g3.display.barHeight}}function aZ(i,g1){var g3=i.display;var g2=g3.scrollbars.update(g1);g3.sizer.style.paddingRight=(g3.barWidth=g2.right)+"px";g3.sizer.style.paddingBottom=(g3.barHeight=g2.bottom)+"px";g3.heightForcer.style.borderBottom=g2.bottom+"px solid transparent";if(g2.right&&g2.bottom){g3.scrollbarFiller.style.display="block";g3.scrollbarFiller.style.height=g2.bottom+"px";g3.scrollbarFiller.style.width=g2.right+"px"}else{g3.scrollbarFiller.style.display=""}if(g2.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter){g3.gutterFiller.style.display="block";g3.gutterFiller.style.height=g2.bottom+"px";g3.gutterFiller.style.width=g1.gutterWidth+"px"}else{g3.gutterFiller.style.display=""}}var bs={"native":dF,"null":fB};function aH(i){if(i.display.scrollbars){i.display.scrollbars.clear();if(i.display.scrollbars.addClass){h(i.display.wrapper,i.display.scrollbars.addClass)}}i.display.scrollbars=new bs[i.options.scrollbarStyle](function(g1){i.display.wrapper.insertBefore(g1,i.display.scrollbarFiller);ca(g1,"mousedown",function(){if(i.state.focused){setTimeout(function(){return i.display.input.focus()},0)}});g1.setAttribute("cm-not-content","true")},function(g2,g1){if(g1=="horizontal"){bQ(i,g2)}else{B(i,g2)}},i);if(i.display.scrollbars.addClass){f9(i.display.wrapper,i.display.scrollbars.addClass)}}var ew=0;function c2(i){i.curOp={cm:i,viewChanged:false,startHeight:i.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++ew};eZ(i.curOp)}function aq(i){var g1=i.curOp;cb(g1,function(g3){for(var g2=0;g2<g3.ops.length;g2++){g3.ops[g2].cm.curOp=null}c4(g3)})}function c4(g6){var g2=g6.ops;for(var g1=0;g1<g2.length;g1++){cj(g2[g1])}for(var g7=0;g7<g2.length;g7++){au(g2[g7])}for(var g5=0;g5<g2.length;g5++){cf(g2[g5])}for(var g4=0;g4<g2.length;g4++){at(g2[g4])}for(var g3=0;g3<g2.length;g3++){fx(g2[g3])}}function cj(g2){var i=g2.cm,g1=i.display;M(i);if(g2.updateMaxLine){f(i)}g2.mustUpdate=g2.viewChanged||g2.forceUpdate||g2.scrollTop!=null||g2.scrollToPos&&(g2.scrollToPos.from.line<g1.viewFrom||g2.scrollToPos.to.line>=g1.viewTo)||g1.maxLineChanged&&i.options.lineWrapping;g2.update=g2.mustUpdate&&new aN(i,g2.mustUpdate&&{top:g2.scrollTop,ensure:g2.scrollToPos},g2.forceUpdate)}function au(i){i.updatedDisplay=i.mustUpdate&&E(i.cm,i.update)}function cf(g2){var i=g2.cm,g1=i.display;if(g2.updatedDisplay){be(i)}g2.barMeasure=dT(i);if(g1.maxLineChanged&&!i.options.lineWrapping){g2.adjustWidthTo=eE(i,g1.maxLine,g1.maxLine.text.length).left+3;i.display.sizerWidth=g2.adjustWidthTo;g2.barMeasure.scrollWidth=Math.max(g1.scroller.clientWidth,g1.sizer.offsetLeft+g2.adjustWidthTo+db(i)+i.display.barWidth);g2.maxScrollLeft=Math.max(0,g1.sizer.offsetLeft+g2.adjustWidthTo-dG(i))}if(g2.updatedDisplay||g2.selectionChanged){g2.preparedSelection=g1.input.prepareSelection(g2.focus)}}function at(g2){var i=g2.cm;if(g2.adjustWidthTo!=null){i.display.sizer.style.minWidth=g2.adjustWidthTo+"px";if(g2.maxScrollLeft<i.doc.scrollLeft){bQ(i,Math.min(i.display.scroller.scrollLeft,g2.maxScrollLeft),true)}i.display.maxLineChanged=false}var g1=g2.focus&&g2.focus==d7()&&(!document.hasFocus||document.hasFocus());if(g2.preparedSelection){i.display.input.showSelection(g2.preparedSelection,g1)}if(g2.updatedDisplay||g2.startHeight!=i.doc.height){fv(i,g2.barMeasure)}if(g2.updatedDisplay){dS(i,g2.barMeasure)}if(g2.selectionChanged){q(i)}if(i.state.focused&&g2.updateInput){i.display.input.reset(g2.typing)}if(g1){t(g2.cm)}}function fx(g4){var g9=g4.cm,g6=g9.display,g8=g9.doc;if(g4.updatedDisplay){cz(g9,g4.update)}if(g6.wheelStartX!=null&&(g4.scrollTop!=null||g4.scrollLeft!=null||g4.scrollToPos)){g6.wheelStartX=g6.wheelStartY=null}if(g4.scrollTop!=null){R(g9,g4.scrollTop,g4.forceScroll)}if(g4.scrollLeft!=null){bQ(g9,g4.scrollLeft,true,true)}if(g4.scrollToPos){var g7=G(g9,gk(g8,g4.scrollToPos.from),gk(g8,g4.scrollToPos.to),g4.scrollToPos.margin);es(g9,g7)}var g5=g4.maybeHiddenMarkers,g1=g4.maybeUnhiddenMarkers;if(g5){for(var g3=0;g3<g5.length;++g3){if(!g5[g3].lines.length){aI(g5[g3],"hide")}}}if(g1){for(var g2=0;g2<g1.length;++g2){if(g1[g2].lines.length){aI(g1[g2],"unhide")}}}if(g6.wrapper.offsetHeight){g8.scrollTop=g9.display.scroller.scrollTop}if(g4.changeObjs){aI(g9,"changes",g9,g4.changeObjs)}if(g4.update){g4.update.finish()}}function c5(i,g1){if(i.curOp){return g1()}c2(i);try{return g1()}finally{aq(i)}}function dj(i,g1){return function(){if(i.curOp){return g1.apply(i,arguments)}c2(i);try{return g1.apply(i,arguments)}finally{aq(i)}}}function dt(i){return function(){if(this.curOp){return i.apply(this,arguments)}c2(this);try{return i.apply(this,arguments)}finally{aq(this)}}}function cW(i){return function(){var g1=this.cm;if(!g1||g1.curOp){return i.apply(this,arguments)}c2(g1);try{return i.apply(this,arguments)}finally{aq(g1)}}}function al(g8,g6,g7,g9){if(g6==null){g6=g8.doc.first}if(g7==null){g7=g8.doc.first+g8.doc.size}if(!g9){g9=0}var g3=g8.display;if(g9&&g7<g3.viewTo&&(g3.updateLineNumbers==null||g3.updateLineNumbers>g6)){g3.updateLineNumbers=g6}g8.curOp.viewChanged=true;if(g6>=g3.viewTo){if(bc&&a1(g8.doc,g6)<g3.viewTo){eX(g8)}}else{if(g7<=g3.viewFrom){if(bc&&ep(g8.doc,g7+g9)>g3.viewFrom){eX(g8)}else{g3.viewFrom+=g9;g3.viewTo+=g9}}else{if(g6<=g3.viewFrom&&g7>=g3.viewTo){eX(g8)}else{if(g6<=g3.viewFrom){var g5=dz(g8,g7,g7+g9,1);if(g5){g3.view=g3.view.slice(g5.index);g3.viewFrom=g5.lineN;g3.viewTo+=g9}else{eX(g8)}}else{if(g7>=g3.viewTo){var g1=dz(g8,g6,g6,-1);if(g1){g3.view=g3.view.slice(0,g1.index);g3.viewTo=g1.lineN}else{eX(g8)}}else{var g4=dz(g8,g6,g6,-1);var g2=dz(g8,g7,g7+g9,1);if(g4&&g2){g3.view=g3.view.slice(0,g4.index).concat(fs(g8,g4.lineN,g2.lineN)).concat(g3.view.slice(g2.index));g3.viewTo+=g9}else{eX(g8)}}}}}}var i=g3.externalMeasured;if(i){if(g7<i.lineN){i.lineN+=g9}else{if(g6<i.lineN+i.size){g3.externalMeasured=null}}}}function U(g1,g2,g5){g1.curOp.viewChanged=true;var g6=g1.display,g4=g1.display.externalMeasured;if(g4&&g2>=g4.lineN&&g2<g4.lineN+g4.size){g6.externalMeasured=null}if(g2<g6.viewFrom||g2>=g6.viewTo){return}var g3=g6.view[dL(g1,g2)];if(g3.node==null){return}var i=g3.changes||(g3.changes=[]);if(dD(i,g5)==-1){i.push(g5)}}function eX(i){i.display.viewFrom=i.display.viewTo=i.doc.first;i.display.view=[];i.display.viewOffset=0}function dz(g9,g3,g5,g2){var g6=dL(g9,g3),g8,g7=g9.display.view;if(!bc||g5==g9.doc.first+g9.doc.size){return{index:g6,lineN:g5}}var g1=g9.display.viewFrom;for(var g4=0;g4<g6;g4++){g1+=g7[g4].size}if(g1!=g3){if(g2>0){if(g6==g7.length-1){return null}g8=(g1+g7[g6].size)-g3;g6++}else{g8=g1-g3}g3+=g8;g5+=g8}while(a1(g9.doc,g5)!=g5){if(g6==(g2<0?0:g7.length-1)){return null}g5+=g2*g7[g6-(g2<0?1:0)].size;g6+=g2}return{index:g6,lineN:g5}}function da(i,g4,g3){var g2=i.display,g1=g2.view;if(g1.length==0||g4>=g2.viewTo||g3<=g2.viewFrom){g2.view=fs(i,g4,g3);g2.viewFrom=g4}else{if(g2.viewFrom>g4){g2.view=fs(i,g4,g2.viewFrom).concat(g2.view)}else{if(g2.viewFrom<g4){g2.view=g2.view.slice(dL(i,g4))}}g2.viewFrom=g4;if(g2.viewTo<g3){g2.view=g2.view.concat(fs(i,g2.viewTo,g3))}else{if(g2.viewTo>g3){g2.view=g2.view.slice(0,dL(i,g3))}}}g2.viewTo=g3}function dw(g1){var g2=g1.display.view,g5=0;for(var g4=0;g4<g2.length;g4++){var g3=g2[g4];if(!g3.hidden&&(!g3.node||g3.changes)){++g5}}return g5}function eB(i,g1){if(i.doc.mode.startState&&i.doc.frontier<i.display.viewTo){i.state.highlight.set(g1,cN(c9,i))}}function c9(i){var g4=i.doc;if(g4.frontier<g4.first){g4.frontier=g4.first}if(g4.frontier>=i.display.viewTo){return}var g2=+new Date+i.options.workTime;var g3=ch(g4.mode,dV(i,g4.frontier));var g1=[];g4.iter(g4.frontier,Math.min(g4.first+g4.size,i.display.viewTo+500),function(g5){if(g4.frontier>=i.display.viewFrom){var g8=g5.styles,hc=g5.text.length>i.options.maxHighlightLength;var ha=f6(i,g5,hc?ch(g4.mode,g3):g3,true);g5.styles=ha.styles;var g7=g5.styleClasses,g9=ha.classes;if(g9){g5.styleClasses=g9}else{if(g7){g5.styleClasses=null}}var hb=!g8||g8.length!=g5.styles.length||g7!=g9&&(!g7||!g9||g7.bgClass!=g9.bgClass||g7.textClass!=g9.textClass);for(var g6=0;!hb&&g6<g8.length;++g6){hb=g8[g6]!=g5.styles[g6]}if(hb){g1.push(g4.frontier)}g5.stateAfter=hc?g3:ch(g4.mode,g3)}else{if(g5.text.length<=i.options.maxHighlightLength){dR(i,g5.text,g3)}g5.stateAfter=g4.frontier%5==0?ch(g4.mode,g3):null}++g4.frontier;if(+new Date>g2){eB(i,i.options.workDelay);return true}});if(g1.length){c5(i,function(){for(var g5=0;g5<g1.length;g5++){U(i,g1[g5],"text")}})}}var aN=function(g1,i,g2){var g3=g1.display;this.viewport=i;this.visible=ck(g3,g1.doc,i);this.editorIsHidden=!g3.wrapper.offsetWidth;this.wrapperHeight=g3.wrapper.clientHeight;this.wrapperWidth=g3.wrapper.clientWidth;this.oldDisplayWidth=dG(g1);this.force=g2;this.dims=fK(g1);this.events=[]};aN.prototype.signal=function(g1,i){if(fR(g1,i)){this.events.push(arguments)}};aN.prototype.finish=function(){var g2=this;for(var g1=0;g1<this.events.length;g1++){aI.apply(null,g2.events[g1])}};function M(i){var g1=i.display;if(!g1.scrollbarsClipped&&g1.scroller.offsetWidth){g1.nativeBarWidth=g1.scroller.offsetWidth-g1.scroller.clientWidth;g1.heightForcer.style.height=db(i)+"px";g1.sizer.style.marginBottom=-g1.nativeBarWidth+"px";g1.sizer.style.borderRightWidth=db(i)+"px";g1.scrollbarsClipped=true}}function bu(g1){if(g1.hasFocus()){return null}var g3=d7();if(!g3||!gS(g1.display.lineDiv,g3)){return null}var i={activeElt:g3};if(window.getSelection){var g2=window.getSelection();if(g2.anchorNode&&g2.extend&&gS(g1.display.lineDiv,g2.anchorNode)){i.anchorNode=g2.anchorNode;i.anchorOffset=g2.anchorOffset;i.focusNode=g2.focusNode;i.focusOffset=g2.focusOffset}}return i}function j(g1){if(!g1||!g1.activeElt||g1.activeElt==d7()){return}g1.activeElt.focus();if(g1.anchorNode&&gS(document.body,g1.anchorNode)&&gS(document.body,g1.focusNode)){var g2=window.getSelection(),i=document.createRange();i.setEnd(g1.anchorNode,g1.anchorOffset);i.collapse(false);g2.removeAllRanges();g2.addRange(i);g2.extend(g1.focusNode,g1.focusOffset)}}function E(g9,g3){var g4=g9.display,g8=g9.doc;if(g3.editorIsHidden){eX(g9);return false}if(!g3.force&&g3.visible.from>=g4.viewFrom&&g3.visible.to<=g4.viewTo&&(g4.updateLineNumbers==null||g4.updateLineNumbers>=g4.viewTo)&&g4.renderedView==g4.view&&dw(g9)==0){return false}if(er(g9)){eX(g9);g3.dims=fK(g9)}var g2=g8.first+g8.size;var g6=Math.max(g3.visible.from-g9.options.viewportMargin,g8.first);var g7=Math.min(g2,g3.visible.to+g9.options.viewportMargin);if(g4.viewFrom<g6&&g6-g4.viewFrom<20){g6=Math.max(g8.first,g4.viewFrom)}if(g4.viewTo>g7&&g4.viewTo-g7<20){g7=Math.min(g2,g4.viewTo)}if(bc){g6=a1(g9.doc,g6);g7=ep(g9.doc,g7)}var g1=g6!=g4.viewFrom||g7!=g4.viewTo||g4.lastWrapHeight!=g3.wrapperHeight||g4.lastWrapWidth!=g3.wrapperWidth;da(g9,g6,g7);g4.viewOffset=bY(fM(g9.doc,g4.viewFrom));g9.display.mover.style.top=g4.viewOffset+"px";var i=dw(g9);if(!g1&&i==0&&!g3.force&&g4.renderedView==g4.view&&(g4.updateLineNumbers==null||g4.updateLineNumbers>=g4.viewTo)){return false}var g5=bu(g9);if(i>4){g4.lineDiv.style.display="none"}cC(g9,g4.updateLineNumbers,g3.dims);if(i>4){g4.lineDiv.style.display=""}g4.renderedView=g4.view;j(g5);en(g4.cursorDiv);en(g4.selectionDiv);g4.gutters.style.height=g4.sizer.style.minHeight=0;if(g1){g4.lastWrapHeight=g3.wrapperHeight;g4.lastWrapWidth=g3.wrapperWidth;eB(g9,400)}g4.updateLineNumbers=null;return true}function cz(g1,g4){var i=g4.viewport;for(var g3=true;;g3=false){if(!g3||!g1.options.lineWrapping||g4.oldDisplayWidth==dG(g1)){if(i&&i.top!=null){i={top:Math.min(g1.doc.height+bU(g1.display)-dd(g1),i.top)}}g4.visible=ck(g1.display,g1.doc,i);if(g4.visible.from>=g1.display.viewFrom&&g4.visible.to<=g1.display.viewTo){break}}if(!E(g1,g4)){break}be(g1);var g2=dT(g1);bO(g1);fv(g1,g2);dS(g1,g2)}g4.signal(g1,"update",g1);if(g1.display.viewFrom!=g1.display.reportedViewFrom||g1.display.viewTo!=g1.display.reportedViewTo){g4.signal(g1,"viewportChange",g1,g1.display.viewFrom,g1.display.viewTo);g1.display.reportedViewFrom=g1.display.viewFrom;g1.display.reportedViewTo=g1.display.viewTo}}function ed(g1,i){var g3=new aN(g1,i);if(E(g1,g3)){be(g1);cz(g1,g3);var g2=dT(g1);bO(g1);fv(g1,g2);dS(g1,g2);g3.finish()}}function cC(hc,g3,hb){var g8=hc.display,he=hc.options.lineNumbers;var g1=g8.lineDiv,hd=g1.firstChild;function g7(hf){var i=hf.nextSibling;if(di&&cl&&hc.display.currentWheelTarget==hf){hf.style.display="none"}else{hf.parentNode.removeChild(hf)}return i}var g9=g8.view,g6=g8.viewFrom;for(var g4=0;g4<g9.length;g4++){var g5=g9[g4];if(g5.hidden){}else{if(!g5.node||g5.node.parentNode!=g1){var g2=aJ(hc,g5,g6,hb);g1.insertBefore(g2,hd)}else{while(hd!=g5.node){hd=g7(hd)}var ha=he&&g3!=null&&g3<=g6&&g5.lineNumber;if(g5.changes){if(dD(g5.changes,"gutter")>-1){ha=false}af(hc,g5,g6,hb)}if(ha){en(g5.lineNumber);g5.lineNumber.appendChild(document.createTextNode(eS(hc.options,g6)))}hd=g5.node.nextSibling}}g6+=g5.size}while(hd){hd=g7(hd)}}function dm(i){var g1=i.display.gutters.offsetWidth;i.display.sizer.style.marginLeft=g1+"px"}function dS(i,g1){i.display.sizer.style.minHeight=g1.docHeight+"px";i.display.heightForcer.style.top=g1.docHeight+"px";i.display.gutters.style.height=(g1.docHeight+i.display.barHeight+db(i))+"px"}function ez(g1){var g2=g1.display.gutters,g6=g1.options.gutters;en(g2);var g3=0;for(;g3<g6.length;++g3){var g4=g6[g3];var g5=g2.appendChild(gI("div",null,"CodeMirror-gutter "+g4));if(g4=="CodeMirror-linenumbers"){g1.display.lineGutter=g5;g5.style.width=(g1.display.lineNumWidth||1)+"px"}}g2.style.display=g3?"":"none";dm(g1)}function cu(i){var g1=dD(i.gutters,"CodeMirror-linenumbers");if(g1==-1&&i.lineNumbers){i.gutters=i.gutters.concat(["CodeMirror-linenumbers"])}else{if(g1>-1&&!i.lineNumbers){i.gutters=i.gutters.slice(0);i.gutters.splice(g1,1)}}}var fT=0;var cw=null;if(d3){cw=-0.53}else{if(cG){cw=15}else{if(dx){cw=-0.7}else{if(aG){cw=-1/3}}}}function c8(g2){var g1=g2.wheelDeltaX,i=g2.wheelDeltaY;if(g1==null&&g2.detail&&g2.axis==g2.HORIZONTAL_AXIS){g1=g2.detail}if(i==null&&g2.detail&&g2.axis==g2.VERTICAL_AXIS){i=g2.detail}else{if(i==null){i=g2.wheelDelta}}return{x:g1,y:i}}function aD(i){var g1=c8(i);g1.x*=cw;g1.y*=cw;return g1}function c(hb,g5){var hd=c8(g5),hf=hd.x,he=hd.y;var g7=hb.display,ha=g7.scroller;var g4=ha.scrollWidth>ha.clientWidth;var g3=ha.scrollHeight>ha.clientHeight;if(!(hf&&g4||he&&g3)){return}if(he&&cl&&di){outer:for(var hc=g5.target,g9=g7.view;hc!=ha;hc=hc.parentNode){for(var g2=0;g2<g9.length;g2++){if(g9[g2].node==hc){hb.display.currentWheelTarget=hc;break outer}}}}if(hf&&!cG&&!eo&&cw!=null){if(he&&g3){B(hb,Math.max(0,ha.scrollTop+he*cw))}bQ(hb,Math.max(0,ha.scrollLeft+hf*cw));if(!he||(he&&g3)){cY(g5)}g7.wheelStartX=null;return}if(he&&cw!=null){var g1=he*cw;var g8=hb.doc.scrollTop,g6=g8+g7.wrapper.clientHeight;if(g1<0){g8=Math.max(0,g8+g1-50)}else{g6=Math.min(hb.doc.height,g6+g1+50)}ed(hb,{top:g8,bottom:g6})}if(fT<20){if(g7.wheelStartX==null){g7.wheelStartX=ha.scrollLeft;g7.wheelStartY=ha.scrollTop;g7.wheelDX=hf;g7.wheelDY=he;setTimeout(function(){if(g7.wheelStartX==null){return}var i=ha.scrollLeft-g7.wheelStartX;var hh=ha.scrollTop-g7.wheelStartY;var hg=(hh&&g7.wheelDY&&hh/g7.wheelDY)||(i&&g7.wheelDX&&i/g7.wheelDX);g7.wheelStartX=g7.wheelStartY=null;if(!hg){return}cw=(cw*fT+hg)/(fT+1);++fT},200)}else{g7.wheelDX+=hf;g7.wheelDY+=he}}}var gH=function(i,g1){this.ranges=i;this.primIndex=g1};gH.prototype.primary=function(){return this.ranges[this.primIndex]};gH.prototype.equals=function(g1){var g5=this;if(g1==this){return true}if(g1.primIndex!=this.primIndex||g1.ranges.length!=this.ranges.length){return false}for(var g3=0;g3<this.ranges.length;g3++){var g2=g5.ranges[g3],g4=g1.ranges[g3];if(!aa(g2.anchor,g4.anchor)||!aa(g2.head,g4.head)){return false}}return true};gH.prototype.deepCopy=function(){var g3=this;var g1=[];for(var g2=0;g2<this.ranges.length;g2++){g1[g2]=new eh(cy(g3.ranges[g2].anchor),cy(g3.ranges[g2].head))}return new gH(g1,this.primIndex)};gH.prototype.somethingSelected=function(){var g2=this;for(var g1=0;g1<this.ranges.length;g1++){if(!g2.ranges[g1].empty()){return true}}return false};gH.prototype.contains=function(g5,g1){var g4=this;if(!g1){g1=g5}for(var g3=0;g3<this.ranges.length;g3++){var g2=g4.ranges[g3];if(cv(g1,g2.from())>=0&&cv(g5,g2.to())<=0){return g3}}return -1};var eh=function(i,g1){this.anchor=i;this.head=g1};eh.prototype.from=function(){return av(this.anchor,this.head)};eh.prototype.to=function(){return bJ(this.anchor,this.head)};eh.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function cO(g1,g8){var g3=g1[g8];g1.sort(function(ha,i){return cv(ha.from(),i.from())});g8=dD(g1,g3);for(var g5=1;g5<g1.length;g5++){var g9=g1[g5],g2=g1[g5-1];if(cv(g2.to(),g9.from())>=0){var g6=av(g2.from(),g9.from()),g7=bJ(g2.to(),g9.to());var g4=g2.empty()?g9.from()==g9.head:g2.from()==g2.head;if(g5<=g8){--g8}g1.splice(--g5,2,new eh(g4?g7:g6,g4?g6:g7))}}return new gH(g1,g8)}function fn(i,g1){return new gH([new eh(i,g1||i)],0)}function df(i){if(!i.text){return i.to}return Z(i.from.line+i.text.length-1,gf(i.text).length+(i.text.length==1?i.from.ch:0))}function cd(g3,g2){if(cv(g3,g2.from)<0){return g3}if(cv(g3,g2.to)<=0){return df(g2)}var i=g3.line+g2.text.length-(g2.to.line-g2.from.line)-1,g1=g3.ch;if(g3.line==g2.to.line){g1+=df(g2).ch-g2.to.ch}return Z(i,g1)}function fQ(g4,g5){var g2=[];for(var g3=0;g3<g4.sel.ranges.length;g3++){var g1=g4.sel.ranges[g3];g2.push(new eh(cd(g1.anchor,g5),cd(g1.head,g5)))}return cO(g2,g4.sel.primIndex)}function bF(g2,g1,i){if(g2.line==g1.line){return Z(i.line,g2.ch-g1.ch+i.ch)}else{return Z(i.line+(g2.line-g1.line),g2.ch)}}function aj(hb,g8,g2){var g3=[];var g1=Z(hb.first,0),hc=g1;for(var g5=0;g5<g8.length;g5++){var g7=g8[g5];var ha=bF(g7.from,g1,hc);var g9=bF(df(g7),g1,hc);g1=g7.to;hc=g9;if(g2=="around"){var g6=hb.sel.ranges[g5],g4=cv(g6.head,g6.anchor)<0;g3[g5]=new eh(g4?g9:ha,g4?ha:g9)}else{g3[g5]=new eh(ha,ha)}}return new gH(g3,hb.sel.primIndex)}function bC(i){i.doc.mode=f8(i.options,i.doc.modeOption);eK(i)}function eK(i){i.doc.iter(function(g1){if(g1.stateAfter){g1.stateAfter=null}if(g1.styles){g1.styles=null}});i.doc.frontier=i.doc.first;eB(i,100);i.state.modeGen++;if(i.curOp){al(i)}}function ec(i,g1){return g1.from.ch==0&&g1.to.ch==0&&gf(g1.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function f5(hh,ha,g4,g8){function g3(hi){return g4?g4[hi]:null}function g9(hi,hk,hj){eM(hi,hk,hj,g8);ai(hi,"change",hi,ha)}function he(hl,hj){var hi=[];for(var hk=hl;hk<hj;++hk){hi.push(new gM(hc[hk],g3(hk),g8))}return hi}var hf=ha.from,g1=ha.to,hc=ha.text;var hb=fM(hh,hf.line),i=fM(hh,g1.line);var g2=gf(hc),hg=g3(hc.length-1),hd=g1.line-hf.line;if(ha.full){hh.insert(0,he(0,hc.length));hh.remove(hc.length,hh.size-hc.length)}else{if(ec(hh,ha)){var g7=he(0,hc.length-1);g9(i,i.text,hg);if(hd){hh.remove(hf.line,hd)}if(g7.length){hh.insert(hf.line,g7)}}else{if(hb==i){if(hc.length==1){g9(hb,hb.text.slice(0,hf.ch)+g2+hb.text.slice(g1.ch),hg)}else{var g6=he(1,hc.length-1);g6.push(new gM(g2+hb.text.slice(g1.ch),hg,g8));g9(hb,hb.text.slice(0,hf.ch)+hc[0],g3(0));hh.insert(hf.line+1,g6)}}else{if(hc.length==1){g9(hb,hb.text.slice(0,hf.ch)+hc[0]+i.text.slice(g1.ch),g3(0));hh.remove(hf.line+1,hd)}else{g9(hb,hb.text.slice(0,hf.ch)+hc[0],g3(0));g9(i,g2+i.text.slice(g1.ch),hg);var g5=he(1,hc.length-1);if(hd>1){hh.remove(hf.line+1,hd-1)}hh.insert(hf.line+1,g5)}}}}ai(hh,"change",hh,ha)}function et(g3,g2,g1){function i(g9,g7,g5){if(g9.linked){for(var g6=0;g6<g9.linked.length;++g6){var g4=g9.linked[g6];if(g4.doc==g7){continue}var g8=g5&&g4.sharedHist;if(g1&&!g8){continue}g2(g4.doc,g8);i(g4.doc,g9,g8)}}}i(g3,null,true)}function ey(i,g1){if(g1.cm){throw new Error("This document is already in use.")}i.doc=g1;g1.cm=i;ac(i);bC(i);D(i);if(!i.options.lineWrapping){f(i)}i.options.mode=g1.modeOption;al(i)}function D(i){(i.doc.direction=="rtl"?f9:h)(i.display.lineDiv,"CodeMirror-rtl")}function ek(i){c5(i,function(){D(i);al(i)})}function gx(i){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=i||1}function dP(i,g2){var g1={from:cy(g2.from),to:df(g2),text:gK(i,g2.from,g2.to)};cc(i,g1,g2.from.line,g2.to.line+1);et(i,function(g3){return cc(g3,g1,g2.from.line,g2.to.line+1)},true);return g1}function ga(g1){while(g1.length){var i=gf(g1);if(i.ranges){g1.pop()}else{break}}}function fi(g1,i){if(i){ga(g1.done);return gf(g1.done)}else{if(g1.done.length&&!gf(g1.done).ranges){return gf(g1.done)}else{if(g1.done.length>1&&!g1.done[g1.done.length-2].ranges){g1.done.pop();return gf(g1.done)}}}}function gm(g6,g4,i,g3){var g2=g6.history;g2.undone.length=0;var g1=+new Date,g7;var g8;if((g2.lastOp==g3||g2.lastOrigin==g4.origin&&g4.origin&&((g4.origin.charAt(0)=="+"&&g6.cm&&g2.lastModTime>g1-g6.cm.options.historyEventDelay)||g4.origin.charAt(0)=="*"))&&(g7=fi(g2,g2.lastOp==g3))){g8=gf(g7.changes);if(cv(g4.from,g4.to)==0&&cv(g4.from,g8.to)==0){g8.to=df(g4)}else{g7.changes.push(dP(g6,g4))}}else{var g5=gf(g2.done);if(!g5||!g5.ranges){c7(g6.sel,g2.done)}g7={changes:[dP(g6,g4)],generation:g2.generation};g2.done.push(g7);while(g2.done.length>g2.undoDepth){g2.done.shift();if(!g2.done[0].ranges){g2.done.shift()}}}g2.done.push(i);g2.generation=++g2.maxGeneration;g2.lastModTime=g2.lastSelTime=g1;g2.lastOp=g2.lastSelOp=g3;g2.lastOrigin=g2.lastSelOrigin=g4.origin;if(!g8){aI(g6,"historyAdded")}}function bM(g4,i,g2,g3){var g1=i.charAt(0);return g1=="*"||g1=="+"&&g2.ranges.length==g3.ranges.length&&g2.somethingSelected()==g3.somethingSelected()&&new Date-g4.history.lastSelTime<=(g4.cm?g4.cm.options.historyEventDelay:500)}function gU(g5,g3,i,g2){var g4=g5.history,g1=g2&&g2.origin;if(i==g4.lastSelOp||(g1&&g4.lastSelOrigin==g1&&(g4.lastModTime==g4.lastSelTime&&g4.lastOrigin==g1||bM(g5,g1,gf(g4.done),g3)))){g4.done[g4.done.length-1]=g3}else{c7(g3,g4.done)}g4.lastSelTime=+new Date;g4.lastSelOrigin=g1;g4.lastSelOp=i;if(g2&&g2.clearRedo!==false){ga(g4.undone)}}function c7(g1,i){var g2=gf(i);if(!(g2&&g2.ranges&&g2.equals(g1))){i.push(g1)}}function cc(g1,g5,g4,g3){var i=g5["spans_"+g1.id],g2=0;g1.iter(Math.max(g1.first,g4),Math.min(g1.first+g1.size,g3),function(g6){if(g6.markedSpans){(i||(i=g5["spans_"+g1.id]={}))[g2]=g6.markedSpans}++g2})}function bq(g3){if(!g3){return null}var g1;for(var g2=0;g2<g3.length;++g2){if(g3[g2].marker.explicitlyCleared){if(!g1){g1=g3.slice(0,g2)}}else{if(g1){g1.push(g3[g2])}}}return !g1?g3:g1.length?g1:null}function ci(g4,g5){var g3=g5["spans_"+g4.id];if(!g3){return null}var g1=[];for(var g2=0;g2<g5.text.length;++g2){g1.push(bq(g3[g2]))}return g1}function ev(g9,g7){var g1=ci(g9,g7);var ha=eI(g9,g7);if(!g1){return ha}if(!ha){return g1}for(var g4=0;g4<g1.length;++g4){var g5=g1[g4],g6=ha[g4];if(g5&&g6){spans:for(var g3=0;g3<g6.length;++g3){var g8=g6[g3];for(var g2=0;g2<g5.length;++g2){if(g5[g2].marker==g8.marker){continue spans}}g5.push(g8)}}else{if(g6){g1[g4]=g6}}}return g1}function b1(hc,g4,hb){var g2=[];for(var g7=0;g7<hc.length;++g7){var g3=hc[g7];if(g3.ranges){g2.push(hb?gH.prototype.deepCopy.call(g3):g3);continue}var g9=g3.changes,ha=[];g2.push({changes:ha});for(var g6=0;g6<g9.length;++g6){var g8=g9[g6],g5=(void 0);ha.push({from:g8.from,to:g8.to,text:g8.text});if(g4){for(var g1 in g8){if(g5=g1.match(/^spans_(\d+)$/)){if(dD(g4,Number(g5[1]))>-1){gf(ha)[g1]=g8[g1];delete g8[g1]}}}}}}return g2}function f1(g5,g1,g4,i){if(g5.cm&&g5.cm.display.shift||g5.extend){var g3=g1.anchor;if(i){var g2=cv(g4,g3)<0;if(g2!=(cv(i,g3)<0)){g3=g4;g4=i}else{if(g2!=(cv(g4,i)<0)){g4=i}}}return new eh(g3,g4)}else{return new eh(i||g4,g4)}}function gC(g3,g2,i,g1){b7(g3,new gH([f1(g3,g3.sel.primary(),g2,i)],0),g1)}function az(g6,g5,g3){var g2=[];for(var g4=0;g4<g6.sel.ranges.length;g4++){g2[g4]=f1(g6,g6.sel.ranges[g4],g5[g4],null)}var g1=cO(g2,g6.sel.primIndex);b7(g6,g1,g3)}function e(g5,g4,g2,g3){var g1=g5.sel.ranges.slice(0);g1[g4]=g2;b7(g5,cO(g1,g5.sel.primIndex),g3)}function I(g3,g1,g2,i){b7(g3,fn(g1,g2),i)}function b(g3,g1,i){var g2={ranges:g1.ranges,update:function(g4){var g6=this;this.ranges=[];for(var g5=0;g5<g4.length;g5++){g6.ranges[g5]=new eh(gk(g3,g4[g5].anchor),gk(g3,g4[g5].head))}},origin:i&&i.origin};aI(g3,"beforeSelectionChange",g3,g2);if(g3.cm){aI(g3.cm,"beforeSelectionChange",g3.cm,g2)}if(g2.ranges!=g1.ranges){return cO(g2.ranges,g2.ranges.length-1)}else{return g1}}function fF(g4,g3,g1){var i=g4.history.done,g2=gf(i);if(g2&&g2.ranges){i[i.length-1]=g3;eO(g4,g3,g1)}else{b7(g4,g3,g1)}}function b7(g2,g1,i){eO(g2,g1,i);gU(g2,g2.sel,g2.cm?g2.cm.curOp.id:NaN,i)}function eO(g3,g2,g1){if(fR(g3,"beforeSelectionChange")||g3.cm&&fR(g3.cm,"beforeSelectionChange")){g2=b(g3,g2,g1)}var i=g1&&g1.bias||(cv(g2.primary().head,g3.sel.primary().head)<0?-1:1);ds(g3,p(g3,g2,i,true));if(!(g1&&g1.scroll===false)&&g3.cm){ge(g3.cm)}}function ds(g1,i){if(i.equals(g1.sel)){return}g1.sel=i;if(g1.cm){g1.cm.curOp.updateInput=g1.cm.curOp.selectionChanged=true;Y(g1.cm)}ai(g1,"cursorActivity",g1)}function eY(i){ds(i,p(i,i.sel,null,false))}function p(ha,g1,g7,g8){var g4;for(var g5=0;g5<g1.ranges.length;g5++){var g6=g1.ranges[g5];var g2=g1.ranges.length==ha.sel.ranges.length&&ha.sel.ranges[g5];var g9=b8(ha,g6.anchor,g2&&g2.anchor,g7,g8);var g3=b8(ha,g6.head,g2&&g2.head,g7,g8);if(g4||g9!=g6.anchor||g3!=g6.head){if(!g4){g4=g1.ranges.slice(0,g5)}g4[g5]=new eh(g9,g3)}}return g4?cO(g4,g1.primIndex):g1}function fd(hb,g9,g4,g3,g7){var hc=fM(hb,g9.line);if(hc.markedSpans){for(var g5=0;g5<hc.markedSpans.length;++g5){var g1=hc.markedSpans[g5],g2=g1.marker;if((g1.from==null||(g2.inclusiveLeft?g1.from<=g9.ch:g1.from<g9.ch))&&(g1.to==null||(g2.inclusiveRight?g1.to>=g9.ch:g1.to>g9.ch))){if(g7){aI(g2,"beforeCursorEnter");if(g2.explicitlyCleared){if(!hc.markedSpans){break}else{--g5;continue}}}if(!g2.atomic){continue}if(g4){var g8=g2.find(g3<0?1:-1),ha=(void 0);if(g3<0?g2.inclusiveRight:g2.inclusiveLeft){g8=gX(hb,g8,-g3,g8&&g8.line==g9.line?hc:null)}if(g8&&g8.line==g9.line&&(ha=cv(g8,g4))&&(g3<0?ha<0:ha>0)){return fd(hb,g8,g9,g3,g7)}}var g6=g2.find(g3<0?-1:1);if(g3<0?g2.inclusiveLeft:g2.inclusiveRight){g6=gX(hb,g6,g3,g6.line==g9.line?hc:null)}return g6?fd(hb,g6,g9,g3,g7):null}}}return g9}function b8(g5,g6,g3,g1,i){var g2=g1||1;var g4=fd(g5,g6,g3,g2,i)||(!i&&fd(g5,g6,g3,g2,true))||fd(g5,g6,g3,-g2,i)||(!i&&fd(g5,g6,g3,-g2,true));if(!g4){g5.cantEdit=true;return Z(g5.first,0)}return g4}function gX(g2,g3,g1,i){if(g1<0&&g3.ch==0){if(g3.line>g2.first){return gk(g2,Z(g3.line-1))}else{return null}}else{if(g1>0&&g3.ch==(i||fM(g2,g3.line)).text.length){if(g3.line<g2.first+g2.size-1){return Z(g3.line+1,0)}else{return null}}else{return new Z(g3.line,g3.ch+g1)}}}function ap(i){i.setSelection(Z(i.firstLine(),0),Z(i.lastLine()),ad)}function ea(g1,g3,g2){var i={canceled:false,from:g3.from,to:g3.to,text:g3.text,origin:g3.origin,cancel:function(){return i.canceled=true}};if(g2){i.update=function(g7,g6,g5,g4){if(g7){i.from=gk(g1,g7)}if(g6){i.to=gk(g1,g6)}if(g5){i.text=g5}if(g4!==undefined){i.origin=g4}}}aI(g1,"beforeChange",g1,i);if(g1.cm){aI(g1.cm,"beforeChange",g1.cm,i)}if(i.canceled){return null}return{from:i.from,to:i.to,text:i.text,origin:i.origin}}function bl(g4,g5,g3){if(g4.cm){if(!g4.cm.curOp){return dj(g4.cm,bl)(g4,g5,g3)}if(g4.cm.state.suppressEdits){return}}if(fR(g4,"beforeChange")||g4.cm&&fR(g4.cm,"beforeChange")){g5=ea(g4,g5,true);if(!g5){return}}var g2=gV&&!g3&&c1(g4,g5.from,g5.to);if(g2){for(var g1=g2.length-1;g1>=0;--g1){N(g4,{from:g2[g1].from,to:g2[g1].to,text:g1?[""]:g5.text})}}else{N(g4,g5)}}function N(g2,g3){if(g3.text.length==1&&g3.text[0]==""&&cv(g3.from,g3.to)==0){return}var g1=fQ(g2,g3);gm(g2,g3,g1,g2.cm?g2.cm.curOp.id:NaN);eA(g2,g3,g1,eI(g2,g3));var i=[];et(g2,function(g5,g4){if(!g4&&dD(i,g5.history)==-1){dX(g5.history,g3);i.push(g5.history)}eA(g5,g3,null,eI(g5,g3))})}function cm(hc,hb,he){if(hc.cm&&hc.cm.state.suppressEdits&&!he){return}var ha=hc.history,g2,g4=hc.sel;var g1=hb=="undo"?ha.done:ha.undone,hd=hb=="undo"?ha.undone:ha.done;var g7=0;for(;g7<g1.length;g7++){g2=g1[g7];if(he?g2.ranges&&!g2.equals(hc.sel):!g2.ranges){break}}if(g7==g1.length){return}ha.lastOrigin=ha.lastSelOrigin=null;for(;;){g2=g1.pop();if(g2.ranges){c7(g2,hd);if(he&&!g2.equals(hc.sel)){b7(hc,g2,{clearRedo:false});return}g4=g2}else{break}}var g9=[];c7(g4,hd);hd.push({changes:g9,generation:ha.generation});ha.generation=g2.generation||++ha.maxGeneration;var g3=fR(hc,"beforeChange")||hc.cm&&fR(hc.cm,"beforeChange");var g8=function(hf){var hi=g2.changes[hf];hi.origin=hb;if(g3&&!ea(hc,hi,false)){g1.length=0;return{}}g9.push(dP(hc,hi));var hh=hf?fQ(hc,hi):gf(g1);eA(hc,hi,hh,ev(hc,hi));if(!hf&&hc.cm){hc.cm.scrollIntoView({from:hi.from,to:df(hi)})}var hg=[];et(hc,function(hj,i){if(!i&&dD(hg,hj.history)==-1){dX(hj.history,hi);hg.push(hj.history)}eA(hj,hi,null,ev(hj,hi))})};for(var g5=g2.changes.length-1;g5>=0;--g5){var g6=g8(g5);if(g6){return g6.v}}}function fU(g1,g3){if(g3==0){return}g1.first+=g3;g1.sel=new gH(b6(g1.sel.ranges,function(g4){return new eh(Z(g4.anchor.line+g3,g4.anchor.ch),Z(g4.head.line+g3,g4.head.ch))}),g1.sel.primIndex);if(g1.cm){al(g1.cm,g1.first,g1.first-g3,g3);for(var g2=g1.cm.display,i=g2.viewFrom;i<g2.viewTo;i++){U(g1.cm,i,"gutter")}}}function eA(g4,g5,g3,g1){if(g4.cm&&!g4.cm.curOp){return dj(g4.cm,eA)(g4,g5,g3,g1)}if(g5.to.line<g4.first){fU(g4,g5.text.length-1-(g5.to.line-g5.from.line));return}if(g5.from.line>g4.lastLine()){return}if(g5.from.line<g4.first){var i=g5.text.length-1-(g4.first-g5.from.line);fU(g4,i);g5={from:Z(g4.first,0),to:Z(g5.to.line+i,g5.to.ch),text:[gf(g5.text)],origin:g5.origin}}var g2=g4.lastLine();if(g5.to.line>g2){g5={from:g5.from,to:Z(g2,fM(g4,g2).text.length),text:[g5.text[0]],origin:g5.origin}}g5.removed=gK(g4,g5.from,g5.to);if(!g3){g3=fQ(g4,g5)}if(g4.cm){aM(g4.cm,g5,g1)}else{f5(g4,g5,g1)}eO(g4,g3,ad)}function aM(hb,g7,g5){var ha=hb.doc,g6=hb.display,g8=g7.from,g9=g7.to;var i=false,g4=g8.line;if(!hb.options.lineWrapping){g4=bZ(z(fM(ha,g8.line)));ha.iter(g4,g9.line+1,function(hd){if(hd==g6.maxLine){i=true;return true}})}if(ha.sel.contains(g7.from,g7.to)>-1){Y(hb)}f5(ha,g7,g5,bj(hb));if(!hb.options.lineWrapping){ha.iter(g4,g8.line+g7.text.length,function(he){var hd=eL(he);if(hd>g6.maxLineLength){g6.maxLine=he;g6.maxLineLength=hd;g6.maxLineChanged=true;i=false}});if(i){hb.curOp.updateMaxLine=true}}ha.frontier=Math.min(ha.frontier,g8.line);eB(hb,400);var hc=g7.text.length-(g9.line-g8.line)-1;if(g7.full){al(hb)}else{if(g8.line==g9.line&&g7.text.length==1&&!ec(hb.doc,g7)){U(hb,g8.line,"text")}else{al(hb,g8.line,g9.line+1,hc)}}var g2=fR(hb,"changes"),g3=fR(hb,"change");if(g3||g2){var g1={from:g8,to:g9,text:g7.text,removed:g7.removed,origin:g7.origin};if(g3){ai(hb,"change",hb,g1)}if(g2){(hb.curOp.changeObjs||(hb.curOp.changeObjs=[])).push(g1)}}hb.display.selForContextMenu=null}function a6(g3,g2,g5,g4,i){if(!g4){g4=g5}if(cv(g4,g5)<0){var g1=g4;g4=g5;g5=g1}if(typeof g2=="string"){g2=g3.splitLines(g2)}bl(g3,{from:g5,to:g4,text:g2,origin:i})}function L(g3,g2,g1,i){if(g1<g3.line){g3.line+=i}else{if(g2<g3.line){g3.line=g2;g3.ch=0}}}function fO(g5,g7,g8,g9){for(var g4=0;g4<g5.length;++g4){var g1=g5[g4],g6=true;if(g1.ranges){if(!g1.copied){g1=g5[g4]=g1.deepCopy();g1.copied=true}for(var g3=0;g3<g1.ranges.length;g3++){L(g1.ranges[g3].anchor,g7,g8,g9);L(g1.ranges[g3].head,g7,g8,g9)}continue}for(var g2=0;g2<g1.changes.length;++g2){var ha=g1.changes[g2];if(g8<ha.from.line){ha.from=Z(ha.from.line+g9,ha.from.ch);ha.to=Z(ha.to.line+g9,ha.to.ch)}else{if(g7<=ha.to.line){g6=false;break}}}if(!g6){g5.splice(0,g4+1);g4=0}}}function dX(g1,g4){var g3=g4.from.line,g2=g4.to.line,i=g4.text.length-(g2-g3)-1;fO(g1.done,g3,g2,i);fO(g1.undone,g3,g2,i)}function e0(g3,g2,i,g5){var g4=g2,g1=g2;if(typeof g2=="number"){g1=fM(g3,dn(g3,g2))}else{g4=bZ(g2)}if(g4==null){return null}if(g5(g1,g4)&&g3.cm){U(g3.cm,g4,i)}return g1}var fw=function(g2){var g4=this;this.lines=g2;this.parent=null;var g1=0;for(var g3=0;g3<g2.length;++g3){g2[g3].parent=g4;g1+=g2[g3].height}this.height=g1};fw.prototype.chunkSize=function(){return this.lines.length};fw.prototype.removeInner=function(g1,g6){var g5=this;for(var g3=g1,g4=g1+g6;g3<g4;++g3){var g2=g5.lines[g3];g5.height-=g2.height;bN(g2);ai(g2,"delete")}this.lines.splice(g1,g6)};fw.prototype.collapse=function(i){i.push.apply(i,this.lines)};fw.prototype.insertInner=function(g2,g3,g1){var g5=this;this.height+=g1;this.lines=this.lines.slice(0,g2).concat(g3).concat(this.lines.slice(g2));for(var g4=0;g4<g3.length;++g4){g3[g4].parent=g5}};fw.prototype.iterN=function(i,g4,g3){var g2=this;for(var g1=i+g4;i<g1;++i){if(g3(g2.lines[i])){return true}}};var f4=function(g4){var g6=this;this.children=g4;var g3=0,g1=0;for(var g2=0;g2<g4.length;++g2){var g5=g4[g2];g3+=g5.chunkSize();g1+=g5.height;g5.parent=g6}this.size=g3;this.height=g1;this.parent=null};f4.prototype.chunkSize=function(){return this.size};f4.prototype.removeInner=function(g3,g2){var g5=this;this.size-=g2;for(var g4=0;g4<this.children.length;++g4){var g1=g5.children[g4],g7=g1.chunkSize();if(g3<g7){var g6=Math.min(g2,g7-g3),g8=g1.height;g1.removeInner(g3,g6);g5.height-=g8-g1.height;if(g7==g6){g5.children.splice(g4--,1);g1.parent=null}if((g2-=g6)==0){break}g3=0}else{g3-=g7}}if(this.size-g2<25&&(this.children.length>1||!(this.children[0] instanceof fw))){var g9=[];this.collapse(g9);this.children=[new fw(g9)];this.children[0].parent=this}};f4.prototype.collapse=function(g1){var g3=this;for(var g2=0;g2<this.children.length;++g2){g3.children[g2].collapse(g1)}};f4.prototype.insertInner=function(g2,ha,g9){var g5=this;this.size+=ha.length;this.height+=g9;for(var g4=0;g4<this.children.length;++g4){var g1=g5.children[g4],g7=g1.chunkSize();if(g2<=g7){g1.insertInner(g2,ha,g9);if(g1.lines&&g1.lines.length>50){var g3=g1.lines.length%25+25;for(var g8=g3;g8<g1.lines.length;){var g6=new fw(g1.lines.slice(g8,g8+=25));g1.height-=g6.height;g5.children.splice(++g4,0,g6);g6.parent=g5}g1.lines=g1.lines.slice(0,g3);g5.maybeSpill()}break}g2-=g7}};f4.prototype.maybeSpill=function(){if(this.children.length<=10){return}var g3=this;do{var g1=g3.children.splice(g3.children.length-5,5);var g2=new f4(g1);if(!g3.parent){var g4=new f4(g3.children);g4.parent=g3;g3.children=[g4,g2];g3=g4}else{g3.size-=g2.size;g3.height-=g2.height;var i=dD(g3.parent.children,g3);g3.parent.children.splice(i+1,0,g2)}g2.parent=g3.parent}while(g3.children.length>10);g3.parent.maybeSpill()};f4.prototype.iterN=function(g1,g8,g7){var g6=this;for(var g2=0;g2<this.children.length;++g2){var g5=g6.children[g2],g4=g5.chunkSize();if(g1<g4){var g3=Math.min(g8,g4-g1);if(g5.iterN(g1,g3,g7)){return true}if((g8-=g3)==0){break}g1=0}else{g1-=g4}}};var dU=function(g3,g2,i){var g4=this;if(i){for(var g1 in i){if(i.hasOwnProperty(g1)){g4[g1]=i[g1]}}}this.doc=g3;this.node=g2};dU.prototype.clear=function(){var g7=this;var g2=this.doc.cm,g4=this.line.widgets,g3=this.line,g6=bZ(g3);if(g6==null||!g4){return}for(var g5=0;g5<g4.length;++g5){if(g4[g5]==g7){g4.splice(g5--,1)}}if(!g4.length){g3.widgets=null}var g1=dg(this);gN(g3,Math.max(0,g3.height-g1));if(g2){c5(g2,function(){ej(g2,g3,-g1);U(g2,g6,"widget")});ai(g2,"lineWidgetCleared",g2,this,g6)}};dU.prototype.changed=function(){var g4=this;var g1=this.height,i=this.doc.cm,g2=this.line;this.height=null;var g3=dg(this)-g1;if(!g3){return}gN(g2,g2.height+g3);if(i){c5(i,function(){i.curOp.forceUpdate=true;ej(i,g2,g3);ai(i,"lineWidgetChanged",i,g4,bZ(g2))})}};bL(dU);function ej(i,g1,g2){if(bY(g1)<((i.curOp&&i.curOp.scrollTop)||i.doc.scrollTop)){c0(i,g2)}}function bS(g5,g4,g2,g1){var g3=new dU(g5,g2,g1);var i=g5.cm;if(i&&g3.noHScroll){i.display.alignWidgets=true}e0(g5,g4,"widget",function(g7){var g8=g7.widgets||(g7.widgets=[]);if(g3.insertAt==null){g8.push(g3)}else{g8.splice(Math.min(g8.length-1,Math.max(0,g3.insertAt)),0,g3)}g3.line=g7;if(i&&!f2(g5,g7)){var g6=bY(g7)<g5.scrollTop;gN(g7,g7.height+dg(g3));if(g6){c0(i,g3.height)}i.curOp.forceUpdate=true}return true});ai(i,"lineWidgetAdded",i,g3,typeof g4=="number"?g4:bZ(g4));return g3}var a9=0;var T=function(g1,i){this.lines=[];this.type=i;this.doc=g1;this.id=++a9};T.prototype.clear=function(){var g6=this;if(this.explicitlyCleared){return}var ha=this.doc.cm,g3=ha&&!ha.curOp;if(g3){c2(ha)}if(fR(this,"clear")){var hb=this.find();if(hb){ai(this,"clear",hb.from,hb.to)}}var g4=null,g8=null;for(var g5=0;g5<this.lines.length;++g5){var hc=g6.lines[g5];var g9=fH(hc.markedSpans,g6);if(ha&&!g6.collapsed){U(ha,bZ(hc),"text")}else{if(ha){if(g9.to!=null){g8=bZ(hc)}if(g9.from!=null){g4=bZ(hc)}}}hc.markedSpans=fb(hc.markedSpans,g9);if(g9.from==null&&g6.collapsed&&!f2(g6.doc,hc)&&ha){gN(hc,a3(ha.display))}}if(ha&&this.collapsed&&!ha.options.lineWrapping){for(var g2=0;g2<this.lines.length;++g2){var g1=z(g6.lines[g2]),g7=eL(g1);if(g7>ha.display.maxLineLength){ha.display.maxLine=g1;ha.display.maxLineLength=g7;ha.display.maxLineChanged=true}}}if(g4!=null&&ha&&this.collapsed){al(ha,g4,g8+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(ha){eY(ha.doc)}}if(ha){ai(ha,"markerCleared",ha,this,g4,g8)}if(g3){aq(ha)}if(this.parent){this.parent.clear()}};T.prototype.find=function(g4,g2){var g8=this;if(g4==null&&this.type=="bookmark"){g4=1}var g7,g6;for(var g3=0;g3<this.lines.length;++g3){var g1=g8.lines[g3];var g5=fH(g1.markedSpans,g8);if(g5.from!=null){g7=Z(g2?g1:bZ(g1),g5.from);if(g4==-1){return g7}}if(g5.to!=null){g6=Z(g2?g1:bZ(g1),g5.to);if(g4==1){return g6}}}return g7&&{from:g7,to:g6}};T.prototype.changed=function(){var g3=this;var g2=this.find(-1,true),g1=this,i=this.doc.cm;if(!g2||!i){return}c5(i,function(){var g5=g2.line,g6=bZ(g2.line);var g4=fJ(i,g6);if(g4){ay(g4);i.curOp.selectionChanged=i.curOp.forceUpdate=true}i.curOp.updateMaxLine=true;if(!f2(g1.doc,g5)&&g1.height!=null){var g8=g1.height;g1.height=null;var g7=dg(g1)-g8;if(g7){gN(g5,g5.height+g7)}}ai(i,"markerChanged",i,g3)})};T.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var g1=this.doc.cm.curOp;if(!g1.maybeHiddenMarkers||dD(g1.maybeHiddenMarkers,this)==-1){(g1.maybeUnhiddenMarkers||(g1.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(i)};T.prototype.detachLine=function(i){this.lines.splice(dD(this.lines,i),1);if(!this.lines.length&&this.doc.cm){var g1=this.doc.cm.curOp;(g1.maybeHiddenMarkers||(g1.maybeHiddenMarkers=[])).push(this)}};bL(T);function e8(g9,g7,g8,hb,g5){if(hb&&hb.shared){return Q(g9,g7,g8,hb,g5)}if(g9.cm&&!g9.cm.curOp){return dj(g9.cm,e8)(g9,g7,g8,hb,g5)}var g4=new T(g9,g5),ha=cv(g7,g8);if(hb){aS(hb,g4,false)}if(ha>0||ha==0&&g4.clearWhenEmpty!==false){return g4}if(g4.replacedWith){g4.collapsed=true;g4.widgetNode=gO("span",[g4.replacedWith],"CodeMirror-widget");if(!hb.handleMouseEvents){g4.widgetNode.setAttribute("cm-ignore-events","true")}if(hb.insertLeft){g4.widgetNode.insertLeft=true}}if(g4.collapsed){if(A(g9,g7.line,g7,g8,g4)||g7.line!=g8.line&&A(g9,g8.line,g7,g8,g4)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}bI()}if(g4.addToHistory){gm(g9,{from:g7,to:g8,origin:"markText"},g9.sel,NaN)}var g2=g7.line,g6=g9.cm,g1;g9.iter(g2,g8.line+1,function(i){if(g6&&g4.collapsed&&!g6.options.lineWrapping&&z(i)==g6.display.maxLine){g1=true}if(g4.collapsed&&g2!=g7.line){gN(i,0)}ct(i,new eG(g4,g2==g7.line?g7.ch:null,g2==g8.line?g8.ch:null));++g2});if(g4.collapsed){g9.iter(g7.line,g8.line+1,function(i){if(f2(g9,i)){gN(i,0)}})}if(g4.clearOnEnter){ca(g4,"beforeCursorEnter",function(){return g4.clear()})}if(g4.readOnly){f7();if(g9.history.done.length||g9.history.undone.length){g9.clearHistory()}}if(g4.collapsed){g4.id=++a9;g4.atomic=true}if(g6){if(g1){g6.curOp.updateMaxLine=true}if(g4.collapsed){al(g6,g7.line,g8.line+1)}else{if(g4.className||g4.title||g4.startStyle||g4.endStyle||g4.css){for(var g3=g7.line;g3<=g8.line;g3++){U(g6,g3,"text")}}}if(g4.atomic){eY(g6.doc)}ai(g6,"markerAdded",g6,g4)}return g4}var y=function(g3,g2){var g4=this;this.markers=g3;this.primary=g2;for(var g1=0;g1<g3.length;++g1){g3[g1].parent=g4}};y.prototype.clear=function(){var g2=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var g1=0;g1<this.markers.length;++g1){g2.markers[g1].clear()}ai(this,"clear")};y.prototype.find=function(g1,i){return this.primary.find(g1,i)};bL(y);function Q(g4,g7,g6,i,g2){i=aS(i);i.shared=false;var g5=[e8(g4,g7,g6,i,g2)],g1=g5[0];var g3=i.widgetNode;et(g4,function(g9){if(g3){i.widgetNode=g3.cloneNode(true)}g5.push(e8(g9,gk(g9,g7),gk(g9,g6),i,g2));for(var g8=0;g8<g9.linked.length;++g8){if(g9.linked[g8].isParent){return}}g1=gf(g5)});return new y(g5,g1)}function fk(i){return i.findMarks(Z(i.first,0),i.clipPos(Z(i.lastLine())),function(g1){return g1.parent})}function dY(g6,g7){for(var g4=0;g4<g7.length;g4++){var g2=g7[g4],g8=g2.find();var g1=g6.clipPos(g8.from),g5=g6.clipPos(g8.to);if(cv(g1,g5)){var g3=e8(g6,g1,g5,g2.primary,g2.primary.type);g2.markers.push(g3);g3.parent=g2}}}function eN(g3){var g1=function(g6){var g4=g3[g6],g8=[g4.primary.doc];et(g4.primary.doc,function(i){return g8.push(i)});for(var g5=0;g5<g4.markers.length;g5++){var g7=g4.markers[g5];if(dD(g8,g7.doc)==-1){g7.parent=null;g4.markers.splice(g5--,1)}}};for(var g2=0;g2<g3.length;g2++){g1(g2)}}var cJ=0;var ax=function(g4,g3,i,g2,g1){if(!(this instanceof ax)){return new ax(g4,g3,i,g2,g1)}if(i==null){i=0}f4.call(this,[new fw([new gM("",null)])]);this.first=i;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=i;var g5=Z(i,0);this.sel=fn(g5);this.history=new gx(null);this.id=++cJ;this.modeOption=g3;this.lineSep=g2;this.direction=(g1=="rtl")?"rtl":"ltr";this.extend=false;if(typeof g4=="string"){g4=this.splitLines(g4)}f5(this,{from:g5,to:g5,text:g4});b7(this,fn(g5),ad)};ax.prototype=cB(f4.prototype,{constructor:ax,iter:function(g2,g1,i){if(i){this.iterN(g2-this.first,g1-g2,i)}else{this.iterN(this.first,this.first+this.size,g2)}},insert:function(g2,g3){var g1=0;for(var g4=0;g4<g3.length;++g4){g1+=g3[g4].height}this.insertInner(g2-this.first,g3,g1)},remove:function(i,g1){this.removeInner(i-this.first,g1)},getValue:function(g1){var i=a7(this,this.first,this.first+this.size);if(g1===false){return i}return i.join(g1||this.lineSeparator())},setValue:cW(function(g1){var g2=Z(this.first,0),i=this.first+this.size-1;bl(this,{from:g2,to:Z(i,fM(this,i).text.length),text:this.splitLines(g1),origin:"setValue",full:true},true);if(this.cm){fh(this.cm,0,0)}b7(this,fn(g2),ad)}),replaceRange:function(g1,g3,g2,i){g3=gk(this,g3);g2=g2?gk(this,g2):g3;a6(this,g1,g3,g2,i)},getRange:function(g3,g2,g1){var i=gK(this,gk(this,g3),gk(this,g2));if(g1===false){return i}return i.join(g1||this.lineSeparator())},getLine:function(g1){var i=this.getLineHandle(g1);return i&&i.text},getLineHandle:function(i){if(cn(this,i)){return fM(this,i)}},getLineNumber:function(i){return bZ(i)},getLineHandleVisualStart:function(i){if(typeof i=="number"){i=fM(this,i)}return z(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return gk(this,i)},getCursor:function(g2){var i=this.sel.primary(),g1;if(g2==null||g2=="head"){g1=i.head}else{if(g2=="anchor"){g1=i.anchor}else{if(g2=="end"||g2=="to"||g2===false){g1=i.to()}else{g1=i.from()}}}return g1},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cW(function(i,g2,g1){I(this,gk(this,typeof i=="number"?Z(i,g2||0):i),null,g1)}),setSelection:cW(function(g1,g2,i){I(this,gk(this,g1),gk(this,g2||g1),i)}),extendSelection:cW(function(g2,i,g1){gC(this,gk(this,g2),i&&gk(this,i),g1)}),extendSelections:cW(function(g1,i){az(this,el(this,g1),i)}),extendSelectionsBy:cW(function(g2,i){var g1=b6(this.sel.ranges,g2);az(this,el(this,g1),i)}),setSelections:cW(function(g1,g5,g3){var g6=this;if(!g1.length){return}var g2=[];for(var g4=0;g4<g1.length;g4++){g2[g4]=new eh(gk(g6,g1[g4].anchor),gk(g6,g1[g4].head))}if(g5==null){g5=Math.min(g1.length-1,this.sel.primIndex)}b7(this,cO(g2,g5),g3)}),addSelection:cW(function(g2,g3,g1){var i=this.sel.ranges.slice(0);i.push(new eh(gk(this,g2),gk(this,g3||g2)));b7(this,cO(i,i.length-1),g1)}),getSelection:function(g5){var g6=this;var g2=this.sel.ranges,g1;for(var g3=0;g3<g2.length;g3++){var g4=gK(g6,g2[g3].from(),g2[g3].to());g1=g1?g1.concat(g4):g4}if(g5===false){return g1}else{return g1.join(g5||this.lineSeparator())}},getSelections:function(g5){var g6=this;var g4=[],g1=this.sel.ranges;for(var g2=0;g2<g1.length;g2++){var g3=gK(g6,g1[g2].from(),g1[g2].to());if(g5!==false){g3=g3.join(g5||g6.lineSeparator())}g4[g2]=g3}return g4},replaceSelection:function(g3,g5,g1){var g4=[];for(var g2=0;g2<this.sel.ranges.length;g2++){g4[g2]=g3}this.replaceSelections(g4,g5,g1||"+input")},replaceSelections:cW(function(g2,g8,ha){var g6=this;var g9=[],g4=this.sel;for(var g5=0;g5<g4.ranges.length;g5++){var g7=g4.ranges[g5];g9[g5]={from:g7.from(),to:g7.to(),text:g6.splitLines(g2[g5]),origin:ha}}var g1=g8&&g8!="end"&&aj(this,g9,g8);for(var g3=g9.length-1;g3>=0;g3--){bl(g6,g9[g3])}if(g1){fF(this,g1)}else{if(this.cm){ge(this.cm)}}}),undo:cW(function(){cm(this,"undo")}),redo:cW(function(){cm(this,"redo")}),undoSelection:cW(function(){cm(this,"undo",true)}),redoSelection:cW(function(){cm(this,"redo",true)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){var g4=this.history,g1=0,g3=0;for(var g2=0;g2<g4.done.length;g2++){if(!g4.done[g2].ranges){++g1}}for(var g5=0;g5<g4.undone.length;g5++){if(!g4.undone[g5].ranges){++g3}}return{undo:g1,redo:g3}},clearHistory:function(){this.history=new gx(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(i){if(i){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:b1(this.history.done),undone:b1(this.history.undone)}},setHistory:function(g1){var i=this.history=new gx(this.history.maxGeneration);i.done=b1(g1.done.slice(0),null,true);i.undone=b1(g1.undone.slice(0),null,true)},setGutterMarker:cW(function(i,g1,g2){return e0(this,i,"gutter",function(g3){var g4=g3.gutterMarkers||(g3.gutterMarkers={});g4[g1]=g2;if(!g2&&fr(g4)){g3.gutterMarkers=null}return true})}),clearGutter:cW(function(i){var g1=this;this.iter(function(g2){if(g2.gutterMarkers&&g2.gutterMarkers[i]){e0(g1,g2,"gutter",function(){g2.gutterMarkers[i]=null;if(fr(g2.gutterMarkers)){g2.gutterMarkers=null}return true})}})}),lineInfo:function(i){var g1;if(typeof i=="number"){if(!cn(this,i)){return null}g1=i;i=fM(this,i);if(!i){return null}}else{g1=bZ(i);if(g1==null){return null}}return{line:g1,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:cW(function(g2,g1,i){return e0(this,g2,g1=="gutter"?"gutter":"class",function(g3){var g4=g1=="text"?"textClass":g1=="background"?"bgClass":g1=="gutter"?"gutterClass":"wrapClass";if(!g3[g4]){g3[g4]=i}else{if(V(i).test(g3[g4])){return false}else{g3[g4]+=" "+i}}return true})}),removeLineClass:cW(function(g2,g1,i){return e0(this,g2,g1=="gutter"?"gutter":"class",function(g4){var g7=g1=="text"?"textClass":g1=="background"?"bgClass":g1=="gutter"?"gutterClass":"wrapClass";var g6=g4[g7];if(!g6){return false}else{if(i==null){g4[g7]=null}else{var g5=g6.match(V(i));if(!g5){return false}var g3=g5.index+g5[0].length;g4[g7]=g6.slice(0,g5.index)+(!g5.index||g3==g6.length?"":" ")+g6.slice(g3)||null}}return true})}),addLineWidget:cW(function(g2,g1,i){return bS(this,g2,g1,i)}),removeLineWidget:function(i){i.clear()},markText:function(g2,g1,i){return e8(this,gk(this,g2),gk(this,g1),i,i&&i.type||"range")},setBookmark:function(g2,i){var g1={replacedWith:i&&(i.nodeType==null?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:false,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};g2=gk(this,g2);return e8(this,g2,g2,g1,"bookmark")},findMarksAt:function(g5){g5=gk(this,g5);var g4=[],g2=fM(this,g5.line).markedSpans;if(g2){for(var g1=0;g1<g2.length;++g1){var g3=g2[g1];if((g3.from==null||g3.from<=g5.ch)&&(g3.to==null||g3.to>=g5.ch)){g4.push(g3.marker.parent||g3.marker)}}}return g4},findMarks:function(g4,g3,i){g4=gk(this,g4);g3=gk(this,g3);var g1=[],g2=g4.line;this.iter(g4.line,g3.line+1,function(g5){var g7=g5.markedSpans;if(g7){for(var g6=0;g6<g7.length;g6++){var g8=g7[g6];if(!(g8.to!=null&&g2==g4.line&&g4.ch>=g8.to||g8.from==null&&g2!=g4.line||g8.from!=null&&g2==g3.line&&g8.from>=g3.ch)&&(!i||i(g8.marker))){g1.push(g8.marker.parent||g8.marker)}}}++g2});return g1},getAllMarks:function(){var i=[];this.iter(function(g2){var g1=g2.markedSpans;if(g1){for(var g3=0;g3<g1.length;++g3){if(g1[g3].from!=null){i.push(g1[g3].marker)}}}});return i},posFromIndex:function(g2){var i,g3=this.first,g1=this.lineSeparator().length;this.iter(function(g4){var g5=g4.text.length+g1;if(g5>g2){i=g2;return true}g2-=g5;++g3});return gk(this,Z(g3,i))},indexFromPos:function(g2){g2=gk(this,g2);var i=g2.ch;if(g2.line<this.first||g2.ch<0){return 0}var g1=this.lineSeparator().length;this.iter(this.first,g2.line,function(g3){i+=g3.text.length+g1});return i},copy:function(i){var g1=new ax(a7(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);g1.scrollTop=this.scrollTop;g1.scrollLeft=this.scrollLeft;g1.sel=this.sel;g1.extend=false;if(i){g1.history.undoDepth=this.history.undoDepth;g1.setHistory(this.getHistory())}return g1},linkedDoc:function(i){if(!i){i={}}var g3=this.first,g2=this.first+this.size;if(i.from!=null&&i.from>g3){g3=i.from}if(i.to!=null&&i.to<g2){g2=i.to}var g1=new ax(a7(this,g3,g2),i.mode||this.modeOption,g3,this.lineSep,this.direction);if(i.sharedHist){g1.history=this.history}(this.linked||(this.linked=[])).push({doc:g1,sharedHist:i.sharedHist});g1.linked=[{doc:this,isParent:true,sharedHist:i.sharedHist}];dY(g1,fk(this));return g1},unlinkDoc:function(g2){var g5=this;if(g2 instanceof J){g2=g2.doc}if(this.linked){for(var g3=0;g3<this.linked.length;++g3){var g4=g5.linked[g3];if(g4.doc!=g2){continue}g5.linked.splice(g3,1);g2.unlinkDoc(g5);eN(fk(g5));break}}if(g2.history==this.history){var g1=[g2.id];et(g2,function(i){return g1.push(i.id)},true);g2.history=new gx(null);g2.history.done=b1(this.history.done,g1);g2.history.undone=b1(this.history.undone,g1)}},iterLinkedDocs:function(i){et(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){if(this.lineSep){return i.split(this.lineSep)}return gu(i)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:cW(function(i){if(i!="rtl"){i="ltr"}if(i==this.direction){return}this.direction=i;this.iter(function(g1){return g1.order=null});if(this.cm){ek(this.cm)}})});ax.prototype.eachLine=ax.prototype.iter;var ak=0;function bp(g9){var hb=this;dv(hb);if(aW(hb,g9)||bg(hb.display,g9)){return}cY(g9);if(d3){ak=+new Date}var ha=cF(hb,g9,true),g2=g9.dataTransfer.files;if(!ha||hb.isReadOnly()){return}if(g2&&g2.length&&window.FileReader&&window.File){var g5=g2.length,hc=Array(g5),g3=0;var g7=function(hf,he){if(hb.options.allowDropFileTypes&&dD(hb.options.allowDropFileTypes,hf.type)==-1){return}var hd=new FileReader;hd.onload=dj(hb,function(){var i=hd.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(i)){i=""}hc[he]=i;if(++g3==g5){ha=gk(hb.doc,ha);var hg={from:ha,to:ha,text:hb.doc.splitLines(hc.join(hb.doc.lineSeparator())),origin:"paste"};bl(hb.doc,hg);fF(hb.doc,fn(ha,df(hg)))}});hd.readAsText(hf)};for(var g8=0;g8<g5;++g8){g7(g2[g8],g8)}}else{if(hb.state.draggingText&&hb.doc.sel.contains(ha)>-1){hb.state.draggingText(g9);setTimeout(function(){return hb.display.input.focus()},20);return}try{var g1=g9.dataTransfer.getData("Text");if(g1){var g6;if(hb.state.draggingText&&!hb.state.draggingText.copy){g6=hb.listSelections()}eO(hb.doc,fn(ha,ha));if(g6){for(var g4=0;g4<g6.length;++g4){a6(hb.doc,"",g6[g4].anchor,g6[g4].head,"drag")}}hb.replaceSelection(g1,"around","paste");hb.display.input.focus()}}catch(g9){}}}function S(i,g2){if(d3&&(!i.state.draggingText||+new Date-ak<100)){eQ(g2);return}if(aW(i,g2)||bg(i.display,g2)){return}g2.dataTransfer.setData("Text",i.getSelection());g2.dataTransfer.effectAllowed="copyMove";if(g2.dataTransfer.setDragImage&&!aG){var g1=gI("img",null,null,"position: fixed; left: 0; top: 0;");g1.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(eo){g1.width=g1.height=1;i.display.wrapper.appendChild(g1);g1._top=g1.offsetTop}g2.dataTransfer.setDragImage(g1,0,0);if(eo){g1.parentNode.removeChild(g1)}}}function gY(i,g1){var g3=cF(i,g1);if(!g3){return}var g2=document.createDocumentFragment();C(i,g3,g2);if(!i.display.dragCursor){i.display.dragCursor=gI("div",null,"CodeMirror-cursors CodeMirror-dragcursors");i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)}b5(i.display.dragCursor,g2)}function dv(i){if(i.display.dragCursor){i.display.lineSpace.removeChild(i.display.dragCursor);i.display.dragCursor=null}}function aE(g4){if(!document.body.getElementsByClassName){return}var g3=document.body.getElementsByClassName("CodeMirror");for(var g2=0;g2<g3.length;g2++){var g1=g3[g2].CodeMirror;if(g1){g4(g1)}}}var cV=false;function bo(){if(cV){return}gd();cV=true}function gd(){var i;ca(window,"resize",function(){if(i==null){i=setTimeout(function(){i=null;aE(aY)},100)}});ca(window,"blur",function(){return aE(a0)})}function aY(i){var g1=i.display;if(g1.lastWrapHeight==g1.wrapper.clientHeight&&g1.lastWrapWidth==g1.wrapper.clientWidth){return}g1.cachedCharWidth=g1.cachedTextHeight=g1.cachedPaddingH=null;g1.scrollbarsClipped=false;i.setSize()}var fN={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var f3=0;f3<10;f3++){fN[f3+48]=fN[f3+96]=String(f3)}for(var gw=65;gw<=90;gw++){fN[gw]=String.fromCharCode(gw)}for(var gv=1;gv<=12;gv++){fN[gv+111]=fN[gv+63235]="F"+gv}var fI={};fI.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};fI.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};fI.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};fI.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};fI["default"]=cl?fI.macDefault:fI.pcDefault;function dN(g2){var g8=g2.split(/-(?!$)/);g2=g8[g8.length-1];var g7,g6,g1,g5;for(var g4=0;g4<g8.length-1;g4++){var g3=g8[g4];if(/^(cmd|meta|m)$/i.test(g3)){g5=true}else{if(/^a(lt)?$/i.test(g3)){g7=true}else{if(/^(c|ctrl|control)$/i.test(g3)){g6=true}else{if(/^s(hift)?$/i.test(g3)){g1=true}else{throw new Error("Unrecognized modifier name: "+g3)}}}}}if(g7){g2="Alt-"+g2}if(g6){g2="Ctrl-"+g2}if(g5){g2="Cmd-"+g2}if(g1){g2="Shift-"+g2}return g2}function cZ(g8){var g2={};for(var g7 in g8){if(g8.hasOwnProperty(g7)){var g9=g8[g7];if(/^(name|fallthrough|(de|at)tach)$/.test(g7)){continue}if(g9=="..."){delete g8[g7];continue}var ha=b6(g7.split(" "),dN);for(var g6=0;g6<ha.length;g6++){var g4=(void 0),g3=(void 0);if(g6==ha.length-1){g3=ha.join(" ");g4=g9}else{g3=ha.slice(0,g6+1).join(" ");g4="..."}var g5=g2[g3];if(!g5){g2[g3]=g4}else{if(g5!=g4){throw new Error("Inconsistent bindings for "+g3)}}}delete g8[g7]}}for(var g1 in g2){g8[g1]=g2[g1]}return g8}function k(g4,g7,g6,g3){g7=gB(g7);var g5=g7.call?g7.call(g4,g3):g7[g4];if(g5===false){return"nothing"}if(g5==="..."){return"multi"}if(g5!=null&&g6(g5)){return"handled"}if(g7.fallthrough){if(Object.prototype.toString.call(g7.fallthrough)!="[object Array]"){return k(g4,g7.fallthrough,g6,g3)}for(var g2=0;g2<g7.fallthrough.length;g2++){var g1=k(g4,g7.fallthrough[g2],g6,g3);if(g1){return g1}}}}function e2(g1){var i=typeof g1=="string"?g1:fN[g1.keyCode];return i=="Ctrl"||i=="Alt"||i=="Shift"||i=="Mod"}function fX(g1,g3){if(eo&&g1.keyCode==34&&g1["char"]){return false}var g2=fN[g1.keyCode],i=g2;if(i==null||g1.altGraphKey){return false}if(g1.altKey&&g2!="Alt"){i="Alt-"+i}if((b3?g1.metaKey:g1.ctrlKey)&&g2!="Ctrl"){i="Ctrl-"+i}if((b3?g1.ctrlKey:g1.metaKey)&&g2!="Cmd"){i="Cmd-"+i}if(!g3&&g1.shiftKey&&g2!="Shift"){i="Shift-"+i}return i}function gB(i){return typeof i=="string"?fI[i]:i}function fu(g1,g7){var g2=g1.doc.sel.ranges,g5=[];for(var g4=0;g4<g2.length;g4++){var g3=g7(g2[g4]);while(g5.length&&cv(g3.from,gf(g5).to)<=0){var g6=g5.pop();if(cv(g6.from,g3.from)<0){g3.from=g6.from;break}}g5.push(g3)}c5(g1,function(){for(var g8=g5.length-1;g8>=0;g8--){a6(g1.doc,"",g5[g8].from,g5[g8].to,"+delete")}ge(g1)})}var e5={selectAll:ap,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),ad)},killLine:function(i){return fu(i,function(g2){if(g2.empty()){var g1=fM(i.doc,g2.head.line).text.length;if(g2.head.ch==g1&&g2.head.line<i.lastLine()){return{from:g2.head,to:Z(g2.head.line+1,0)}}else{return{from:g2.head,to:Z(g2.head.line,g1)}}}else{return{from:g2.from(),to:g2.to()}}})},deleteLine:function(i){return fu(i,function(g1){return({from:Z(g1.from().line,0),to:gk(i.doc,Z(g1.to().line+1,0))})})},delLineLeft:function(i){return fu(i,function(g1){return({from:Z(g1.from().line,0),to:g1.from()})})},delWrappedLineLeft:function(i){return fu(i,function(g1){var g3=i.charCoords(g1.head,"div").top+5;var g2=i.coordsChar({left:0,top:g3},"div");return{from:g2,to:g1.from()}})},delWrappedLineRight:function(i){return fu(i,function(g1){var g3=i.charCoords(g1.head,"div").top+5;var g2=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:g3},"div");return{from:g1.from(),to:g2}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(Z(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(Z(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(g1){return bE(i,g1.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(g1){return d1(i,g1.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(g1){return d9(i,g1.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(g1){var g2=i.charCoords(g1.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:g2},"div")},de)},goLineLeft:function(i){return i.extendSelectionsBy(function(g1){var g2=i.charCoords(g1.head,"div").top+5;return i.coordsChar({left:0,top:g2},"div")},de)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(g1){var g2=i.charCoords(g1.head,"div").top+5;var g3=i.coordsChar({left:0,top:g2},"div");if(g3.ch<i.getLine(g3.line).search(/\S/)){return d1(i,g1.head)}return g3},de)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"char")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("\t")},insertSoftTab:function(g1){var g3=[],g2=g1.listSelections(),g6=g1.options.tabSize;for(var g5=0;g5<g2.length;g5++){var g7=g2[g5].from();var g4=b4(g1.getLine(g7.line),g7.ch,g6);g3.push(cH(g6-g4%g6))}g1.replaceSelections(g3)},defaultTab:function(i){if(i.somethingSelected()){i.indentSelection("add")}else{i.execCommand("insertTab")}},transposeChars:function(i){return c5(i,function(){var g3=i.listSelections(),g2=[];for(var g4=0;g4<g3.length;g4++){if(!g3[g4].empty()){continue}var g6=g3[g4].head,g1=fM(i.doc,g6.line).text;if(g1){if(g6.ch==g1.length){g6=new Z(g6.line,g6.ch-1)}if(g6.ch>0){g6=new Z(g6.line,g6.ch+1);i.replaceRange(g1.charAt(g6.ch-1)+g1.charAt(g6.ch-2),Z(g6.line,g6.ch-2),g6,"+transpose")}else{if(g6.line>i.doc.first){var g5=fM(i.doc,g6.line-1).text;if(g5){g6=new Z(g6.line,1);i.replaceRange(g1.charAt(0)+i.doc.lineSeparator()+g5.charAt(g5.length-1),Z(g6.line-1,g5.length-1),g6,"+transpose")}}}}g2.push(new eh(g6,g6))}i.setSelections(g2)})},newlineAndIndent:function(i){return c5(i,function(){var g1=i.listSelections();for(var g2=g1.length-1;g2>=0;g2--){i.replaceRange(i.doc.lineSeparator(),g1[g2].anchor,g1[g2].head,"+input")}g1=i.listSelections();for(var g3=0;g3<g1.length;g3++){i.indentLine(g1[g3].from().line,null,true)}ge(i)})},openLine:function(i){return i.replaceSelection("\n","start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function bE(i,g2){var g1=fM(i.doc,g2);var g3=z(g1);if(g3!=g1){g2=bZ(g3)}return e1(true,i,g3,g2,1)}function d9(i,g2){var g1=fM(i.doc,g2);var g3=cA(g1);if(g3!=g1){g2=bZ(g3)}return e1(true,i,g1,g2,-1)}function d1(g1,g6){var g5=bE(g1,g6.line);var g2=fM(g1.doc,g5.line);var i=a(g2,g1.doc.direction);if(!i||i[0].level==0){var g4=Math.max(0,g2.text.search(/\S/));var g3=g6.line==g5.line&&g6.ch<=g4&&g6.ch;return Z(g5.line,g3?0:g4,g5.sticky)}return g5}function gt(g1,g4,i){if(typeof g4=="string"){g4=e5[g4];if(!g4){return false}}g1.display.input.ensurePolled();var g3=g1.display.shift,g2=false;try{if(g1.isReadOnly()){g1.state.suppressEdits=true}if(i){g1.display.shift=false}g2=g4(g1)!=cq}finally{g1.display.shift=g3;g1.state.suppressEdits=false}return g2}function eu(g2,g3,g5){for(var g4=0;g4<g2.state.keyMaps.length;g4++){var g1=k(g3,g2.state.keyMaps[g4],g5,g2);if(g1){return g1}}return(g2.options.extraKeys&&k(g3,g2.options.extraKeys,g5,g2))||k(g3,g2.options.keyMap,g5,g2)}var d5=new g0;function bi(g1,g3,g5,g4){var g2=g1.state.keySeq;if(g2){if(e2(g3)){return"handled"}d5.set(50,function(){if(g1.state.keySeq==g2){g1.state.keySeq=null;g1.display.input.reset()}});g3=g2+" "+g3}var i=eu(g1,g3,g4);if(i=="multi"){g1.state.keySeq=g3}if(i=="handled"){ai(g1,"keyHandled",g1,g3,g5)}if(i=="handled"||i=="multi"){cY(g5);q(g1)}if(g2&&!i&&/\'$/.test(g3)){cY(g5);return true}return !!i}function fP(i,g2){var g1=fX(g2,true);if(!g1){return false}if(g2.shiftKey&&!i.state.keySeq){return bi(i,"Shift-"+g1,g2,function(g3){return gt(i,g3,true)})||bi(i,g1,g2,function(g3){if(typeof g3=="string"?/^go[A-Z]/.test(g3):g3.motion){return gt(i,g3)}})}else{return bi(i,g1,g2,function(g3){return gt(i,g3)})}}function eF(i,g2,g1){return bi(i,"'"+g1+"'",g2,function(g3){return gt(i,g3,true)})}var dI=null;function r(g3){var i=this;i.curOp.focus=d7();if(aW(i,g3)){return}if(d3&&m<11&&g3.keyCode==27){g3.returnValue=false}var g1=g3.keyCode;i.display.shift=g1==16||g3.shiftKey;var g2=fP(i,g3);if(eo){dI=g2?g1:null;if(!g2&&g1==88&&!du&&(cl?g3.metaKey:g3.ctrlKey)){i.replaceSelection("",null,"cut")}}if(g1==18&&!/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)){aw(i)}}function aw(g1){var g2=g1.display.lineDiv;f9(g2,"CodeMirror-crosshair");function i(g3){if(g3.keyCode==18||!g3.altKey){h(g2,"CodeMirror-crosshair");eC(document,"keyup",i);eC(document,"mouseover",i)}}ca(document,"keyup",i);ca(document,"mouseover",i)}function bm(i){if(i.keyCode==16){this.doc.sel.shift=false}aW(this,i)}function cP(g4){var i=this;if(bg(i.display,g4)||aW(i,g4)||g4.ctrlKey&&!g4.altKey||cl&&g4.metaKey){return}var g3=g4.keyCode,g1=g4.charCode;if(eo&&g3==dI){dI=null;cY(g4);return}if((eo&&(!g4.which||g4.which<10))&&fP(i,g4)){return}var g2=String.fromCharCode(g1==null?g3:g1);if(g2=="\x08"){return}if(eF(i,g4,g2)){return}i.display.input.onKeyPress(g4)}function eU(g2){var i=this,g1=i.display;if(aW(i,g2)||g1.activeTouch&&g1.input.supportsTouch()){return}g1.input.ensurePolled();g1.shift=g2.shiftKey;if(bg(g1,g2)){if(!di){g1.scroller.draggable=false;setTimeout(function(){return g1.scroller.draggable=true},100)}return}if(n(i,g2)){return}var g3=cF(i,g2);window.focus();switch(gp(g2)){case 1:if(i.state.selectingText){i.state.selectingText(g2)}else{if(g3){aA(i,g2,g3)}else{if(O(g2)==g1.scroller){cY(g2)}}}break;case 2:if(di){i.state.lastMiddleDown=+new Date}if(g3){gC(i.doc,g3)}setTimeout(function(){return g1.input.focus()},20);cY(g2);break;case 3:if(gR){aB(i,g2)}else{ao(i)}break}}var dH;var dy;function aA(g1,g6,g7){if(d3){setTimeout(cN(t,g1),0)}else{g1.curOp.focus=d7()}var g2=+new Date,g4;if(dy&&dy.time>g2-400&&cv(dy.pos,g7)==0){g4="triple"}else{if(dH&&dH.time>g2-400&&cv(dH.pos,g7)==0){g4="double";dy={time:g2,pos:g7}}else{g4="single";dH={time:g2,pos:g7}}}var g5=g1.doc.sel,i=cl?g6.metaKey:g6.ctrlKey,g3;if(g1.options.dragDrop&&fg&&!g1.isReadOnly()&&g4=="single"&&(g3=g5.contains(g7))>-1&&(cv((g3=g5.ranges[g3]).from(),g7)<0||g7.xRel>0)&&(cv(g3.to(),g7)>0||g7.xRel<0)){a8(g1,g6,g7,i)}else{o(g1,g6,g7,g4,i)}}function a8(g7,g3,i,g2){var g4=g7.display,g5=false;var g1=dj(g7,function(g9){if(di){g4.scroller.draggable=false}g7.state.draggingText=false;eC(document,"mouseup",g1);eC(document,"mousemove",g8);eC(g4.scroller,"dragstart",g6);eC(g4.scroller,"drop",g1);if(!g5){cY(g9);if(!g2){gC(g7.doc,i)}if(di||d3&&m==9){setTimeout(function(){document.body.focus();g4.input.focus()},20)}else{g4.input.focus()}}});var g8=function(g9){g5=g5||Math.abs(g3.clientX-g9.clientX)+Math.abs(g3.clientY-g9.clientY)>=10};var g6=function(){return g5=true};if(di){g4.scroller.draggable=true}g7.state.draggingText=g1;g1.copy=cl?g3.altKey:g3.ctrlKey;if(g4.scroller.dragDrop){g4.scroller.dragDrop()}ca(document,"mouseup",g1);ca(document,"mousemove",g8);ca(g4.scroller,"dragstart",g6);ca(g4.scroller,"drop",g1);ao(g7);setTimeout(function(){return g4.input.focus()},20)}function o(g4,hi,g3,g1,g6){var hf=g4.display,hk=g4.doc;cY(hi);var g2,hj,g5=hk.sel,i=g5.ranges;if(g6&&!hi.shiftKey){hj=hk.sel.contains(g3);if(hj>-1){g2=i[hj]}else{g2=new eh(g3,g3)}}else{g2=hk.sel.primary();hj=hk.sel.primIndex}if(gj?hi.shiftKey&&hi.metaKey:hi.altKey){g1="rect";if(!g6){g2=new eh(g3,g3)}g3=cF(g4,hi,true,true);hj=-1}else{if(g1=="double"){var hg=g4.findWordAt(g3);if(g4.display.shift||hk.extend){g2=f1(hk,g2,hg.anchor,hg.head)}else{g2=hg}}else{if(g1=="triple"){var g9=new eh(Z(g3.line,0),gk(hk,Z(g3.line+1,0)));if(g4.display.shift||hk.extend){g2=f1(hk,g2,g9.anchor,g9.head)}else{g2=g9}}else{g2=f1(hk,g2,g3)}}}if(!g6){hj=0;b7(hk,new gH([g2],0),P);g5=hk.sel}else{if(hj==-1){hj=i.length;b7(hk,cO(i.concat([g2]),hj),{scroll:false,origin:"*mouse"})}else{if(i.length>1&&i[hj].empty()&&g1=="single"&&!hi.shiftKey){b7(hk,cO(i.slice(0,hj).concat(i.slice(hj+1)),0),{scroll:false,origin:"*mouse"});g5=hk.sel}else{e(hk,hj,g2,P)}}}var he=g3;function hd(hw){if(cv(he,hw)==0){return}he=hw;if(g1=="rect"){var hn=[],ht=g4.options.tabSize;var hm=b4(fM(hk,g3.line).text,g3.ch,ht);var hz=b4(fM(hk,hw.line).text,hw.ch,ht);var ho=Math.min(hm,hz),hx=Math.max(hm,hz);for(var hA=Math.min(g3.line,hw.line),hq=Math.min(g4.lastLine(),Math.max(g3.line,hw.line));hA<=hq;hA++){var hy=fM(hk,hA).text,hp=eP(hy,ho,ht);if(ho==hx){hn.push(new eh(Z(hA,hp),Z(hA,hp)))}else{if(hy.length>hp){hn.push(new eh(Z(hA,hp),Z(hA,eP(hy,hx,ht))))}}}if(!hn.length){hn.push(new eh(g3,g3))}b7(hk,cO(g5.ranges.slice(0,hj).concat(hn),hj),{origin:"*mouse",scroll:false});g4.scrollIntoView(hw)}else{var hu=g2;var hr=hu.anchor,hv=hw;if(g1!="single"){var hs;if(g1=="double"){hs=g4.findWordAt(hw)}else{hs=new eh(Z(hw.line,0),gk(hk,Z(hw.line+1,0)))}if(cv(hs.anchor,hr)>0){hv=hs.head;hr=av(hu.from(),hs.anchor)}else{hv=hs.anchor;hr=bJ(hu.to(),hs.head)}}var hl=g5.ranges.slice(0);hl[hj]=new eh(gk(hk,hr),hv);b7(hk,cO(hl,hj),P)}}var hb=hf.wrapper.getBoundingClientRect();var g7=0;function hh(hn){var hl=++g7;var hp=cF(g4,hn,true,g1=="rect");if(!hp){return}if(cv(hp,he)!=0){g4.curOp.focus=d7();hd(hp);var ho=ck(hf,hk);if(hp.line>=ho.to||hp.line<ho.from){setTimeout(dj(g4,function(){if(g7==hl){hh(hn)}}),150)}}else{var hm=hn.clientY<hb.top?-20:hn.clientY>hb.bottom?20:0;if(hm){setTimeout(dj(g4,function(){if(g7!=hl){return}hf.scroller.scrollTop+=hm;hh(hn)}),50)}}}function ha(hl){g4.state.selectingText=false;g7=Infinity;cY(hl);hf.input.focus();eC(document,"mousemove",hc);eC(document,"mouseup",g8);hk.history.lastSelOrigin=null}var hc=dj(g4,function(hl){if(!gp(hl)){ha(hl)}else{hh(hl)}});var g8=dj(g4,ha);g4.state.selectingText=g8;ca(document,"mousemove",hc);ca(document,"mouseup",g8)}function gZ(hb,g7,g9,ha){var g2,g1;try{g2=g7.clientX;g1=g7.clientY}catch(g7){return false}if(g2>=Math.floor(hb.display.gutters.getBoundingClientRect().right)){return false}if(ha){cY(g7)}var g8=hb.display;var g6=g8.lineDiv.getBoundingClientRect();if(g1>g6.bottom||!fR(hb,g9)){return bX(g7)}g1-=g6.top-g8.viewOffset;for(var g4=0;g4<hb.options.gutters.length;++g4){var g5=g8.gutters.childNodes[g4];if(g5&&g5.getBoundingClientRect().right>=g2){var hc=bT(hb.doc,g1);var g3=hb.options.gutters[g4];aI(hb,g9,hb,hc,g3,g7);return bX(g7)}}}function n(i,g1){return gZ(i,g1,"gutterClick",true)}function aB(i,g1){if(bg(i.display,g1)||dB(i,g1)){return}if(aW(i,g1,"contextmenu")){return}i.display.input.onContextMenu(g1)}function dB(i,g1){if(!fR(i,"gutterContextMenu")){return false}return gZ(i,g1,"gutterContextMenu",false)}function c6(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-");an(i)}var cr={toString:function(){return"CodeMirror.Init"}};var fz={};var bk={};function fa(i){var g2=i.optionHandlers;function g1(g3,g6,g5,g4){i.defaults[g3]=g6;if(g5){g2[g3]=g4?function(g7,g9,g8){if(g8!=cr){g5(g7,g9,g8)}}:g5}}i.defineOption=g1;i.Init=cr;g1("value","",function(g3,g4){return g3.setValue(g4)},true);g1("mode",null,function(g3,g4){g3.doc.modeOption=g4;bC(g3)},true);g1("indentUnit",2,bC,true);g1("indentWithTabs",false);g1("smartIndent",true);g1("tabSize",4,function(g3){eK(g3);an(g3);al(g3)},true);g1("lineSeparator",null,function(g3,g6){g3.doc.lineSep=g6;if(!g6){return}var g5=[],g7=g3.doc.first;g3.doc.iter(function(g8){for(var ha=0;;){var g9=g8.text.indexOf(g6,ha);if(g9==-1){break}ha=g9+g6.length;g5.push(Z(g7,g9))}g7++});for(var g4=g5.length-1;g4>=0;g4--){a6(g3.doc,g6,g5[g4],Z(g5[g4].line,g5[g4].ch+g6.length))}});g1("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(g3,g5,g4){g3.state.specialChars=new RegExp(g5.source+(g5.test("\t")?"":"|\t"),"g");if(g4!=cr){g3.refresh()}});g1("specialCharPlaceholder",fL,function(g3){return g3.refresh()},true);g1("electricChars",true);g1("inputStyle",eD?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);g1("spellcheck",false,function(g3,g4){return g3.getInputField().spellcheck=g4},true);g1("rtlMoveVisually",!aU);g1("wholeLineUpdateBefore",true);g1("theme","default",function(g3){c6(g3);dQ(g3)},true);g1("keyMap","default",function(g3,g7,g4){var g5=gB(g7);var g6=g4!=cr&&gB(g4);if(g6&&g6.detach){g6.detach(g3,g5)}if(g5.attach){g5.attach(g3,g6||null)}});g1("extraKeys",null);g1("lineWrapping",false,e9,true);g1("gutters",[],function(g3){cu(g3.options);dQ(g3)},true);g1("fixedGutter",true,function(g3,g4){g3.display.gutters.style.left=g4?ei(g3.display)+"px":"0";g3.refresh()},true);g1("coverGutterNextToScrollbar",false,function(g3){return fv(g3)},true);g1("scrollbarStyle","native",function(g3){aH(g3);fv(g3);g3.display.scrollbars.setScrollTop(g3.doc.scrollTop);g3.display.scrollbars.setScrollLeft(g3.doc.scrollLeft)},true);g1("lineNumbers",false,function(g3){cu(g3.options);dQ(g3)},true);g1("firstLineNumber",1,dQ,true);g1("lineNumberFormatter",function(g3){return g3},dQ,true);g1("showCursorWhenSelecting",false,bO,true);g1("resetSelectionOnContextMenu",true);g1("lineWiseCopyCut",true);g1("readOnly",false,function(g3,g4){if(g4=="nocursor"){a0(g3);g3.display.input.blur();g3.display.disabled=true}else{g3.display.disabled=false}g3.display.input.readOnlyChanged(g4)});g1("disableInput",false,function(g3,g4){if(!g4){g3.display.input.reset()}},true);g1("dragDrop",true,gF);g1("allowDropFileTypes",null);g1("cursorBlinkRate",530);g1("cursorScrollMargin",0);g1("cursorHeight",1,bO,true);g1("singleCursorHeightPerLine",true,bO,true);g1("workTime",100);g1("workDelay",100);g1("flattenSpans",true,eK,true);g1("addModeClass",false,eK,true);g1("pollInterval",100);g1("undoDepth",200,function(g3,g4){return g3.doc.history.undoDepth=g4});g1("historyEventDelay",1250);g1("viewportMargin",10,function(g3){return g3.refresh()},true);g1("maxHighlightLength",10000,eK,true);g1("moveInputWithCursor",true,function(g3,g4){if(!g4){g3.display.input.resetPosition()}});g1("tabindex",null,function(g3,g4){return g3.display.input.getField().tabIndex=g4||""});g1("autofocus",null);g1("direction","ltr",function(g3,g4){return g3.doc.setDirection(g4)},true)}function dQ(i){ez(i);al(i);e7(i)}function gF(g1,g4,g2){var g5=g2&&g2!=cr;if(!g4!=!g5){var g3=g1.display.dragFunctions;var i=g4?ca:eC;i(g1.display.scroller,"dragstart",g3.start);i(g1.display.scroller,"dragenter",g3.enter);i(g1.display.scroller,"dragover",g3.over);i(g1.display.scroller,"dragleave",g3.leave);i(g1.display.scroller,"drop",g3.drop)}}function e9(i){if(i.options.lineWrapping){f9(i.display.wrapper,"CodeMirror-wrap");i.display.sizer.style.minWidth="";i.display.sizerWidth=null}else{h(i.display.wrapper,"CodeMirror-wrap");f(i)}ac(i);al(i);an(i);setTimeout(function(){return fv(i)},100)}function J(g1,g3){var g8=this;if(!(this instanceof J)){return new J(g1,g3)}this.options=g3=g3?aS(g3):{};aS(fz,g3,false);cu(g3);var g7=g3.value;if(typeof g7=="string"){g7=new ax(g7,g3.mode,null,g3.lineSeparator,g3.direction)}this.doc=g7;var g2=new J.inputStyles[g3.inputStyle](this);var g6=this.display=new fc(g1,g7,g2);g6.wrapper.CodeMirror=this;ez(this);c6(this);if(g3.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}aH(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new g0(),keySeq:null,specialChars:null};if(g3.autofocus&&!eD){g6.input.focus()}if(d3&&m<11){setTimeout(function(){return g8.display.input.reset(true)},20)}gs(this);bo();c2(this);this.curOp.forceUpdate=true;ey(this,g7);if((g3.autofocus&&!eD)||this.hasFocus()){setTimeout(cN(cT,this),20)}else{a0(this)}for(var g5 in bk){if(bk.hasOwnProperty(g5)){bk[g5](g8,g3[g5],cr)}}er(this);if(g3.finishInit){g3.finishInit(this)}for(var g4=0;g4<bd.length;++g4){bd[g4](g8)}aq(this);if(di&&g3.lineWrapping&&getComputedStyle(g6.lineDiv).textRendering=="optimizelegibility"){g6.lineDiv.style.textRendering="auto"}}J.defaults=fz;J.optionHandlers=bk;function gs(g1){var g5=g1.display;ca(g5.scroller,"mousedown",dj(g1,eU));if(d3&&m<11){ca(g5.scroller,"dblclick",dj(g1,function(g9){if(aW(g1,g9)){return}var ha=cF(g1,g9);if(!ha||n(g1,g9)||bg(g1.display,g9)){return}cY(g9);var g8=g1.findWordAt(ha);gC(g1.doc,g8.anchor,g8.head)}))}else{ca(g5.scroller,"dblclick",function(g8){return aW(g1,g8)||cY(g8)})}if(!gR){ca(g5.scroller,"contextmenu",function(g8){return aB(g1,g8)})}var g7,i={end:0};function g6(){if(g5.activeTouch){g7=setTimeout(function(){return g5.activeTouch=null},1000);i=g5.activeTouch;i.end=+new Date}}function g3(g8){if(g8.touches.length!=1){return false}var g9=g8.touches[0];return g9.radiusX<=1&&g9.radiusY<=1}function g2(hb,g8){if(g8.left==null){return true}var ha=g8.left-hb.left,g9=g8.top-hb.top;return ha*ha+g9*g9>20*20}ca(g5.scroller,"touchstart",function(g9){if(!aW(g1,g9)&&!g3(g9)){g5.input.ensurePolled();clearTimeout(g7);var g8=+new Date;g5.activeTouch={start:g8,moved:false,prev:g8-i.end<=300?i:null};if(g9.touches.length==1){g5.activeTouch.left=g9.touches[0].pageX;g5.activeTouch.top=g9.touches[0].pageY}}});ca(g5.scroller,"touchmove",function(){if(g5.activeTouch){g5.activeTouch.moved=true}});ca(g5.scroller,"touchend",function(g9){var hb=g5.activeTouch;if(hb&&!bg(g5,g9)&&hb.left!=null&&!hb.moved&&new Date-hb.start<300){var ha=g1.coordsChar(g5.activeTouch,"page"),g8;if(!hb.prev||g2(hb,hb.prev)){g8=new eh(ha,ha)}else{if(!hb.prev.prev||g2(hb,hb.prev.prev)){g8=g1.findWordAt(ha)}else{g8=new eh(Z(ha.line,0),gk(g1.doc,Z(ha.line+1,0)))}}g1.setSelection(g8.anchor,g8.head);g1.focus();cY(g9)}g6()});ca(g5.scroller,"touchcancel",g6);ca(g5.scroller,"scroll",function(){if(g5.scroller.clientHeight){B(g1,g5.scroller.scrollTop);bQ(g1,g5.scroller.scrollLeft,true);aI(g1,"scroll",g1)}});ca(g5.scroller,"mousewheel",function(g8){return c(g1,g8)});ca(g5.scroller,"DOMMouseScroll",function(g8){return c(g1,g8)});ca(g5.wrapper,"scroll",function(){return g5.wrapper.scrollTop=g5.wrapper.scrollLeft=0});g5.dragFunctions={enter:function(g8){if(!aW(g1,g8)){eQ(g8)}},over:function(g8){if(!aW(g1,g8)){gY(g1,g8);eQ(g8)}},start:function(g8){return S(g1,g8)},drop:dj(g1,bp),leave:function(g8){if(!aW(g1,g8)){dv(g1)}}};var g4=g5.input.getField();ca(g4,"keyup",function(g8){return bm.call(g1,g8)});ca(g4,"keydown",dj(g1,r));ca(g4,"keypress",dj(g1,cP));ca(g4,"focus",function(g8){return cT(g1,g8)});ca(g4,"blur",function(g8){return a0(g1,g8)})}var bd=[];J.defineInitHook=function(i){return bd.push(i)};function ag(hg,g5,hf,g3){var he=hg.doc,g2;if(hf==null){hf="add"}if(hf=="smart"){if(!he.mode.indent){hf="prev"}else{g2=dV(hg,g5)}}var g9=hg.options.tabSize;var hh=fM(he,g5),g8=b4(hh.text,null,g9);if(hh.stateAfter){hh.stateAfter=null}var g1=hh.text.match(/^\s*/)[0],hc;if(!g3&&!/\S/.test(hh.text)){hc=0;hf="not"}else{if(hf=="smart"){hc=he.mode.indent(g2,hh.text.slice(g1.length),hh.text);if(hc==cq||hc>150){if(!g3){return}hf="prev"}}}if(hf=="prev"){if(g5>he.first){hc=b4(fM(he,g5-1).text,null,g9)}else{hc=0}}else{if(hf=="add"){hc=g8+hg.options.indentUnit}else{if(hf=="subtract"){hc=g8-hg.options.indentUnit}else{if(typeof hf=="number"){hc=g8+hf}}}}hc=Math.max(0,hc);var hd="",hb=0;if(hg.options.indentWithTabs){for(var g6=Math.floor(hc/g9);g6;--g6){hb+=g9;hd+="\t"}}if(hb<hc){hd+=cH(hc-hb)}if(hd!=g1){a6(he,hd,Z(g5,0),Z(g5,g1.length),"+input");hh.stateAfter=null;return true}else{for(var g4=0;g4<he.sel.ranges.length;g4++){var g7=he.sel.ranges[g4];if(g7.head.line==g5&&g7.head.ch<g1.length){var ha=Z(g5,g1.length);e(he,g4,new eh(ha,ha));break}}}}var br=null;function dp(i){br=i}function gD(hg,g6,g4,g3,hf){var he=hg.doc;hg.display.shift=false;if(!g3){g3=he.sel}var g5=hg.state.pasteIncoming||hf=="paste";var g9=gu(g6),g1=null;if(g5&&g3.ranges.length>1){if(br&&br.text.join("\n")==g6){if(g3.ranges.length%br.text.length==0){g1=[];for(var g7=0;g7<br.text.length;g7++){g1.push(he.splitLines(br.text[g7]))}}}else{if(g9.length==g3.ranges.length){g1=b6(g9,function(i){return[i]})}}}var ha;for(var g2=g3.ranges.length-1;g2>=0;g2--){var g8=g3.ranges[g2];var hd=g8.from(),hc=g8.to();if(g8.empty()){if(g4&&g4>0){hd=Z(hd.line,hd.ch-g4)}else{if(hg.state.overwrite&&!g5){hc=Z(hc.line,Math.min(fM(he,hc.line).text.length,hc.ch+gf(g9).length))}else{if(br&&br.lineWise&&br.text.join("\n")==g6){hd=hc=Z(hd.line,0)}}}}ha=hg.curOp.updateInput;var hb={from:hd,to:hc,text:g1?g1[g2%g1.length]:g9,origin:hf||(g5?"paste":hg.state.cutIncoming?"cut":"+input")};bl(hg.doc,hb);ai(hg,"inputRead",hg,hb)}if(g6&&!g5){gA(hg,g6)}ge(hg);hg.curOp.updateInput=ha;hg.curOp.typing=true;hg.state.pasteIncoming=hg.state.cutIncoming=false}function bf(g2,i){var g1=g2.clipboardData&&g2.clipboardData.getData("Text");if(g1){g2.preventDefault();if(!i.isReadOnly()&&!i.options.disableInput){c5(i,function(){return gD(i,g1,0,null,"paste")})}return true}}function gA(g1,g5){if(!g1.options.electricChars||!g1.options.smartIndent){return}var g6=g1.doc.sel;for(var g4=g6.ranges.length-1;g4>=0;g4--){var g2=g6.ranges[g4];if(g2.head.ch>100||(g4&&g6.ranges[g4-1].head.line==g2.head.line)){continue}var g7=g1.getModeAt(g2.head);var g8=false;if(g7.electricChars){for(var g3=0;g3<g7.electricChars.length;g3++){if(g5.indexOf(g7.electricChars.charAt(g3))>-1){g8=ag(g1,g2.head.line,"smart");break}}}else{if(g7.electricInput){if(g7.electricInput.test(fM(g1.doc,g2.head.line).text.slice(0,g2.head.ch))){g8=ag(g1,g2.head.line,"smart")}}}if(g8){ai(g1,"electricInput",g1,g2.head.line)}}}function dC(g1){var g6=[],g3=[];for(var g4=0;g4<g1.doc.sel.ranges.length;g4++){var g2=g1.doc.sel.ranges[g4].head.line;var g5={anchor:Z(g2,0),head:Z(g2+1,0)};g3.push(g5);g6.push(g1.getRange(g5.anchor,g5.head))}return{text:g6,ranges:g3}}function gq(g1,i){g1.setAttribute("autocorrect","off");g1.setAttribute("autocapitalize","off");g1.setAttribute("spellcheck",!!i)}function a2(){var i=gI("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var g1=gI("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(di){i.style.width="1000px"}else{i.setAttribute("wrap","off")}if(fy){i.style.border="1px solid black"}gq(i);return g1}function d8(i){var g1=i.optionHandlers;var g2=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus();this.display.input.focus()},setOption:function(g5,g6){var g4=this.options,g3=g4[g5];if(g4[g5]==g6&&g5!="mode"){return}g4[g5]=g6;if(g1.hasOwnProperty(g5)){dj(this,g1[g5])(this,g6,g3)}aI(this,"optionChange",this,g5)},getOption:function(g3){return this.options[g3]},getDoc:function(){return this.doc},addKeyMap:function(g4,g3){this.state.keyMaps[g3?"push":"unshift"](gB(g4))},removeKeyMap:function(g4){var g5=this.state.keyMaps;for(var g3=0;g3<g5.length;++g3){if(g5[g3]==g4||g5[g3].name==g4){g5.splice(g3,1);return true}}},addOverlay:dt(function(g3,g4){var g5=g3.token?g3:i.getMode(this.options,g3);if(g5.startState){throw new Error("Overlays may not be stateful.")}co(this.state.overlays,{mode:g5,modeSpec:g3,opaque:g4&&g4.opaque,priority:(g4&&g4.priority)||0},function(g6){return g6.priority});this.state.modeGen++;al(this)}),removeOverlay:dt(function(g3){var g7=this;var g5=this.state.overlays;for(var g4=0;g4<g5.length;++g4){var g6=g5[g4].modeSpec;if(g6==g3||typeof g3=="string"&&g6.name==g3){g5.splice(g4,1);g7.state.modeGen++;al(g7);return}}}),indentLine:dt(function(g5,g3,g4){if(typeof g3!="string"&&typeof g3!="number"){if(g3==null){g3=this.options.smartIndent?"smart":"prev"}else{g3=g3?"add":"subtract"}}if(cn(this.doc,g5)){ag(this,g5,g3,g4)}}),indentSelection:dt(function(hd){var g9=this;var g3=this.doc.sel.ranges,g6=-1;for(var g8=0;g8<g3.length;g8++){var ha=g3[g8];if(!ha.empty()){var hb=ha.from(),hc=ha.to();var g4=Math.max(g6,hb.line);g6=Math.min(g9.lastLine(),hc.line-(hc.ch?0:1))+1;for(var g7=g4;g7<g6;++g7){ag(g9,g7,hd)}var g5=g9.doc.sel.ranges;if(hb.ch==0&&g3.length==g5.length&&g5[g8].from().ch>0){e(g9.doc,g8,new eh(hb,g5[g8].to()),ad)}}else{if(ha.head.line>g6){ag(g9,ha.head.line,hd,true);g6=ha.head.line;if(g8==g9.doc.sel.primIndex){ge(g9)}}}}}),getTokenAt:function(g4,g3){return cI(this,g4,g3)},getLineTokens:function(g4,g3){return cI(this,Z(g4),g3,true)},getTokenTypeAt:function(ha){ha=gk(this.doc,ha);var g6=dr(this,fM(this.doc,ha.line));var g8=0,g9=(g6.length-1)/2,g5=ha.ch;var g4;if(g5==0){g4=g6[2]}else{for(;;){var g3=(g8+g9)>>1;if((g3?g6[g3*2-1]:0)>=g5){g9=g3}else{if(g6[g3*2+1]<g5){g8=g3+1}else{g4=g6[g3*2+2];break}}}}var g7=g4?g4.indexOf("overlay "):-1;return g7<0?g4:g7==0?null:g4.slice(0,g7-1)},getModeAt:function(g4){var g3=this.doc.mode;if(!g3.innerMode){return g3}return i.innerMode(g3,this.getTokenAt(g4).state).mode},getHelper:function(g4,g3){return this.getHelpers(g4,g3)[0]},getHelpers:function(ha,g9){var g7=this;var hc=[];if(!g2.hasOwnProperty(g9)){return hc}var g5=g2[g9],g8=this.getModeAt(ha);if(typeof g8[g9]=="string"){if(g5[g8[g9]]){hc.push(g5[g8[g9]])}}else{if(g8[g9]){for(var g6=0;g6<g8[g9].length;g6++){var g4=g5[g8[g9][g6]];if(g4){hc.push(g4)}}}else{if(g8.helperType&&g5[g8.helperType]){hc.push(g5[g8.helperType])}else{if(g5[g8.name]){hc.push(g5[g8.name])}}}}for(var g3=0;g3<g5._global.length;g3++){var hb=g5._global[g3];if(hb.pred(g8,g7)&&dD(hc,hb.val)==-1){hc.push(hb.val)}}return hc},getStateAfter:function(g4,g3){var g5=this.doc;g4=dn(g5,g4==null?g5.first+g5.size-1:g4);return dV(this,g4+1,g3)},cursorCoords:function(g6,g4){var g5,g3=this.doc.sel.primary();if(g6==null){g5=g3.head}else{if(typeof g6=="object"){g5=gk(this.doc,g6)}else{g5=g6?g3.from():g3.to()}}return ee(this,g5,g4||"page")},charCoords:function(g4,g3){return c3(this,gk(this.doc,g4),g3||"page")},coordsChar:function(g3,g4){g3=gW(this,g3,g4||"page");return gr(this,g3.left,g3.top)},lineAtHeight:function(g3,g4){g3=gW(this,{top:g3,left:0},g4||"page").top;return bT(this.doc,g3+this.display.viewOffset)},heightAtLine:function(g4,g8,g7){var g3=false,g5;if(typeof g4=="number"){var g6=this.doc.first+this.doc.size-1;if(g4<this.doc.first){g4=this.doc.first}else{if(g4>g6){g4=g6;g3=true}}g5=fM(this.doc,g4)}else{g5=g4}return fm(this,g5,{top:0,left:0},g8||"page",g7||g3).top+(g3?this.doc.height-bY(g5):0)},defaultTextHeight:function(){return a3(this.display)},defaultCharWidth:function(){return dW(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(g8,g5,ha,g6,hc){var g7=this.display;g8=ee(this,gk(this.doc,g8));var g9=g8.bottom,g4=g8.left;g5.style.position="absolute";g5.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(g5);g7.sizer.appendChild(g5);if(g6=="over"){g9=g8.top}else{if(g6=="above"||g6=="near"){var g3=Math.max(g7.wrapper.clientHeight,this.doc.height),hb=Math.max(g7.sizer.clientWidth,g7.lineSpace.clientWidth);if((g6=="above"||g8.bottom+g5.offsetHeight>g3)&&g8.top>g5.offsetHeight){g9=g8.top-g5.offsetHeight}else{if(g8.bottom+g5.offsetHeight<=g3){g9=g8.bottom}}if(g4+g5.offsetWidth>hb){g4=hb-g5.offsetWidth}}}g5.style.top=g9+"px";g5.style.left=g5.style.right="";if(hc=="right"){g4=g7.sizer.clientWidth-g5.offsetWidth;g5.style.right="0px"}else{if(hc=="left"){g4=0}else{if(hc=="middle"){g4=(g7.sizer.clientWidth-g5.offsetWidth)/2}}g5.style.left=g4+"px"}if(ha){H(this,{left:g4,top:g9,right:g4+g5.offsetWidth,bottom:g9+g5.offsetHeight})}},triggerOnKeyDown:dt(r),triggerOnKeyPress:dt(cP),triggerOnKeyUp:bm,execCommand:function(g3){if(e5.hasOwnProperty(g3)){return e5[g3].call(null,this)}},triggerElectric:dt(function(g3){gA(this,g3)}),findPosH:function(ha,g6,g7,g4){var g9=this;var g3=1;if(g6<0){g3=-1;g6=-g6}var g8=gk(this.doc,ha);for(var g5=0;g5<g6;++g5){g8=bH(g9.doc,g8,g3,g7,g4);if(g8.hitSide){break}}return g8},moveH:dt(function(g3,g4){var g5=this;this.extendSelectionsBy(function(g6){if(g5.display.shift||g5.doc.extend||g6.empty()){return bH(g5.doc,g6.head,g3,g4,g5.options.rtlMoveVisually)}else{return g3<0?g6.from():g6.to()}},de)}),deleteH:dt(function(g3,g4){var g5=this.doc.sel,g6=this.doc;if(g5.somethingSelected()){g6.replaceSelection("",null,"+delete")}else{fu(this,function(g8){var g7=bH(g6,g8.head,g3,g4,false);return g3<0?{from:g7,to:g8.head}:{from:g8.head,to:g7}})}}),findPosV:function(g9,g6,ha,hc){var g5=this;var g3=1,g8=hc;if(g6<0){g3=-1;g6=-g6}var hb=gk(this.doc,g9);for(var g4=0;g4<g6;++g4){var g7=ee(g5,hb,"div");if(g8==null){g8=g7.left}else{g7.left=g8}hb=bB(g5,g7,g3,ha);if(hb.hitSide){break}}return hb},moveV:dt(function(g3,g5){var g9=this;var g7=this.doc,g6=[];var g8=!this.display.shift&&!g7.extend&&g7.sel.somethingSelected();g7.extendSelectionsBy(function(ha){if(g8){return g3<0?ha.from():ha.to()}var hc=ee(g9,ha.head,"div");if(ha.goalColumn!=null){hc.left=ha.goalColumn}g6.push(hc.left);var hb=bB(g9,hc,g3,g5);if(g5=="page"&&ha==g7.sel.primary()){c0(g9,c3(g9,hb,"div").top-hc.top)}return hb},de);if(g6.length){for(var g4=0;g4<g7.sel.ranges.length;g4++){g7.sel.ranges[g4].goalColumn=g6[g4]}}}),findWordAt:function(ha){var g8=this.doc,g6=fM(g8,ha.line).text;var g9=ha.ch,g5=ha.ch;if(g6){var g7=this.getHelper(ha,"wordChars");if((ha.sticky=="before"||g5==g6.length)&&g9){--g9}else{++g5}var g4=g6.charAt(g9);var g3=cS(g4,g7)?function(hb){return cS(hb,g7)}:/\s/.test(g4)?function(hb){return/\s/.test(hb)}:function(hb){return(!/\s/.test(hb)&&!cS(hb))};while(g9>0&&g3(g6.charAt(g9-1))){--g9}while(g5<g6.length&&g3(g6.charAt(g5))){++g5}}return new eh(Z(ha.line,g9),Z(ha.line,g5))},toggleOverwrite:function(g3){if(g3!=null&&g3==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){f9(this.display.cursorDiv,"CodeMirror-overwrite")}else{h(this.display.cursorDiv,"CodeMirror-overwrite")}aI(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==d7()},isReadOnly:function(){return !!(this.options.readOnly||this.doc.cantEdit)},scrollTo:dt(function(g3,g4){fh(this,g3,g4)}),getScrollInfo:function(){var g3=this.display.scroller;return{left:g3.scrollLeft,top:g3.scrollTop,height:g3.scrollHeight-db(this)-this.display.barHeight,width:g3.scrollWidth-db(this)-this.display.barWidth,clientHeight:dd(this),clientWidth:dG(this)}},scrollIntoView:dt(function(g3,g4){if(g3==null){g3={from:this.doc.sel.primary().head,to:null};if(g4==null){g4=this.options.cursorScrollMargin}}else{if(typeof g3=="number"){g3={from:Z(g3,0),to:null}}else{if(g3.from==null){g3={from:g3,to:null}}}}if(!g3.to){g3.to=g3.from}g3.margin=g4||0;if(g3.from.line!=null){cs(this,g3)}else{b2(this,g3.from,g3.to,g3.margin)}}),setSize:dt(function(g5,g3){var g7=this;var g4=function(g8){return typeof g8=="number"||/^\d+$/.test(String(g8))?g8+"px":g8};if(g5!=null){this.display.wrapper.style.width=g4(g5)}if(g3!=null){this.display.wrapper.style.height=g4(g3)}if(this.options.lineWrapping){aT(this)}var g6=this.display.viewFrom;this.doc.iter(g6,this.display.viewTo,function(g8){if(g8.widgets){for(var g9=0;g9<g8.widgets.length;g9++){if(g8.widgets[g9].noHScroll){U(g7,g6,"widget");break}}}++g6});this.curOp.forceUpdate=true;aI(this,"refresh",this)}),operation:function(g3){return c5(this,g3)},refresh:dt(function(){var g3=this.display.cachedTextHeight;al(this);this.curOp.forceUpdate=true;an(this);fh(this,this.doc.scrollLeft,this.doc.scrollTop);dm(this);if(g3==null||Math.abs(g3-a3(this.display))>0.5){ac(this)}aI(this,"refresh",this)}),swapDoc:dt(function(g4){var g3=this.doc;g3.cm=null;ey(this,g4);an(this);this.display.input.reset();fh(this,g4.scrollLeft,g4.scrollTop);this.curOp.forceScroll=true;ai(this,"swapDoc",this,g3);return g3}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bL(i);i.registerHelper=function(g4,g3,g5){if(!g2.hasOwnProperty(g4)){g2[g4]=i[g4]={_global:[]}}g2[g4][g3]=g5};i.registerGlobalHelper=function(g5,g4,g3,g6){i.registerHelper(g5,g4,g6);g2[g5]._global.push({pred:g3,val:g6})}}function bH(hc,hb,g3,hd,g1){var g4=hb;var g8=g3;var g7=fM(hc,hb.line);function i(){var hh=hb.line+g3;if(hh<hc.first||hh>=hc.first+hc.size){return false}hb=new Z(hh,hb.ch,hb.sticky);return g7=fM(hc,hh)}function g5(hi){var hh;if(g1){hh=v(hc.cm,g7,hb,g3)}else{hh=am(g7,hb,g3)}if(hh==null){if(!hi&&i()){hb=e1(g1,hc.cm,g7,hb.line,g3)}else{return false}}else{hb=hh}return true}if(hd=="char"){g5()}else{if(hd=="column"){g5(true)}else{if(hd=="word"||hd=="group"){var ha=null,hf=hd=="group";var g2=hc.cm&&hc.cm.getHelper(hb,"wordChars");for(var g6=true;;g6=false){if(g3<0&&!g5(!g6)){break}var he=g7.text.charAt(hb.ch)||"\n";var g9=cS(he,g2)?"w":hf&&he=="\n"?"n":!hf||/\s/.test(he)?null:"p";if(hf&&!g6&&!g9){g9="s"}if(ha&&ha!=g9){if(g3<0){g3=1;g5();hb.sticky="after"}break}if(g9){ha=g9}if(g3>0&&!g5(!g6)){break}}}}}var hg=b8(hc,hb,g4,g8,true);if(aa(g4,hg)){hg.hitSide=true}return hg}function bB(g9,g4,g1,g8){var g7=g9.doc,g6=g4.left,g5;if(g8=="page"){var g3=Math.min(g9.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var i=Math.max(g3-0.5*a3(g9.display),3);g5=(g1>0?g4.bottom:g4.top)+g1*i}else{if(g8=="line"){g5=g1>0?g4.bottom+3:g4.top-3}}var g2;for(;;){g2=gr(g9,g6,g5);if(!g2.outside){break}if(g1<0?g5<=0:g5>=g7.height){g2.hitSide=true;break}g5+=g1*5}return g2}var dO=function(i){this.cm=i;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new g0();this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};dO.prototype.init=function(g3){var g5=this;var g2=this,i=g2.cm;var g4=g2.div=g3.lineDiv;gq(g4,i.options.spellcheck);ca(g4,"paste",function(g6){if(aW(i,g6)||bf(g6,i)){return}if(m<=11){setTimeout(dj(i,function(){return g5.updateFromDOM()}),20)}});ca(g4,"compositionstart",function(g6){g5.composing={data:g6.data,done:false}});ca(g4,"compositionupdate",function(g6){if(!g5.composing){g5.composing={data:g6.data,done:false}}});ca(g4,"compositionend",function(g6){if(g5.composing){if(g6.data!=g5.composing.data){g5.readFromDOMSoon()}g5.composing.done=true}});ca(g4,"touchstart",function(){return g2.forceCompositionEnd()});ca(g4,"input",function(){if(!g5.composing){g5.readFromDOMSoon()}});function g1(ha){if(aW(i,ha)){return}if(i.somethingSelected()){dp({lineWise:false,text:i.getSelections()});if(ha.type=="cut"){i.replaceSelection("",null,"cut")}}else{if(!i.options.lineWiseCopyCut){return}else{var g7=dC(i);dp({lineWise:true,text:g7.text});if(ha.type=="cut"){i.operation(function(){i.setSelections(g7.ranges,0,ad);i.replaceSelection("",null,"cut")})}}}if(ha.clipboardData){ha.clipboardData.clearData();var g9=br.text.join("\n");ha.clipboardData.setData("Text",g9);if(ha.clipboardData.getData("Text")==g9){ha.preventDefault();return}}var g8=a2(),hb=g8.firstChild;i.display.lineSpace.insertBefore(g8,i.display.lineSpace.firstChild);hb.value=br.text.join("\n");var g6=document.activeElement;d4(hb);setTimeout(function(){i.display.lineSpace.removeChild(g8);g6.focus();if(g6==g4){g2.showPrimarySelection()}},50)}ca(g4,"copy",g1);ca(g4,"cut",g1)};dO.prototype.prepareSelection=function(){var i=gi(this.cm,false);i.focus=this.cm.state.focused;return i};dO.prototype.showSelection=function(g1,i){if(!g1||!this.cm.display.view.length){return}if(g1.focus||i){this.showPrimarySelection()}this.showMultipleSelections(g1)};dO.prototype.showPrimarySelection=function(){var g4=window.getSelection(),he=this.cm,g7=he.doc.sel.primary();var hc=g7.from(),hd=g7.to();if(he.display.viewTo==he.display.viewFrom||hc.line>=he.display.viewTo||hd.line<he.display.viewFrom){g4.removeAllRanges();return}var g5=aC(he,g4.anchorNode,g4.anchorOffset);var g9=aC(he,g4.focusNode,g4.focusOffset);if(g5&&!g5.bad&&g9&&!g9.bad&&cv(av(g5,g9),hc)==0&&cv(bJ(g5,g9),hd)==0){return}var hb=he.display.view;var g3=(hc.line>=he.display.viewFrom&&cR(he,hc))||{node:hb[0].measure.map[2],offset:0};var g8=hd.line<he.display.viewTo&&cR(he,hd);if(!g8){var g2=hb[hb.length-1].measure;var g1=g2.maps?g2.maps[g2.maps.length-1]:g2.map;g8={node:g1[g1.length-1],offset:g1[g1.length-2]-g1[g1.length-3]}}if(!g3||!g8){g4.removeAllRanges();return}var g6=g4.rangeCount&&g4.getRangeAt(0),i;try{i=cD(g3.node,g3.offset,g8.offset,g8.node)}catch(ha){}if(i){if(!cG&&he.state.focused){g4.collapse(g3.node,g3.offset);if(!i.collapsed){g4.removeAllRanges();g4.addRange(i)}}else{g4.removeAllRanges();g4.addRange(i)}if(g6&&g4.anchorNode==null){g4.addRange(g6)}else{if(cG){this.startGracePeriod()}}}this.rememberSelection()};dO.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){i.gracePeriod=false;if(i.selectionChanged()){i.cm.operation(function(){return i.cm.curOp.selectionChanged=true})}},20)};dO.prototype.showMultipleSelections=function(i){b5(this.cm.display.cursorDiv,i.cursors);b5(this.cm.display.selectionDiv,i.selection)};dO.prototype.rememberSelection=function(){var i=window.getSelection();this.lastAnchorNode=i.anchorNode;this.lastAnchorOffset=i.anchorOffset;this.lastFocusNode=i.focusNode;this.lastFocusOffset=i.focusOffset};dO.prototype.selectionInEditor=function(){var g1=window.getSelection();if(!g1.rangeCount){return false}var i=g1.getRangeAt(0).commonAncestorContainer;return gS(this.div,i)};dO.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}};dO.prototype.blur=function(){this.div.blur()};dO.prototype.getField=function(){return this.div};dO.prototype.supportsTouch=function(){return true};dO.prototype.receivedFocus=function(){var i=this;if(this.selectionInEditor()){this.pollSelection()}else{c5(this.cm,function(){return i.cm.curOp.selectionChanged=true})}function g1(){if(i.cm.state.focused){i.pollSelection();i.polling.set(i.cm.options.pollInterval,g1)}}this.polling.set(this.cm.options.pollInterval,g1)};dO.prototype.selectionChanged=function(){var i=window.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset};dO.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var g3=window.getSelection(),i=this.cm;if(aR&&dx&&this.cm.options.gutters.length&&gJ(g3.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var g1=aC(i,g3.anchorNode,g3.anchorOffset);var g2=aC(i,g3.focusNode,g3.focusOffset);if(g1&&g2){c5(i,function(){b7(i.doc,fn(g1,g2),ad);if(g1.bad||g2.bad){i.curOp.selectionChanged=true}})}};dO.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var ha=this.cm,hk=ha.display,hi=ha.doc.sel.primary();var hj=hi.from(),g4=hi.to();if(hj.ch==0&&hj.line>ha.firstLine()){hj=Z(hj.line-1,fM(ha.doc,hj.line-1).length)}if(g4.ch==fM(ha.doc,g4.line).text.length&&g4.line<ha.lastLine()){g4=Z(g4.line+1,0)}if(hj.line<hk.viewFrom||g4.line>hk.viewTo-1){return false}var g7,g5,g9;if(hj.line==hk.viewFrom||(g7=dL(ha,hj.line))==0){g5=bZ(hk.view[0].line);g9=hk.view[0].node}else{g5=bZ(hk.view[g7].line);g9=hk.view[g7-1].node.nextSibling}var hh=dL(ha,g4.line);var hc,hf;if(hh==hk.view.length-1){hc=hk.viewTo-1;hf=hk.lineDiv.lastChild}else{hc=bZ(hk.view[hh+1].line)-1;hf=hk.view[hh+1].node.previousSibling}if(!g9){return false}var hl=ha.doc.splitLines(gE(ha,g9,hf,g5,hc));var he=gK(ha.doc,Z(g5,0),Z(hc,fM(ha.doc,hc).text.length));while(hl.length>1&&he.length>1){if(gf(hl)==gf(he)){hl.pop();he.pop();hc--}else{if(hl[0]==he[0]){hl.shift();he.shift();g5++}else{break}}}var hg=0,g2=0;var hb=hl[0],g1=he[0],i=Math.min(hb.length,g1.length);while(hg<i&&hb.charCodeAt(hg)==g1.charCodeAt(hg)){++hg}var g8=gf(hl),hm=gf(he);var g3=Math.min(g8.length-(hl.length==1?hg:0),hm.length-(he.length==1?hg:0));while(g2<g3&&g8.charCodeAt(g8.length-g2-1)==hm.charCodeAt(hm.length-g2-1)){++g2}if(hl.length==1&&he.length==1&&g5==hj.line){while(hg&&hg>hj.ch&&g8.charCodeAt(g8.length-g2-1)==hm.charCodeAt(hm.length-g2-1)){hg--;g2++}}hl[hl.length-1]=g8.slice(0,g8.length-g2).replace(/^\u200b+/,"");hl[0]=hl[0].slice(hg).replace(/\u200b+$/,"");var g6=Z(g5,hg);var hd=Z(hc,he.length?gf(he).length-g2:0);if(hl.length>1||hl[0]||cv(g6,hd)){a6(ha.doc,hl,g6,hd,"+input");return true}};dO.prototype.ensurePolled=function(){this.forceCompositionEnd()};dO.prototype.reset=function(){this.forceCompositionEnd()};dO.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};dO.prototype.readFromDOMSoon=function(){var i=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){i.readDOMTimeout=null;if(i.composing){if(i.composing.done){i.composing=null}else{return}}i.updateFromDOM()},80)};dO.prototype.updateFromDOM=function(){var i=this;if(this.cm.isReadOnly()||!this.pollContent()){c5(this.cm,function(){return al(i.cm)})}};dO.prototype.setUneditable=function(i){i.contentEditable="false"};dO.prototype.onKeyPress=function(i){if(i.charCode==0){return}i.preventDefault();if(!this.cm.isReadOnly()){dj(this.cm,gD)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0)}};dO.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")};dO.prototype.onContextMenu=function(){};dO.prototype.resetPosition=function(){};dO.prototype.needsContentAttribute=true;function cR(g6,g4){var g5=fJ(g6,g4.line);if(!g5||g5.hidden){return null}var g8=fM(g6.doc,g4.line);var g1=cL(g5,g8,g4.line);var g2=a(g8,g6.doc.direction),g3="left";if(g2){var i=aL(g2,g4.ch);g3=i%2?"right":"left"}var g7=aO(g1.map,g4.ch,g3);g7.offset=g7.collapse=="right"?g7.end:g7.start;return g7}function gJ(g1){for(var i=g1;i;i=i.parentNode){if(/CodeMirror-gutter-wrapper/.test(i.className)){return true}}return false}function eR(g1,i){if(i){g1.bad=true}return g1}function gE(g8,g6,g7,g3,g1){var ha="",g2=false,i=g8.doc.lineSeparator();function g4(hc){return function(hd){return hd.id==hc}}function hb(){if(g2){ha+=i;g2=false}}function g9(hc){if(hc){hb();ha+=hc}}function g5(hh){if(hh.nodeType==1){var he=hh.getAttribute("cm-text");if(he!=null){g9(he||hh.textContent.replace(/\u200b/g,""));return}var hg=hh.getAttribute("cm-marker"),hd;if(hg){var hi=g8.findMarks(Z(g3,0),Z(g1+1,0),g4(+hg));if(hi.length&&(hd=hi[0].find())){g9(gK(g8.doc,hd.from,hd.to).join(i))}return}if(hh.getAttribute("contenteditable")=="false"){return}var hc=/^(pre|div|p)$/i.test(hh.nodeName);if(hc){hb()}for(var hf=0;hf<hh.childNodes.length;hf++){g5(hh.childNodes[hf])}if(hc){g2=true}}else{if(hh.nodeType==3){g9(hh.nodeValue)}}}for(;;){g5(g6);if(g6==g7){break}g6=g6.nextSibling}return ha}function aC(g1,g4,g6){var g5;if(g4==g1.display.lineDiv){g5=g1.display.lineDiv.childNodes[g6];if(!g5){return eR(g1.clipPos(Z(g1.display.viewTo-1)),true)}g4=null;g6=0}else{for(g5=g4;;g5=g5.parentNode){if(!g5||g5==g1.display.lineDiv){return null}if(g5.parentNode&&g5.parentNode==g1.display.lineDiv){break}}}for(var g3=0;g3<g1.display.view.length;g3++){var g2=g1.display.view[g3];if(g2.node==g5){return ae(g2,g4,g6)}}}function ae(g9,g5,g7){var g2=g9.text.firstChild,g4=false;if(!g5||!gS(g2,g5)){return eR(Z(bZ(g9.line),0),true)}if(g5==g2){g4=true;g5=g2.childNodes[g7];g7=0;if(!g5){var hf=g9.rest?gf(g9.rest):g9.line;return eR(Z(bZ(hf),hf.text.length),g4)}}var g6=g5.nodeType==3?g5:null,hd=g5;if(!g6&&g5.childNodes.length==1&&g5.firstChild.nodeType==3){g6=g5.firstChild;if(g7){g7=g6.nodeValue.length}}while(hd.parentNode!=g2){hd=hd.parentNode}var g1=g9.measure,hb=g1.maps;function g8(hi,hn,hk){for(var hm=-1;hm<(hb?hb.length:0);hm++){var hh=hm<0?g1.map:hb[hm];for(var hl=0;hl<hh.length;hl+=3){var hj=hh[hl+2];if(hj==hi||hj==hn){var ho=bZ(hm<0?g9.line:g9.rest[hm]);var hg=hh[hl]+hk;if(hk<0||hj!=hi){hg=hh[hl+(hk?1:0)]}return Z(ho,hg)}}}}var he=g8(g6,hd,g7);if(he){return eR(he,g4)}for(var i=hd.nextSibling,ha=g6?g6.nodeValue.length-g7:0;i;i=i.nextSibling){he=g8(i,i.firstChild,0);if(he){return eR(Z(he.line,he.ch-ha),g4)}else{ha+=i.textContent.length}}for(var hc=hd.previousSibling,g3=g7;hc;hc=hc.previousSibling){he=g8(hc,hc.firstChild,-1);if(he){return eR(Z(he.line,he.ch+g3),g4)}else{g3+=hc.textContent.length}}}var ab=function(i){this.cm=i;this.prevInput="";this.pollingFast=false;this.polling=new g0();this.inaccurateSelection=false;this.hasSelection=false;this.composing=null};ab.prototype.init=function(g2){var g6=this;var g1=this,i=this.cm;var g5=this.wrapper=a2();var g3=this.textarea=g5.firstChild;g2.wrapper.insertBefore(g5,g2.wrapper.firstChild);if(fy){g3.style.width="0px"}ca(g3,"input",function(){if(d3&&m>=9&&g6.hasSelection){g6.hasSelection=null}g1.poll()});ca(g3,"paste",function(g7){if(aW(i,g7)||bf(g7,i)){return}i.state.pasteIncoming=true;g1.fastPoll()});function g4(g8){if(aW(i,g8)){return}if(i.somethingSelected()){dp({lineWise:false,text:i.getSelections()});if(g1.inaccurateSelection){g1.prevInput="";g1.inaccurateSelection=false;g3.value=br.text.join("\n");d4(g3)}}else{if(!i.options.lineWiseCopyCut){return}else{var g7=dC(i);dp({lineWise:true,text:g7.text});if(g8.type=="cut"){i.setSelections(g7.ranges,null,ad)}else{g1.prevInput="";g3.value=g7.text.join("\n");d4(g3)}}}if(g8.type=="cut"){i.state.cutIncoming=true}}ca(g3,"cut",g4);ca(g3,"copy",g4);ca(g2.scroller,"paste",function(g7){if(bg(g2,g7)||aW(i,g7)){return}i.state.pasteIncoming=true;g1.focus()});ca(g2.lineSpace,"selectstart",function(g7){if(!bg(g2,g7)){cY(g7)}});ca(g3,"compositionstart",function(){var g7=i.getCursor("from");if(g1.composing){g1.composing.range.clear()}g1.composing={start:g7,range:i.markText(g7,i.getCursor("to"),{className:"CodeMirror-composing"})}});ca(g3,"compositionend",function(){if(g1.composing){g1.poll();g1.composing.range.clear();g1.composing=null}})};ab.prototype.prepareSelection=function(){var g1=this.cm,g5=g1.display,g4=g1.doc;var i=gi(g1);if(g1.options.moveInputWithCursor){var g6=ee(g1,g4.sel.primary().head,"div");var g2=g5.wrapper.getBoundingClientRect(),g3=g5.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(g5.wrapper.clientHeight-10,g6.top+g3.top-g2.top));i.teLeft=Math.max(0,Math.min(g5.wrapper.clientWidth-10,g6.left+g3.left-g2.left))}return i};ab.prototype.showSelection=function(g2){var i=this.cm,g1=i.display;b5(g1.cursorDiv,g2.cursors);b5(g1.selectionDiv,g2.selection);if(g2.teTop!=null){this.wrapper.style.top=g2.teTop+"px";this.wrapper.style.left=g2.teLeft+"px"}};ab.prototype.reset=function(g4){if(this.contextMenuPending||this.composing){return}var g1,g3,i=this.cm,g6=i.doc;if(i.somethingSelected()){this.prevInput="";var g2=g6.sel.primary();g1=du&&(g2.to().line-g2.from().line>100||(g3=i.getSelection()).length>1000);var g5=g1?"-":g3||i.getSelection();this.textarea.value=g5;if(i.state.focused){d4(this.textarea)}if(d3&&m>=9){this.hasSelection=g5}}else{if(!g4){this.prevInput=this.textarea.value="";if(d3&&m>=9){this.hasSelection=null}}}this.inaccurateSelection=g1};ab.prototype.getField=function(){return this.textarea};ab.prototype.supportsTouch=function(){return false};ab.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!eD||d7()!=this.textarea)){try{this.textarea.focus()}catch(i){}}};ab.prototype.blur=function(){this.textarea.blur()};ab.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};ab.prototype.receivedFocus=function(){this.slowPoll()};ab.prototype.slowPoll=function(){var i=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){i.poll();if(i.cm.state.focused){i.slowPoll()}})};ab.prototype.fastPoll=function(){var g1=false,i=this;i.pollingFast=true;function g2(){var g3=i.poll();if(!g3&&!g1){g1=true;i.polling.set(60,g2)}else{i.pollingFast=false;i.slowPoll()}}i.polling.set(20,g2)};ab.prototype.poll=function(){var g7=this;var i=this.cm,g2=this.textarea,g3=this.prevInput;if(this.contextMenuPending||!i.state.focused||(bD(g2)&&!g3&&!this.composing)||i.isReadOnly()||i.options.disableInput||i.state.keySeq){return false}var g5=g2.value;if(g5==g3&&!i.somethingSelected()){return false}if(d3&&m>=9&&this.hasSelection===g5||cl&&/[\uf700-\uf7ff]/.test(g5)){i.display.input.reset();return false}if(i.doc.sel==i.display.selForContextMenu){var g4=g5.charCodeAt(0);if(g4==8203&&!g3){g3="\u200b"}if(g4==8666){this.reset();return this.cm.execCommand("undo")}}var g6=0,g1=Math.min(g3.length,g5.length);while(g6<g1&&g3.charCodeAt(g6)==g5.charCodeAt(g6)){++g6}c5(i,function(){gD(i,g5.slice(g6),g3.length-g6,null,g7.composing?"*compose":null);if(g5.length>1000||g5.indexOf("\n")>-1){g2.value=g7.prevInput=""}else{g7.prevInput=g5}if(g7.composing){g7.composing.range.clear();g7.composing.range=i.markText(g7.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"})}});return true};ab.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}};ab.prototype.onKeyPress=function(){if(d3&&m>=9){this.hasSelection=null}this.fastPoll()};ab.prototype.onContextMenu=function(g5){var ha=this,hb=ha.cm,g7=hb.display,g1=ha.textarea;var g9=cF(hb,g5),i=g7.scroller.scrollTop;if(!g9||eo){return}var g4=hb.options.resetSelectionOnContextMenu;if(g4&&hb.doc.sel.contains(g9)==-1){dj(hb,b7)(hb.doc,fn(g9),ad)}var g6=g1.style.cssText,he=ha.wrapper.style.cssText;ha.wrapper.style.cssText="position: absolute";var hd=ha.wrapper.getBoundingClientRect();g1.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(g5.clientY-hd.top-5)+"px; left: "+(g5.clientX-hd.left-5)+"px;\n      z-index: 1000; background: "+(d3?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var hc;if(di){hc=window.scrollY}g7.input.focus();if(di){window.scrollTo(null,hc)}g7.input.reset();if(!hb.somethingSelected()){g1.value=ha.prevInput=" "}ha.contextMenuPending=true;g7.selForContextMenu=hb.doc.sel;clearTimeout(g7.detectingSelectAll);function g3(){if(g1.selectionStart!=null){var hf=hb.somethingSelected();var hg="\u200b"+(hf?g1.value:"");g1.value="\u21da";g1.value=hg;ha.prevInput=hf?"":"\u200b";g1.selectionStart=1;g1.selectionEnd=hg.length;g7.selForContextMenu=hb.doc.sel}}function g8(){ha.contextMenuPending=false;ha.wrapper.style.cssText=he;g1.style.cssText=g6;if(d3&&m<9){g7.scrollbars.setScrollTop(g7.scroller.scrollTop=i)}if(g1.selectionStart!=null){if(!d3||(d3&&m<9)){g3()}var hf=0,hg=function(){if(g7.selForContextMenu==hb.doc.sel&&g1.selectionStart==0&&g1.selectionEnd>0&&ha.prevInput=="\u200b"){dj(hb,ap)(hb)}else{if(hf++<10){g7.detectingSelectAll=setTimeout(hg,500)}else{g7.selForContextMenu=null;g7.input.reset()}}};g7.detectingSelectAll=setTimeout(hg,200)}}if(d3&&m>=9){g3()}if(gR){eQ(g5);var g2=function(){eC(window,"mouseup",g2);setTimeout(g8,20)};ca(window,"mouseup",g2)}else{setTimeout(g8,50)}};ab.prototype.readOnlyChanged=function(i){if(!i){this.reset()}};ab.prototype.setUneditable=function(){};ab.prototype.needsContentAttribute=false;function gg(g7,g8){g8=g8?aS(g8):{};g8.value=g7.value;if(!g8.tabindex&&g7.tabIndex){g8.tabindex=g7.tabIndex}if(!g8.placeholder&&g7.placeholder){g8.placeholder=g7.placeholder}if(g8.autofocus==null){var i=d7();g8.autofocus=i==g7||g7.getAttribute("autofocus")!=null&&i==document.body}function g4(){g7.value=g6.getValue()}var g5;if(g7.form){ca(g7.form,"submit",g4);if(!g8.leaveSubmitMethodAlone){var g1=g7.form;g5=g1.submit;try{var g3=g1.submit=function(){g4();g1.submit=g5;g1.submit();g1.submit=g3}}catch(g2){}}}g8.finishInit=function(g9){g9.save=g4;g9.getTextArea=function(){return g7};g9.toTextArea=function(){g9.toTextArea=isNaN;g4();g7.parentNode.removeChild(g9.getWrapperElement());g7.style.display="";if(g7.form){eC(g7.form,"submit",g4);if(typeof g7.form.submit=="function"){g7.form.submit=g5}}}};g7.style.display="none";var g6=J(function(g9){return g7.parentNode.insertBefore(g9,g7.nextSibling)},g8);return g6}function gl(i){i.off=eC;i.on=ca;i.wheelEventPixels=aD;i.Doc=ax;i.splitLines=gu;i.countColumn=b4;i.findColumn=eP;i.isWordChar=gc;i.Pass=cq;i.signal=aI;i.Line=gM;i.changeEnd=df;i.scrollbarModel=bs;i.Pos=Z;i.cmpPos=cv;i.modes=dM;i.mimeModes=aX;i.resolveMode=gT;i.getMode=f8;i.modeExtensions=dJ;i.extendMode=e6;i.copyState=ch;i.startState=ce;i.innerMode=gP;i.commands=e5;i.keyMap=fI;i.keyName=fX;i.isModifierKey=e2;i.lookupKey=k;i.normalizeKeyMap=cZ;i.StringStream=fq;i.SharedTextMarker=y;i.TextMarker=T;i.LineWidget=dU;i.e_preventDefault=cY;i.e_stopPropagation=dK;i.e_stop=eQ;i.addClass=f9;i.contains=gS;i.rmClass=h;i.keyNames=fN}fa(J);d8(J);var d="iter insert remove copy getEditor constructor".split(" ");for(var bW in ax.prototype){if(ax.prototype.hasOwnProperty(bW)&&dD(d,bW)<0){J.prototype[bW]=(function(i){return function(){return i.apply(this.doc,arguments)}})(ax.prototype[bW])}}bL(ax);J.inputStyles={textarea:ab,contenteditable:dO};J.defineMode=function(i){if(!J.defaults.mode&&i!="null"){J.defaults.mode=i}eT.apply(this,arguments)};J.defineMIME=bw;J.defineMode("null",function(){return({token:function(i){return i.skipToEnd()}})});J.defineMIME("text/plain","null");J.defineExtension=function(i,g1){J.prototype[i]=g1};J.defineDocExtension=function(i,g1){ax.prototype[i]=g1};J.fromTextArea=gg;gl(J);J.version="5.26.0";return J})));!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineMode("rpm-changes",function(){var c=/^-+$/,d=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)  ?\d{1,2} \d{2}:\d{2}(:\d{2})? [A-Z]{3,4} \d{4} - /,b=/^[\w+.-]+@[\w.-]+/;return{token:function(e){if(e.sol()){if(e.match(c)){return"tag"}if(e.match(d)){return"tag"}}return e.match(b)?"string":(e.next(),null)}}}),a.defineMIME("text/x-rpm-changes","rpm-changes"),a.defineMode("rpm-spec",function(){var d=/^(i386|i586|i686|x86_64|ppc64le|ppc64|ppc|ia64|s390x|s390|sparc64|sparcv9|sparc|noarch|alphaev6|alpha|hppa|mipsel)/,f=/^[a-zA-Z0-9()]+:/,c=/^%(debug_package|package|description|prep|build|install|files|clean|changelog|preinstall|preun|postinstall|postun|pretrans|posttrans|pre|post|triggerin|triggerun|verifyscript|check|triggerpostun|triggerprein|trigger)/,h=/^%(ifnarch|ifarch|if)/,g=/^%(else|endif)/,b=/^(\!|\?|\<\=|\<|\>\=|\>|\=\=|\&\&|\|\|)/;return{startState:function(){return{controlFlow:!1,macroParameters:!1,section:!1}},token:function(e,k){var j=e.peek();if("#"==j){return e.skipToEnd(),"comment"}if(e.sol()){if(e.match(f)){return"header"}if(e.match(c)){return"atom"}}if(e.match(/^\$\w+/)){return"def"}if(e.match(/^\$\{\w+\}/)){return"def"}if(e.match(g)){return"keyword"}if(e.match(h)){return k.controlFlow=!0,"keyword"}if(k.controlFlow){if(e.match(b)){return"operator"}if(e.match(/^(\d+)/)){return"number"}e.eol()&&(k.controlFlow=!1)}if(e.match(d)){return e.eol()&&(k.controlFlow=!1),"number"}if(e.match(/^%[\w]+/)){return e.match(/^\(/)&&(k.macroParameters=!0),"keyword"}if(k.macroParameters){if(e.match(/^\d+/)){return"number"}if(e.match(/^\)/)){return k.macroParameters=!1,"keyword"}}return e.match(/^%\{\??[\w \-\:\!]+\}/)?(e.eol()&&(k.controlFlow=!1),"def"):(e.next(),null)}}}),a.defineMIME("text/x-rpm-spec","rpm-spec")});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){function b(g,h,j){var f,d=g.getWrapperElement();return f=d.appendChild(document.createElement("div")),j?f.className="CodeMirror-dialog CodeMirror-dialog-bottom":f.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof h?f.innerHTML=h:f.appendChild(h),f}function c(d,f){d.state.currentNotificationClose&&d.state.currentNotificationClose(),d.state.currentNotificationClose=f}a.defineExtension("openDialog",function(n,g,d){function m(f){if("string"==typeof f){o.value=f}else{if(h){return}h=!0,j.parentNode.removeChild(j),k.focus(),d.onClose&&d.onClose(j)}}d||(d={}),c(this,null);var e,j=b(this,n,d.bottom),h=!1,k=this,o=j.getElementsByTagName("input")[0];return o?(o.focus(),d.value&&(o.value=d.value,d.selectValueOnOpen!==!1&&o.select()),d.onInput&&a.on(o,"input",function(f){d.onInput(f,o.value,m)}),d.onKeyUp&&a.on(o,"keyup",function(f){d.onKeyUp(f,o.value,m)}),a.on(o,"keydown",function(f){d&&d.onKeyDown&&d.onKeyDown(f,o.value,m)||((27==f.keyCode||d.closeOnEnter!==!1&&13==f.keyCode)&&(o.blur(),a.e_stop(f),m()),13==f.keyCode&&g(o.value,f))}),d.closeOnBlur!==!1&&a.on(o,"blur",m)):(e=j.getElementsByTagName("button")[0])&&(a.on(e,"click",function(){m(),k.focus()}),d.closeOnBlur!==!1&&a.on(e,"blur",m),e.focus()),m}),a.defineExtension("openConfirm",function(v,j,e){function q(){k||(k=!0,h.parentNode.removeChild(h),o.focus())}c(this,null);var h=b(this,v,e&&e.bottom),n=h.getElementsByTagName("button"),k=!1,o=this,w=1;n[0].focus();for(var m=0;m<n.length;++m){var g=n[m];!function(d){a.on(g,"click",function(f){a.e_preventDefault(f),q(),d&&d(o)})}(j[m]),a.on(g,"blur",function(){--w,setTimeout(function(){0>=w&&q()},200)}),a.on(g,"focus",function(){++w})}}),a.defineExtension("openNotification",function(h,g){function j(){m||(m=!0,clearTimeout(e),d.parentNode.removeChild(d))}c(this,j);var e,d=b(this,h,g&&g.bottom),m=!1,k=g&&"undefined"!=typeof g.duration?g.duration:5000;return a.on(d,"click",function(f){a.e_preventDefault(f),j()}),k&&(e=setTimeout(j,k)),j})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],a):a(CodeMirror)}(function(M){function E(a,c){return"string"==typeof a?a=new RegExp(a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),c?"gi":"g"):a.global||(a=new RegExp(a.source,a.ignoreCase?"gi":"g")),{token:function(d){a.lastIndex=d.pos;var e=a.exec(d.string);return e&&e.index==d.pos?(d.pos+=e[0].length||1,"searching"):void (e?d.pos=e.index:d.skipToEnd())}}}function F(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function B(a){return a.state.search||(a.state.search=new F)}function w(a){return"string"==typeof a&&a==a.toLowerCase()}function I(a,c,d){return a.getSearchCursor(c,d,w(c))}function P(d,f,g,c,a){d.openDialog(f,c,{value:g,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){b(d)},onKeyDown:a})}function z(d,f,g,c,a){d.openDialog?d.openDialog(f,a,{value:c,selectValueOnOpen:!0}):a(prompt(g,c))}function O(c,d,f,a){c.openConfirm?c.openConfirm(d,a):confirm(f)&&a[0]()}function H(a){return a.replace(/\\(.)/g,function(c,d){return"n"==d?"\n":"r"==d?"\r":d})}function q(a){var c=a.match(/^\/(.*)\/([a-z]*)$/);if(c){try{a=new RegExp(c[1],-1==c[2].indexOf("i")?"":"i")}catch(d){}}else{a=H(a)}return("string"==typeof a?""==a:a.test(""))&&(a=/x^/),a}function L(c,d,a){d.queryText=a,d.query=q(a),c.removeOverlay(d.overlay,w(d.query)),d.overlay=E(d.query,w(d.query)),c.addOverlay(d.overlay),c.showMatchesOnScrollbar&&(d.annotate&&(d.annotate.clear(),d.annotate=null),d.annotate=c.showMatchesOnScrollbar(d.query,w(d.query)))}function D(h,r,f,e){var m=B(h);if(m.query){return N(h,r)}var a=h.getSelection()||m.lastQuery;if(f&&h.openDialog){var d=null,g=function(i,c){M.e_stop(c),i&&(i!=m.queryText&&(L(h,m,i),m.posFrom=m.posTo=h.getCursor()),d&&(d.style.opacity=1),N(h,c.shiftKey,function(o,p){var l;p.line<3&&document.querySelector&&(l=h.display.wrapper.querySelector(".CodeMirror-dialog"))&&l.getBoundingClientRect().bottom-4>h.cursorCoords(p,"window").top&&((d=l).style.opacity=0.4)}))};P(h,J,a,g,function(p,o){var l=M.keyName(p),c=M.keyMap[h.getOption("keyMap")][l];c||(c=h.getOption("extraKeys")[l]),"findNext"==c||"findPrev"==c||"findPersistentNext"==c||"findPersistentPrev"==c?(M.e_stop(p),L(h,B(h),o),h.execCommand(c)):("find"==c||"findPersistent"==c)&&(M.e_stop(p),g(o,p))}),e&&a&&(L(h,m,a),N(h,r))}else{z(h,J,"Search for:",a,function(c){c&&!m.query&&h.operation(function(){L(h,m,c),m.posFrom=m.posTo=h.getCursor(),N(h,r)})})}}function N(c,d,a){c.operation(function(){var e=B(c),f=I(c,e.query,d?e.posFrom:e.posTo);(f.find(d)||(f=I(c,e.query,d?M.Pos(c.lastLine()):M.Pos(c.firstLine(),0)),f.find(d)))&&(c.setSelection(f.from(),f.to()),c.scrollIntoView({from:f.from(),to:f.to()},20),e.posFrom=f.from(),e.posTo=f.to(),a&&a(f.from(),f.to()))})}function b(a){a.operation(function(){var c=B(a);c.lastQuery=c.query,c.query&&(c.query=c.queryText=null,a.removeOverlay(c.overlay),c.annotate&&(c.annotate.clear(),c.annotate=null))})}function G(a,c,d){a.operation(function(){for(var f=I(a,c);f.findNext();){if("string"!=typeof c){var e=a.getRange(f.from(),f.to()).match(c);f.replace(d.replace(/\$(\d)/g,function(g,h){return e[h]}))}else{f.replace(d)}}})}function K(c,d){if(!c.getOption("readOnly")){var f=c.getSelection()||B(c).lastQuery,a='<span class="CodeMirror-search-label">'+(d?"Replace all:":"Replace:")+"</span>";z(c,a+k,a,f,function(e){e&&(e=q(e),z(c,j,"Replace with:","",function(l){if(l=H(l),d){G(c,e,l)}else{b(c);var h=I(c,e,c.getCursor("from")),g=function(){var n,m=h.from();!(n=h.findNext())&&(h=I(c,e),!(n=h.findNext())||m&&h.from().line==m.line&&h.from().ch==m.ch)||(c.setSelection(h.from(),h.to()),c.scrollIntoView({from:h.from(),to:h.to()}),O(c,A,"Replace?",[function(){i(n)},g,function(){G(c,e,l)}]))},i=function(m){h.replace("string"==typeof e?l:l.replace(/\$(\d)/g,function(p,r){return m[r]})),g()};g()}}))})}}var J='<span class="CodeMirror-search-label">Search:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',k=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',j='<span class="CodeMirror-search-label">With:</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',A='<span class="CodeMirror-search-label">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';M.commands.find=function(a){b(a),D(a)},M.commands.findPersistent=function(a){b(a),D(a,!1,!0)},M.commands.findPersistentNext=function(a){D(a,!1,!0,!0)},M.commands.findPersistentPrev=function(a){D(a,!0,!0,!0)},M.commands.findNext=D,M.commands.findPrev=function(a){D(a,!0)},M.commands.clearSearch=b,M.commands.replace=K,M.commands.replaceAll=function(a){K(a,!0)}});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(c){function b(m,g,k,n){if(this.atOccurrence=!1,this.doc=m,null==n&&"string"==typeof g&&(n=!1),k=k?m.clipPos(k):a(0,0),this.pos={from:k,to:k},"string"!=typeof g){g.global||(g=new RegExp(g.source,g.ignoreCase?"ig":"g")),this.matches=function(y,u){if(y){g.lastIndex=0;for(var w,t,e=m.getLine(u.line).slice(0,u.ch),q=0;;){g.lastIndex=q;var x=g.exec(e);if(!x){break}if(w=x,t=w.index,q=w.index+(w[0].length||1),q==e.length){break}}var v=w&&w[0].length||0;v||(0==t&&0==e.length?w=void 0:t!=m.getLine(u.line).length&&v++)}else{g.lastIndex=u.ch;var e=m.getLine(u.line),w=g.exec(e),v=w&&w[0].length||0,t=w&&w.index;t+v==e.length||v||(v=1)}return w&&v?{from:a(u.line,t),to:a(u.line,t+v),match:w}:void 0}}else{var j=g;n&&(g=g.toLowerCase());var f=n?function(h){return h.toLowerCase()}:function(h){return h},i=g.split("\n");if(1==i.length){g.length?this.matches=function(l,s){if(l){var e=m.getLine(s.line).slice(0,s.ch),t=f(e),q=t.lastIndexOf(g);if(q>-1){return q=d(e,t,q),{from:a(s.line,q),to:a(s.line,q+j.length)}}}else{var e=m.getLine(s.line).slice(s.ch),t=f(e),q=t.indexOf(g);if(q>-1){return q=d(e,t,q)+s.ch,{from:a(s.line,q),to:a(s.line,q+j.length)}}}}:this.matches=function(){}}else{var p=j.split("\n");this.matches=function(y,l){var e=i.length-1;if(y){if(l.line-(i.length-1)<m.firstLine()){return}if(f(m.getLine(l.line).slice(0,p[e].length))!=i[i.length-1]){return}for(var h=a(l.line,p[e].length),z=l.line-1,v=e-1;v>=1;--v,--z){if(i[v]!=f(m.getLine(z))){return}}var x=m.getLine(z),w=x.length-p[0].length;if(f(x.slice(w))!=i[0]){return}return{from:a(z,w),to:h}}if(!(l.line+(i.length-1)>m.lastLine())){var x=m.getLine(l.line),w=x.length-p[0].length;if(f(x.slice(w))==i[0]){for(var q=a(l.line,w),z=l.line+1,v=1;e>v;++v,++z){if(i[v]!=f(m.getLine(z))){return}}if(f(m.getLine(z).slice(0,p[e].length))==i[e]){return{from:q,to:a(z,p[e].length)}}}}}}}}function d(j,g,k){if(j.length==g.length){return k}for(var f=Math.min(k,j.length);;){var h=j.slice(0,f).toLowerCase().length;if(k>h){++f}else{if(!(h>k)){return f}--f}}}var a=c.Pos;b.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(h){function f(l){var k=a(l,0);return j.pos={from:k,to:k},j.atOccurrence=!1,!1}for(var j=this,g=this.doc.clipPos(h?this.pos.from:this.pos.to);;){if(this.pos=this.matches(h,g)){return this.atOccurrence=!0,this.pos.match||!0}if(h){if(!g.line){return f(0)}g=a(g.line-1,this.doc.getLine(g.line-1).length)}else{var i=this.doc.lineCount();if(g.line==i-1){return f(i)}g=a(g.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(e,g){if(this.atOccurrence){var f=c.splitLines(e);this.doc.replaceRange(f,this.pos.from,this.pos.to,g),this.pos.to=a(this.pos.from.line+f.length-1,f[f.length-1].length+(1==f.length?this.pos.from.ch:0))}}},c.defineExtension("getSearchCursor",function(g,h,f){return new b(this.doc,g,h,f)}),c.defineDocExtension("getSearchCursor",function(g,h,f){return new b(this,g,h,f)}),c.defineExtension("selectMatches",function(f,h){for(var e=[],g=this.getSearchCursor(f,this.getCursor("from"),h);g.findNext()&&!(c.cmpPos(g.to(),this.getCursor("to"))>0);){e.push({anchor:g.from(),head:g.to()})}e.length&&this.setSelections(e,0)})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],a):a(CodeMirror)}(function(c){function d(j,k,h,g,f){j.openDialog?j.openDialog(k,f,{value:g,selectValueOnOpen:!0}):f(prompt(h,g))}function b(g,h){var f=Number(h);return/^[-+]/.test(h)?g.getCursor().line+f:f-1}var a='Jump to line: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use line:column or scroll% syntax)</span>';c.commands.jumpToLine=function(g){var f=g.getCursor();d(g,a,"Jump to line:",f.line+1+":"+f.ch,function(h){if(h){var e;if(e=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(h)){g.setCursor(b(g,e[1]),Number(e[2]))}else{if(e=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(h)){var j=Math.round(g.lineCount()*Number(e[1])/100);/^[-+]/.test(e[1])&&(j=f.line+j+1),g.setCursor(j-1,f.ch)}else{(e=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(h))&&g.setCursor(b(g,e[1]),f.ch)}}}})},c.keyMap["default"]["Alt-G"]="jumpToLine"});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],a):a(CodeMirror)}(function(b){function c(h,k,g,l){this.cm=h,this.options=l;var f={listenForChanges:!1};for(var m in l){f[m]=l[m]}f.className||(f.className="CodeMirror-search-match"),this.annotation=h.annotateScrollbar(f),this.query=k,this.caseFold=g,this.gap={from:h.firstLine(),to:h.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var j=this;h.on("change",this.changeHandler=function(i,n){j.onChange(n)})}function a(g,h,f){return h>=g?g:Math.max(h,g+f)}b.defineExtension("showMatchesOnScrollbar",function(f,e,g){return"string"==typeof g&&(g={className:g}),g||(g={}),new c(this,f,e,g)});var d=1000;c.prototype.findMatches=function(){if(this.gap){for(var h=0;h<this.matches.length;h++){var g=this.matches[h];if(g.from.line>=this.gap.to){break}g.to.line>=this.gap.from&&this.matches.splice(h--,1)}for(var f=this.cm.getSearchCursor(this.query,b.Pos(this.gap.from,0),this.caseFold),j=this.options&&this.options.maxMatches||d;f.findNext();){var g={from:f.from(),to:f.to()};if(g.from.line>=this.gap.to){break}if(this.matches.splice(h++,0,g),this.matches.length>j){break}}this.gap=null}},c.prototype.onChange=function(m){var i=m.from.line,q=b.changeEnd(m).line,j=q-m.to.line;if(this.gap?(this.gap.from=Math.min(a(this.gap.from,i,j),m.from.line),this.gap.to=Math.max(a(this.gap.to,i,j),m.from.line)):this.gap={from:m.from.line,to:q+1},j){for(var t=0;t<this.matches.length;t++){var g=this.matches[t],k=a(g.from.line,i,j);k!=g.from.line&&(g.from=b.Pos(k,g.from.ch));var p=a(g.to.line,i,j);p!=g.to.line&&(g.to=b.Pos(p,g.to.ch))}}clearTimeout(this.update);var l=this;this.update=setTimeout(function(){l.updateAfterChange()},250)},c.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},c.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],a):a(CodeMirror)}(function(w){function m(a){this.options={};for(var c in v){this.options[c]=(a&&a.hasOwnProperty(c)?a:v)[c]}this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function d(a){var c=a.state.matchHighlighter;(c.active||a.hasFocus())&&f(a,c)}function j(a){var c=a.state.matchHighlighter;c.active||(c.active=!0,f(a,c))}function f(a,c){clearTimeout(c.timeout),c.timeout=setTimeout(function(){x(a)},c.options.delay)}function b(c,l,s,a){var u=c.state.matchHighlighter;if(c.addOverlay(u.overlay=k(l,s,a)),u.options.annotateScrollbar&&c.showMatchesOnScrollbar){var h=s?new RegExp("\\b"+l+"\\b"):l;u.matchesonscroll=c.showMatchesOnScrollbar(h,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function q(a){var c=a.state.matchHighlighter;c.overlay&&(a.removeOverlay(c.overlay),c.overlay=null,c.matchesonscroll&&(c.matchesonscroll.clear(),c.matchesonscroll=null))}function x(a){a.operation(function(){var B=a.state.matchHighlighter;if(q(a),!a.somethingSelected()&&B.options.showToken){for(var c=B.options.showToken===!0?/[\w$]/:B.options.showToken,y=a.getCursor(),r=a.getLine(y.line),D=y.ch,t=D;D&&c.test(r.charAt(D-1));){--D}for(;t<r.length&&c.test(r.charAt(t));){++t}return void (t>D&&b(a,r.slice(D,t),c,B.options.style))}var z=a.getCursor("from"),C=a.getCursor("to");if(z.line==C.line&&(!B.options.wordsOnly||p(a,z,C))){var A=a.getRange(z,C);B.options.trim&&(A=A.replace(/^\s+|\s+$/g,"")),A.length>=B.options.minChars&&b(a,A,!1,B.options.style)}})}function p(c,l,s){var a=c.getRange(l,s);if(null!==a.match(/^\w+$/)){if(l.ch>0){var u={line:l.line,ch:l.ch-1},h=c.getRange(u,l);if(null===h.match(/\W/)){return !1}}if(s.ch<c.getLine(l.line).length){var u={line:s.line,ch:s.ch+1},h=c.getRange(s,u);if(null===h.match(/\W/)){return !1}}return !0}return !1}function g(a,c){return !(a.start&&c.test(a.string.charAt(a.start-1))||a.pos!=a.string.length&&c.test(a.string.charAt(a.pos)))}function k(a,c,h){return{token:function(e){return !e.match(a)||c&&!g(e,c)?(e.next(),void (e.skipTo(a.charAt(0))||e.skipToEnd())):h}}}var v={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};w.defineOption("highlightSelectionMatches",!1,function(i,e,h){if(h&&h!=w.Init&&(q(i),clearTimeout(i.state.matchHighlighter.timeout),i.state.matchHighlighter=null,i.off("cursorActivity",d),i.off("focus",j)),e){var a=i.state.matchHighlighter=new m(e);i.hasFocus()?(a.active=!0,x(i)):i.on("focus",j),i.on("cursorActivity",d)}})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){function b(d,f){function c(e){clearTimeout(g.doRedraw),g.doRedraw=setTimeout(function(){g.redraw()},e)}this.cm=d,this.options=f,this.buttonHeight=f.scrollButtonHeight||d.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=d.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var g=this;d.on("refresh",this.resizeHandler=function(){clearTimeout(g.doUpdate),g.doUpdate=setTimeout(function(){g.computeScale()&&c(20)},100)}),d.on("markerAdded",this.resizeHandler),d.on("markerCleared",this.resizeHandler),f.listenForChanges!==!1&&d.on("change",this.changeHandler=function(){c(250)})}a.defineExtension("annotateScrollbar",function(c){return"string"==typeof c&&(c={className:c}),new b(this,c)}),a.defineOption("scrollButtonHeight",0),b.prototype.computeScale=function(){var c=this.cm,d=(c.getWrapperElement().clientHeight-c.display.barHeight-2*this.buttonHeight)/c.getScrollerElement().scrollHeight;return d!=this.hScale?(this.hScale=d,!0):void 0},b.prototype.update=function(c){this.annotations=c,this.redraw()},b.prototype.redraw=function(q){function G(c,d){if(D!=c.line&&(D=c.line,I=C.getLineHandle(D)),I.widgets&&I.widgets.length||K&&I.height>v){return C.charCoords(c,"local")[d?"top":"bottom"]}var f=C.heightAtLine(I,"local");return f+(d?0:I.height)}q!==!1&&this.computeScale();var C=this.cm,z=this.hScale,y=document.createDocumentFragment(),w=this.annotations,K=C.getOption("lineWrapping"),v=K&&1.5*C.defaultTextHeight(),D=null,I=null,B=C.lastLine();if(C.display.barWidth){for(var J,x=0;x<w.length;x++){var k=w[x];if(!(k.to.line>B)){for(var F=J||G(k.from,!0)*z,A=G(k.to,!1)*z;x<w.length-1&&!(w[x+1].to.line>B)&&(J=G(w[x+1].from,!0)*z,!(J>A+0.9));){k=w[++x],A=G(k.to,!1)*z}if(A!=F){var E=Math.max(A-F,3),j=y.appendChild(document.createElement("div"));j.style.cssText="position: absolute; right: 0px; width: "+Math.max(C.display.barWidth-1,2)+"px; top: "+(F+this.buttonHeight)+"px; height: "+E+"px",j.className=this.options.className,k.id&&j.setAttribute("annotation-id",k.id)}}}}this.div.textContent="",this.div.appendChild(y)},b.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],a):a(CodeMirror)}(function(K){function x(P,g,d){if(0>d&&0==g.ch){return P.clipPos(H(g.line-1))}var e=P.getLine(g.line);if(d>0&&g.ch>=e.length){return P.clipPos(H(g.line+1,0))}for(var k,v="start",h=g.ch,Q=0>d?0:e.length,p=0;h!=Q;h+=d,p++){var m=e.charAt(0>d?h-1:h),L="_"!=m&&K.isWordChar(m)?"w":"o";if("w"==L&&m.toUpperCase()==m&&(L="W"),"start"==v){"o"!=L&&(v="in",k=L)}else{if("in"==v&&k!=L){if("w"==k&&"W"==L&&0>d&&h--,"W"==k&&"w"==L&&d>0){k="w";continue}break}}}return H(g.line,h)}function C(a,c){a.extendSelectionsBy(function(d){return a.display.shift||a.doc.extend||d.empty()?x(a.doc,d.head,c):0>c?d.from():d.to()})}function z(c,f){for(var d=f.ch,e=d,a=c.getLine(f.line);d&&K.isWordChar(a.charAt(d-1));){--d}for(;e<a.length&&K.isWordChar(a.charAt(e));){++e}return{from:H(f.line,d),to:H(f.line,e),word:a.slice(d,e)}}function B(d,a,f){for(var c=0;c<d.length;c++){if(d[c].from()==a&&d[c].to()==f){return !0}}return !1}function G(k){for(var g=k.listSelections(),p=[],h=0;h<g.length;h++){var m=g[h],f=m.head,d=k.scanForBracket(f,-1);if(!d){return !1}for(;;){var c=k.scanForBracket(f,1);if(!c){return !1}if(c.ch==q.charAt(q.indexOf(d.ch)+1)){p.push({anchor:H(d.pos.line,d.pos.ch+1),head:c.pos});break}f=H(c.pos.line,c.pos.ch+1)}}return k.setSelections(p),!0}function O(p,f){if(p.isReadOnly()){return K.Pass}for(var d,e=p.listSelections(),h=[],m=0;m<e.length;m++){var g=e[m];if(!g.empty()){for(var u=g.from().line,k=g.to().line;m<e.length-1&&e[m+1].from().line==k;){k=e[++m].to().line}e[m].to().ch||k--,h.push(u,k)}}h.length?d=!0:h.push(p.firstLine(),p.lastLine()),p.operation(function(){for(var v=[],L=0;L<h.length;L+=2){var n=h[L],i=h[L+1],r=H(n,0),P=H(i),t=p.getRange(r,P,!1);f?t.sort():t.sort(function(l,a){var o=l.toUpperCase(),c=a.toUpperCase();return o!=c&&(l=o,a=c),a>l?-1:l==a?0:1}),p.replaceRange(t,r,P),d&&v.push({anchor:r,head:H(i+1,0)})}d&&p.setSelections(v,0)})}function E(a,c){a.operation(function(){for(var m=a.listSelections(),g=[],e=[],d=0;d<m.length;d++){var h=m[d];h.empty()?(g.push(d),e.push("")):e.push(c(a.getRange(h.from(),h.to())))}a.replaceSelections(e,"around","case");for(var n,d=g.length-1;d>=0;d--){var h=m[g[d]];if(!(n&&K.cmpPos(h.head,n)>0)){var k=z(a,h.head);n=k.from,a.replaceRange(c(k.word),k.from,k.to)}}})}function y(c){var e=c.getCursor("from"),d=c.getCursor("to");if(0==K.cmpPos(e,d)){var a=z(c,e);if(!a.word){return}e=a.from,d=a.to}return{from:e,to:d,query:c.getRange(e,d),word:a}}function N(d,a){var g=y(d);if(g){var c=g.query,f=d.getSearchCursor(c,a?g.to:g.from);(a?f.findNext():f.findPrevious())?d.setSelection(f.from(),f.to()):(f=d.getSearchCursor(c,a?H(d.firstLine(),0):d.clipPos(H(d.lastLine()))),(a?f.findNext():f.findPrevious())?d.setSelection(f.from(),f.to()):g.word&&d.setSelection(g.from,g.to))}}var J=K.keyMap.sublime={fallthrough:"default"},w=K.commands,H=K.Pos,M=K.keyMap["default"]==K.keyMap.macDefault,A=M?"Cmd-":"Ctrl-",D=M?"Ctrl-":"Alt-";w[J[D+"Left"]="goSubwordLeft"]=function(a){C(a,-1)},w[J[D+"Right"]="goSubwordRight"]=function(a){C(a,1)},M&&(J["Cmd-Left"]="goLineStartSmart");var I=M?"Ctrl-Alt-":"Ctrl-";w[J[I+"Up"]="scrollLineUp"]=function(c){var a=c.getScrollInfo();if(!c.somethingSelected()){var d=c.lineAtHeight(a.top+a.clientHeight,"local");c.getCursor().line>=d&&c.execCommand("goLineUp")}c.scrollTo(null,a.top-c.defaultTextHeight())},w[J[I+"Down"]="scrollLineDown"]=function(c){var a=c.getScrollInfo();if(!c.somethingSelected()){var d=c.lineAtHeight(a.top,"local")+1;c.getCursor().line<=d&&c.execCommand("goLineDown")}c.scrollTo(null,a.top+c.defaultTextHeight())},w[J["Shift-"+A+"L"]="splitSelectionByLine"]=function(h){for(var f=h.listSelections(),l=[],g=0;g<f.length;g++){for(var k=f[g].from(),d=f[g].to(),c=k.line;c<=d.line;++c){d.line>k.line&&c==d.line&&0==d.ch||l.push({anchor:c==k.line?k:H(c,0),head:c==d.line?d:H(c)})}}h.setSelections(l,0)},J["Shift-Tab"]="indentLess",w[J.Esc="singleSelectionTop"]=function(c){var a=c.listSelections()[0];c.setSelection(a.anchor,a.head,{scroll:!1})},w[J[A+"L"]="selectLine"]=function(d){for(var a=d.listSelections(),g=[],c=0;c<a.length;c++){var f=a[c];g.push({anchor:H(f.from().line,0),head:H(f.to().line+1,0)})}d.setSelections(g)},J["Shift-Ctrl-K"]="deleteLine",w[J[A+"D"]="selectNextOccurrence"]=function(p){var d=p.getCursor("from"),g=p.getCursor("to"),m=p.state.sublimeFindFullWord==p.doc.sel;if(0==K.cmpPos(d,g)){var e=z(p,d);if(!e.word){return}p.setSelection(e.from,e.to),m=!0}else{var r=p.getRange(d,g),k=m?new RegExp("\\b"+r+"\\b"):r,h=p.getSearchCursor(k,g),o=h.findNext();if(o||(h=p.getSearchCursor(k,H(p.firstLine(),0)),o=h.findNext()),!o||B(p.listSelections(),h.from(),h.to())){return K.Pass}p.addSelection(h.from(),h.to())}m&&(p.state.sublimeFindFullWord=p.doc.sel)};var q="(){}[]";w[J["Shift-"+A+"Space"]="selectScope"]=function(a){G(a)||a.execCommand("selectAll")},w[J["Shift-"+A+"M"]="selectBetweenBrackets"]=function(a){return G(a)?void 0:K.Pass},w[J[A+"M"]="goToBracket"]=function(a){a.extendSelectionsBy(function(e){var c=a.scanForBracket(e.head,1);if(c&&0!=K.cmpPos(c.pos,e.head)){return c.pos}var d=a.scanForBracket(e.head,-1);return d&&H(d.pos.line,d.pos.ch+1)||e.head})};var b=M?"Cmd-Ctrl-":"Shift-Ctrl-";w[J[b+"Up"]="swapLineUp"]=function(p){if(p.isReadOnly()){return K.Pass}for(var f=p.listSelections(),d=[],e=p.firstLine()-1,h=[],m=0;m<f.length;m++){var g=f[m],u=g.from().line-1,k=g.to().line;h.push({anchor:H(g.anchor.line-1,g.anchor.ch),head:H(g.head.line-1,g.head.ch)}),0!=g.to().ch||g.empty()||--k,u>e?d.push(u,k):d.length&&(d[d.length-1]=k),e=k}p.operation(function(){for(var i=0;i<d.length;i+=2){var r=d[i],l=d[i+1],c=p.getLine(r);p.replaceRange("",H(r,0),H(r+1,0),"+swapLine"),l>p.lastLine()?p.replaceRange("\n"+c,H(p.lastLine()),null,"+swapLine"):p.replaceRange(c+"\n",H(l,0),null,"+swapLine")}p.setSelections(h),p.scrollIntoView()})},w[J[b+"Down"]="swapLineDown"]=function(f){if(f.isReadOnly()){return K.Pass}for(var m=f.listSelections(),h=[],k=f.lastLine()+1,e=m.length-1;e>=0;e--){var d=m[e],c=d.to().line+1,g=d.from().line;0!=d.to().ch||d.empty()||c--,k>c?h.push(c,g):h.length&&(h[h.length-1]=g),k=g}f.operation(function(){for(var l=h.length-2;l>=0;l-=2){var r=h[l],p=h[l+1],a=f.getLine(r);r==f.lastLine()?f.replaceRange("",H(r-1),H(r),"+swapLine"):f.replaceRange("",H(r,0),H(r+1,0),"+swapLine"),f.replaceRange(a+"\n",H(p,0),null,"+swapLine")}f.scrollIntoView()})},w[J[A+"/"]="toggleCommentIndented"]=function(a){a.toggleComment({indent:!0})},w[J[A+"J"]="joinLines"]=function(k){for(var g=k.listSelections(),p=[],h=0;h<g.length;h++){for(var m=g[h],f=m.from(),d=f.line,c=m.to().line;h<g.length-1&&g[h+1].from().line==c;){c=g[++h].to().line}p.push({start:d,end:c,anchor:!m.empty()&&f})}k.operation(function(){for(var v=0,P=[],Q=0;Q<p.length;Q++){for(var u,n=p[Q],e=n.anchor&&H(n.anchor.line-v,n.anchor.ch),L=n.start;L<=n.end;L++){var R=L-v;L==n.end&&(u=H(R,k.getLine(R).length+1)),R<k.lastLine()&&(k.replaceRange(" ",H(R),H(R+1,/^\s*/.exec(k.getLine(R+1))[0].length)),++v)}P.push({anchor:e||u,head:u})}k.setSelections(P,0)})},w[J["Shift-"+A+"D"]="duplicateLine"]=function(a){a.operation(function(){for(var c=a.listSelections().length,e=0;c>e;e++){var d=a.listSelections()[e];d.empty()?a.replaceRange(a.getLine(d.head.line)+"\n",H(d.head.line,0)):a.replaceRange(a.getRange(d.from(),d.to()),d.from())}a.scrollIntoView()})},M||(J[A+"T"]="transposeChars"),w[J.F9="sortLines"]=function(a){O(a,!0)},w[J[A+"F9"]="sortLinesInsensitive"]=function(a){O(a,!1)},w[J.F2="nextBookmark"]=function(d){var a=d.state.sublimeBookmarks;if(a){for(;a.length;){var f=a.shift(),c=f.find();if(c){return a.push(f),d.setSelection(c.from,c.to)}}}},w[J["Shift-F2"]="prevBookmark"]=function(c){var a=c.state.sublimeBookmarks;if(a){for(;a.length;){a.unshift(a.pop());var d=a[a.length-1].find();if(d){return c.setSelection(d.from,d.to)}a.pop()}}},w[J[A+"F2"]="toggleBookmark"]=function(k){for(var p=k.listSelections(),f=k.state.sublimeBookmarks||(k.state.sublimeBookmarks=[]),c=0;c<p.length;c++){for(var d=p[c].from(),h=p[c].to(),m=k.findMarks(d,h),g=0;g<m.length;g++){if(m[g].sublimeBookmark){m[g].clear();for(var u=0;u<f.length;u++){f[u]==m[g]&&f.splice(u--,1)}break}}g==m.length&&f.push(k.markText(d,h,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},w[J["Shift-"+A+"F2"]="clearBookmarks"]=function(c){var a=c.state.sublimeBookmarks;if(a){for(var d=0;d<a.length;d++){a[d].clear()}}a.length=0},w[J["Alt-F2"]="selectBookmarks"]=function(d){var a=d.state.sublimeBookmarks,g=[];if(a){for(var c=0;c<a.length;c++){var f=a[c].find();f?g.push({anchor:f.from,head:f.to}):a.splice(c--,0)}}g.length&&d.setSelections(g,0)},J["Alt-Q"]="wrapLines";var F=A+"K ";J[F+A+"Backspace"]="delLineLeft",w[J.Backspace="smartBackspace"]=function(a){return a.somethingSelected()?K.Pass:void a.operation(function(){for(var p=a.listSelections(),h=a.getOption("indentUnit"),k=p.length-1;k>=0;k--){var f=p[k].head,e=a.getRange({line:f.line,ch:0},f),d=K.countColumn(e,null,a.getOption("tabSize")),g=a.findPosH(f,-1,"char",!1);if(e&&!/\S/.test(e)&&d%h==0){var m=new H(f.line,K.findColumn(e,d-h,h));m.ch!=f.ch&&(g=m)}a.replaceRange("",g,f,"+delete")}})},w[J[F+A+"K"]="delLineRight"]=function(a){a.operation(function(){for(var c=a.listSelections(),d=c.length-1;d>=0;d--){a.replaceRange("",c[d].anchor,H(c[d].to().line),"+delete")}a.scrollIntoView()})},w[J[F+A+"U"]="upcaseAtCursor"]=function(a){E(a,function(c){return c.toUpperCase()})},w[J[F+A+"L"]="downcaseAtCursor"]=function(a){E(a,function(c){return c.toLowerCase()})},w[J[F+A+"Space"]="setSublimeMark"]=function(a){a.state.sublimeMark&&a.state.sublimeMark.clear(),a.state.sublimeMark=a.setBookmark(a.getCursor())},w[J[F+A+"A"]="selectToSublimeMark"]=function(c){var a=c.state.sublimeMark&&c.state.sublimeMark.find();a&&c.setSelection(c.getCursor(),a)},w[J[F+A+"W"]="deleteToSublimeMark"]=function(c){var f=c.state.sublimeMark&&c.state.sublimeMark.find();if(f){var d=c.getCursor(),e=f;if(K.cmpPos(d,e)>0){var a=e;e=d,d=a}c.state.sublimeKilled=c.getRange(d,e),c.replaceRange("",d,e)}},w[J[F+A+"X"]="swapWithSublimeMark"]=function(c){var a=c.state.sublimeMark&&c.state.sublimeMark.find();a&&(c.state.sublimeMark.clear(),c.state.sublimeMark=c.setBookmark(c.getCursor()),c.setCursor(a))},w[J[F+A+"Y"]="sublimeYank"]=function(a){null!=a.state.sublimeKilled&&a.replaceSelection(a.state.sublimeKilled,null,"paste")},J[F+A+"G"]="clearBookmarks",w[J[F+A+"C"]="showInCenter"]=function(c){var a=c.cursorCoords(null,"local");c.scrollTo(null,(a.top+a.bottom)/2-c.getScrollInfo().clientHeight/2)};var j=M?"Ctrl-Shift-":"Ctrl-Alt-";w[J[j+"Up"]="selectLinesUpward"]=function(a){a.operation(function(){for(var c=a.listSelections(),e=0;e<c.length;e++){var d=c[e];d.head.line>a.firstLine()&&a.addSelection(H(d.head.line-1,d.head.ch))}})},w[J[j+"Down"]="selectLinesDownward"]=function(a){a.operation(function(){for(var c=a.listSelections(),e=0;e<c.length;e++){var d=c[e];d.head.line<a.lastLine()&&a.addSelection(H(d.head.line+1,d.head.ch))}})},w[J[A+"F3"]="findUnder"]=function(a){N(a,!0)},w[J["Shift-"+A+"F3"]="findUnderPrevious"]=function(a){N(a,!1)},w[J["Alt-F3"]="findAllUnder"]=function(d){var a=y(d);if(a){for(var g=d.getSearchCursor(a.query),c=[],f=-1;g.findNext();){c.push({anchor:g.from(),head:g.to()}),g.from().line<=a.from.line&&g.from().ch<=a.from.ch&&f++}d.setSelections(c,f)}},J["Shift-"+A+"["]="fold",J["Shift-"+A+"]"]="unfold",J[F+A+"0"]=J[F+A+"J"]="unfoldAll",J[A+"I"]="findIncremental",J["Shift-"+A+"I"]="findIncrementalReverse",J[A+"H"]="replace",J.F3="findNext",J["Shift-F3"]="findPrev",K.normalizeKeyMap(J)});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(j){function p(x,z,q,a){var c=x.getLineHandle(z.line),n=z.ch-1,w=n>=0&&k[c.text.charAt(n)]||k[c.text.charAt(++n)];if(!w){return null}var y=">"==w.charAt(1)?1:-1;if(q&&y>0!=(n==z.ch)){return null}var v=x.getTokenTypeAt(m(z.line,n+1)),A=f(x,m(z.line,n+(y>0?1:0)),y,v||null,a);return null==A?null:{from:m(z.line,n),to:A&&A.pos,match:A&&A.ch==w.charAt(0),forward:y>0}}function f(D,H,w,z,a){for(var q=a&&a.maxScanLineLength||10000,y=a&&a.maxScanLines||1000,C=[],G=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,A=w>0?Math.min(H.line+y,D.lastLine()+1):Math.max(D.firstLine()-1,H.line-y),I=H.line;I!=A;I+=w){var x=D.getLine(I);if(x){var E=w>0?0:x.length-1,B=w>0?x.length:-1;if(!(x.length>q)){for(I==H.line&&(E=H.ch-(0>w?1:0));E!=B;E+=w){var c=x.charAt(E);if(G.test(c)&&(void 0===z||D.getTokenTypeAt(m(I,E+1))==z)){var F=k[c];if(">"==F.charAt(1)==w>0){C.push(c)}else{if(!C.length){return{pos:m(I,E),ch:c}}C.pop()}}}}}}return I-w==(w>0?D.lastLine():D.firstLine())?!1:null}function h(x,o,t){for(var a=x.state.matchBrackets.maxHighlightLineLength||1000,y=[],q=x.listSelections(),w=0;w<q.length;w++){var z=q[w].empty()&&p(x,q[w].head,!1,t);if(z&&x.getLine(z.from.line).length<=a){var v=z.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";y.push(x.markText(z.from,m(z.from.line,z.from.ch+1),{className:v})),z.to&&x.getLine(z.to.line).length<=a&&y.push(x.markText(z.to,m(z.to.line,z.to.ch+1),{className:v}))}}if(y.length){d&&x.state.focused&&x.focus();var A=function(){x.operation(function(){for(var c=0;c<y.length;c++){y[c].clear()}})};if(!o){return A}setTimeout(A,800)}}function b(a){a.operation(function(){g&&(g(),g=null),g=h(a,!1,a.state.matchBrackets)})}var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),m=j.Pos,k={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},g=null;j.defineOption("matchBrackets",!1,function(c,e,a){a&&a!=j.Init&&(c.off("cursorActivity",b),g&&(g(),g=null)),e&&(c.state.matchBrackets="object"==typeof e?e:{},c.on("cursorActivity",b))}),j.defineExtension("matchBrackets",function(){h(this,!0)}),j.defineExtension("findMatchingBracket",function(c,l,a){return p(this,c,l,a)}),j.defineExtension("scanForBracket",function(n,c,a,l){return f(this,n,c,a,l)})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(A){function G(c,a){return"pairs"==a&&"string"==typeof c?c:"object"==typeof c&&null!=c[a]?c[a]:F[a]}function m(a){return function(c){return H(c,a)}}function b(c){var a=c.state.closeBrackets;if(!a||a.override){return a}var d=c.getModeAt(c.getCursor());return d.closeBrackets||a}function w(r){var e=b(r);if(!e||r.getOption("disableInput")){return A.Pass}for(var d=G(e,"pairs"),l=r.listSelections(),g=0;g<l.length;g++){if(!l[g].empty()){return A.Pass}var p=q(r,l[g].head);if(!p||d.indexOf(p)%2!=0){return A.Pass}}for(var g=l.length-1;g>=0;g--){var h=l[g].head;r.replaceRange("",B(h.line,h.ch-1),B(h.line,h.ch+1),"+delete")}}function D(l){var e=b(l),d=e&&G(e,"explode");if(!d||l.getOption("disableInput")){return A.Pass}for(var g=l.listSelections(),f=0;f<g.length;f++){if(!g[f].empty()){return A.Pass}var h=q(l,g[f].head);if(!h||d.indexOf(h)%2!=0){return A.Pass}}l.operation(function(){l.replaceSelection("\n\n",null),l.execCommand("goCharLeft"),g=l.listSelections();for(var c=0;c<g.length;c++){var a=g[c].head.line;l.indentLine(a,null,!0),l.indentLine(a+1,null,!0)}})}function k(a){var c=A.cmpPos(a.anchor,a.head)>0;return{anchor:new B(a.anchor.line,a.anchor.ch+(c?-1:1)),head:new B(a.head.line,a.head.ch+(c?1:-1))}}function H(e,t){var N=b(e);if(!N||e.getOption("disableInput")){return A.Pass}var R=G(N,"pairs"),h=R.indexOf(t);if(-1==h){return A.Pass}for(var Q,J=G(N,"triples"),d=R.charAt(h+1)==t,O=e.listSelections(),f=h%2==0,L=0;L<O.length;L++){var M,c=O[L],o=c.head,I=e.getRange(o,B(o.line,o.ch+1));if(f&&!c.empty()){M="surround"}else{if(!d&&f||I!=t){if(d&&o.ch>1&&J.indexOf(t)>=0&&e.getRange(B(o.line,o.ch-2),o)==t+t&&(o.ch<=2||e.getRange(B(o.line,o.ch-3),B(o.line,o.ch-2))!=t)){M="addFour"}else{if(d){if(A.isWordChar(I)||!z(e,o,t)){return A.Pass}M="both"}else{if(!f||e.getLine(o.line).length!=o.ch&&!C(I,R)&&!/\s/.test(I)){return A.Pass}M="both"}}}else{M=d&&x(e,o)?"both":J.indexOf(t)>=0&&e.getRange(o,B(o.line,o.ch+3))==t+t+t?"skipThree":"skip"}}if(Q){if(Q!=M){return A.Pass}}else{Q=M}}var r=h%2?R.charAt(h-1):t,K=h%2?t:R.charAt(h+1);e.operation(function(){if("skip"==Q){e.execCommand("goCharRight")}else{if("skipThree"==Q){for(var g=0;3>g;g++){e.execCommand("goCharRight")}}else{if("surround"==Q){for(var a=e.getSelections(),g=0;g<a.length;g++){a[g]=r+a[g]+K}e.replaceSelections(a,"around"),a=e.listSelections().slice();for(var g=0;g<a.length;g++){a[g]=k(a[g])}e.setSelections(a)}else{"both"==Q?(e.replaceSelection(r+K,null),e.triggerElectric(r+K),e.execCommand("goCharLeft")):"addFour"==Q&&(e.replaceSelection(r+r+r+r,"before"),e.execCommand("goCharRight"))}}}})}function C(c,a){var d=a.lastIndexOf(c);return d>-1&&d%2==1}function q(c,a){var d=c.getRange(B(a.line,a.ch-1),B(a.line,a.ch+1));return 2==d.length?d:null}function z(e,l,g){var d=e.getLine(l.line),c=e.getTokenAt(l);if(/\bstring2?\b/.test(c.type)||x(e,l)){return !1}var h=new A.StringStream(d.slice(0,l.ch)+g+d.slice(l.ch),4);for(h.pos=h.start=c.start;;){var f=e.getMode().token(h,c.state);if(h.pos>=l.ch+1){return/\bstring2?\b/.test(f)}h.start=h.pos}}function x(c,a){var d=c.getTokenAt(B(a.line,a.ch+1));return/\bstring/.test(d.type)&&d.start==a.ch}var F={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},B=A.Pos;A.defineOption("autoCloseBrackets",!1,function(a,d,c){c&&c!=A.Init&&(a.removeKeyMap(j),a.state.closeBrackets=null),d&&(a.state.closeBrackets=d,a.addKeyMap(j))});for(var y=F.pairs+"`",j={Backspace:w,Enter:D},E=0;E<y.length;E++){j["'"+y.charAt(E)+"'"]=m(y.charAt(E))}});!function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(b){b.registerHelper("fold","brace",function(J,I){function D(g){for(var e=I.ch,d=0;;){var c=e<=0?-1:G.lastIndexOf(g,e-1);if(-1!=c){if(1==d&&c<I.ch){break}if(E=J.getTokenTypeAt(b.Pos(H,c+1)),!/^(comment|string)/.test(E)){return c+1}e=c-1}else{if(1==d){break}d=1,e=G.length}}}var F,E,H=I.line,G=J.getLine(H),C="{",B="}",F=D("{");if(null==F&&(C="[",B="]",F=D("[")),null!=F){var y,x,A=1,z=J.lastLine();b:for(var w=H;w<=z;++w){for(var v=J.getLine(w),u=w==H?F:0;;){var t=v.indexOf(C,u),a=v.indexOf(B,u);if(t<0&&(t=v.length),a<0&&(a=v.length),u=Math.min(t,a),u==v.length){break}if(J.getTokenTypeAt(b.Pos(w,u+1))==E){if(u==t){++A}else{if(!--A){y=w,x=u;break b}}}++u}}if(null!=y&&(H!=y||x!=F)){return{from:b.Pos(H,F),to:b.Pos(y,x)}}}}),b.registerHelper("fold","import",function(a,n){function m(t){if(t<a.firstLine()||t>a.lastLine()){return null}var s=a.getTokenAt(b.Pos(t,1));if(/\S/.test(s.string)||(s=a.getTokenAt(b.Pos(t,s.end+1))),"keyword"!=s.type||"import"!=s.string){return null}for(var r=t,q=Math.min(a.lastLine(),t+10);r<=q;++r){var p=a.getLine(r),o=p.indexOf(";");if(-1!=o){return{startCh:s.end,end:b.Pos(r,o)}}}}var k,n=n.line,l=m(n);if(!l||m(n-1)||(k=m(n-2))&&k.end.line==n-1){return null}for(var j=l.end;;){var i=m(j.line+1);if(null==i){break}j=i.end}return{from:a.clipPos(b.Pos(n,l.startCh+1)),to:j}}),b.registerHelper("fold","include",function(a,l){function k(f){if(f<a.firstLine()||f>a.lastLine()){return null}var e=a.getTokenAt(b.Pos(f,1));return/\S/.test(e.string)||(e=a.getTokenAt(b.Pos(f,e.end+1))),"meta"==e.type&&"#include"==e.string.slice(0,8)?e.start+8:void 0}var l=l.line,j=k(l);if(null==j||null!=k(l-1)){return null}for(var i=l;;){var h=k(i+1);if(null==h){break}++i}return{from:b.Pos(l,j+1),to:a.clipPos(b.Pos(i))}})}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(b){b.registerGlobalHelper("fold","comment",function(c){return c.blockCommentStart&&c.blockCommentEnd},function(N,M){var L=N.getModeAt(M),K=L.blockCommentStart,J=L.blockCommentEnd;if(K&&J){for(var G,I=M.line,H=N.getLine(I),F=M.ch,E=0;;){var D=F<=0?-1:H.lastIndexOf(K,F-1);if(-1!=D){if(1==E&&D<M.ch){return}if(/comment/.test(N.getTokenTypeAt(b.Pos(I,D+1)))&&(H.slice(D-J.length,D)==J||!/comment/.test(N.getTokenTypeAt(b.Pos(I,D))))){G=D+K.length;break}F=D-1}else{if(1==E){return}E=1,F=H.length}}var A,z,C=1,B=N.lastLine();b:for(var y=I;y<=B;++y){for(var x=N.getLine(y),w=y==I?G:0;;){var v=x.indexOf(K,w),a=x.indexOf(J,w);if(v<0&&(v=x.length),a<0&&(a=x.length),w=Math.min(v,a),w==x.length){break}if(w==v){++C}else{if(!--C){A=y,z=w;break b}}++w}}if(null!=A&&(I!=A||z!=G)){return{from:b.Pos(I,G),to:b.Pos(A,z)}}}})}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(g){function f(t,s,r,q){function n(b){var l=p(t,s);if(!l||l.to.line-l.from.line<o){return null}for(var k=t.findMarksAt(l.from),d=0;d<k.length;++d){if(k[d].__isFold&&"fold"!==q){if(!b){return null}l.cleared=!0,k[d].clear()}}return l}if(r&&r.call){var p=r;r=null}else{var p=h(t,r,"rangeFinder")}"number"==typeof s&&(s=g.Pos(s,0));var o=h(t,r,"minFoldSize"),e=n(!0);if(h(t,r,"scanUp")){for(;!e&&s.line>t.firstLine();){s=g.Pos(s.line-1,0),e=n(!1)}}if(e&&!e.cleared&&"unfold"!==q){var c=j(t,r);g.on(c,"mousedown",function(d){a.clear(),g.e_preventDefault(d)});var a=t.markText(e.from,e.to,{replacedWith:c,clearOnEnter:!0,__isFold:!0});a.on("clear",function(k,b){g.signal(t,"unfold",t,k,b)}),g.signal(t,"fold",t,e.from,e.to)}}function j(k,e){var m=h(k,e,"widget");if("string"==typeof m){var l=document.createTextNode(m);m=document.createElement("span"),m.appendChild(l),m.className="CodeMirror-foldmarker"}return m}function h(k,d,m){if(d&&void 0!==d[m]){return d[m]}var l=k.options.foldOptions;return l&&void 0!==l[m]?l[m]:i[m]}g.newFoldFunction=function(b,d){return function(c,a){f(c,a,{rangeFinder:b,widget:d})}},g.defineExtension("foldCode",function(b,k,e){f(this,b,k,e)}),g.defineExtension("isFolded",function(e){for(var d=this.findMarksAt(e),k=0;k<d.length;++k){if(d[k].__isFold){return !0}}}),g.commands.toggleFold=function(b){b.foldCode(b.getCursor())},g.commands.fold=function(b){b.foldCode(b.getCursor(),null,"fold")},g.commands.unfold=function(b){b.foldCode(b.getCursor(),null,"unfold")},g.commands.foldAll=function(a){a.operation(function(){for(var e=a.firstLine(),b=a.lastLine();e<=b;e++){a.foldCode(g.Pos(e,0),null,"fold")}})},g.commands.unfoldAll=function(a){a.operation(function(){for(var e=a.firstLine(),b=a.lastLine();e<=b;e++){a.foldCode(g.Pos(e,0),null,"unfold")}})},g.registerHelper("fold","combine",function(){var b=Array.prototype.slice.call(arguments,0);return function(a,m){for(var l=0;l<b.length;++l){var k=b[l](a,m);if(k){return k}}}}),g.registerHelper("fold","auto",function(l,k){for(var o=l.getHelpers(k,"fold"),n=0;n<o.length;n++){var m=o[n](l,k);if(m){return m}}});var i={rangeFinder:g.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};g.defineOption("foldOptions",null),g.defineExtension("foldOption",function(d,c){return h(this,d,c)})}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],b):b(CodeMirror)}(function(x){function v(b){this.options=b,this.from=this.to=0}function u(b){return b===!0&&(b={}),null==b.gutter&&(b.gutter="CodeMirror-foldgutter"),null==b.indicatorOpen&&(b.indicatorOpen="CodeMirror-foldgutter-open"),null==b.indicatorFolded&&(b.indicatorFolded="CodeMirror-foldgutter-folded"),b}function t(b,h){for(var g=b.findMarksAt(w(h)),f=0;f<g.length;++f){if(g[f].__isFold&&g[f].find().from.line==h){return g[f]}}}function s(d){if("string"==typeof d){var c=document.createElement("div");return c.className=d+" CodeMirror-guttermarker-subtle",c}return d.cloneNode(!0)}function r(b,z,y){var l=b.state.foldGutter.options,k=z,f=b.foldOption(l,"minFoldSize"),e=b.foldOption(l,"rangeFinder");b.eachLine(z,y,function(i){var h=null;if(t(b,k)){h=s(l.indicatorFolded)}else{var g=w(k,0),a=e&&e(b,g);a&&a.to.line-a.from.line>=f&&(h=s(l.indicatorOpen))}b.setGutterMarker(i,l.gutter,h),++k})}function q(e){var d=e.getViewport(),f=e.state.foldGutter;f&&(e.operation(function(){r(e,d.from,d.to)}),f.from=d.from,f.to=d.to)}function p(b,l,k){var j=b.state.foldGutter;if(j){var i=j.options;if(k==i.gutter){var e=t(b,l);e?e.clear():b.foldCode(w(l,0),i.rangeFinder)}}}function o(e){var d=e.state.foldGutter;if(d){var f=d.options;d.from=d.to=0,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){q(e)},f.foldOnChangeTimeSpan||600)}}function n(e){var d=e.state.foldGutter;if(d){var f=d.options;clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){var a=e.getViewport();d.from==d.to||a.from-d.to>20||d.from-a.to>20?q(e):e.operation(function(){a.from<d.from&&(r(e,a.from,d.from),d.from=a.from),a.to>d.to&&(r(e,d.to,a.to),d.to=a.to)})},f.updateViewportTimeSpan||400)}}function m(f,e){var h=f.state.foldGutter;if(h){var g=e.line;g>=h.from&&g<h.to&&r(f,g,g+1)}}x.defineOption("foldGutter",!1,function(a,d,c){c&&c!=x.Init&&(a.clearGutter(a.state.foldGutter.options.gutter),a.state.foldGutter=null,a.off("gutterClick",p),a.off("change",o),a.off("viewportChange",n),a.off("fold",m),a.off("unfold",m),a.off("swapDoc",o)),d&&(a.state.foldGutter=new v(u(d)),q(a),a.on("gutterClick",p),a.on("change",o),a.on("viewportChange",n),a.on("fold",m),a.on("unfold",m),a.on("swapDoc",o))});var w=x.Pos}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(b){b.registerHelper("fold","indent",function(v,u){var t=v.getOption("tabSize"),s=v.getLine(u.line);if(/\S/.test(s)){for(var r=function(c){return b.countColumn(c,null,t)},q=r(s),p=null,o=u.line+1,n=v.lastLine();o<=n;++o){var m=v.getLine(o),a=r(m);if(a>q){p=o}else{if(/\S/.test(m)){break}}}return p?{from:b.Pos(u.line,s.length),to:b.Pos(p,v.getLine(p).length)}:void 0}})}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(b){b.registerHelper("fold","markdown",function(v,u){function s(f){var e=v.getTokenTypeAt(b.Pos(f,0));return e&&/\bheader\b/.test(e)}function r(e,d,h){var g=d&&d.match(/^#+/);return g&&s(e)?g[0].length:(g=h&&h.match(/^[=\-]+\s*$/),g&&s(e+1)?"="==h[0]?1:2:t)}var t=100,q=v.getLine(u.line),p=v.getLine(u.line+1),o=r(u.line,q,p);if(o===t){return void 0}for(var n=v.lastLine(),m=u.line,a=v.getLine(m+2);m<n&&!(r(m+1,p,a)<=o);){++m,p=a,a=v.getLine(m+2)}return{from:b.Pos(u.line,q.length),to:b.Pos(m,v.getLine(m).length)}})}),function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(F){function D(d,c){return d.line-c.line||d.ch-c.ch}function z(f,e,h,g){this.line=e,this.ch=h,this.cm=f,this.text=f.getLine(e),this.min=g?g.from:f.firstLine(),this.max=g?g.to-1:f.lastLine()}function y(b,f){var e=b.cm.getTokenTypeAt(E(b.line,f));return e&&/\btag\b/.test(e)}function x(b){return b.line>=b.max?void 0:(b.ch=0,b.text=b.cm.getLine(++b.line),!0)}function w(b){return b.line<=b.min?void 0:(b.text=b.cm.getLine(--b.line),b.ch=b.text.length,!0)}function v(f){for(;;){var e=f.text.indexOf(">",f.ch);if(-1==e){if(x(f)){continue}return}if(y(f,e+1)){var h=f.text.lastIndexOf("/",e),g=h>-1&&!/\S/.test(f.text.slice(h+1,e));return f.ch=e+1,g?"selfClose":"regular"}f.ch=e+1}}function u(e){for(;;){var d=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==d){if(w(e)){continue}return}if(y(e,d+1)){A.lastIndex=d,e.ch=d;var f=A.exec(e.text);if(f&&f.index==d){return f}}else{e.ch=d}}}function t(d){for(;;){A.lastIndex=d.ch;var c=A.exec(d.text);if(!c){if(x(d)){continue}return}if(y(d,c.index+1)){return d.ch=c.index+c[0].length,c}d.ch=c.index+1}}function s(f){for(;;){var e=f.ch?f.text.lastIndexOf(">",f.ch-1):-1;if(-1==e){if(w(f)){continue}return}if(y(f,e+1)){var h=f.text.lastIndexOf("/",e),g=h>-1&&!/\S/.test(f.text.slice(h+1,e));return f.ch=e+1,g?"selfClose":"regular"}f.ch=e}}function r(b,p){for(var o=[];;){var m,n=t(b),l=b.line,k=b.ch-(n?n[0].length:0);if(!n||!(m=v(b))){return}if("selfClose"!=m){if(n[1]){for(var j=o.length-1;j>=0;--j){if(o[j]==n[2]){o.length=j;break}}if(j<0&&(!p||p==n[2])){return{tag:n[2],from:E(l,k),to:E(b.line,b.ch)}}}else{o.push(n[2])}}}}function q(b,p){for(var o=[];;){var n=s(b);if(!n){return}if("selfClose"!=n){var m=b.line,l=b.ch,k=u(b);if(!k){return}if(k[1]){o.push(k[2])}else{for(var j=o.length-1;j>=0;--j){if(o[j]==k[2]){o.length=j;break}}if(j<0&&(!p||p==k[2])){return{tag:k[2],from:E(b.line,b.ch),to:E(m,l)}}}}else{u(b)}}}var E=F.Pos,C="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",B=C+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",A=new RegExp("<(/?)(["+C+"]["+B+"]*)","g");F.registerHelper("fold","xml",function(b,l){for(var k=new z(b,l.line,0);;){var i,j=t(k);if(!j||k.line!=l.line||!(i=v(k))){return}if(!j[1]&&"selfClose"!=i){var l=E(k.line,k.ch),g=r(k,j[2]);return g&&{from:l,to:g.from}}}}),F.findMatchingTag=function(c,p,o){var n=new z(c,p.line,p.ch,o);if(-1!=n.text.indexOf(">")||-1!=n.text.indexOf("<")){var l=v(n),k=l&&E(n.line,n.ch),g=l&&u(n);if(l&&g&&!(D(n,p)>0)){var b={from:E(n.line,n.ch),to:k,tag:g[2]};return"selfClose"==l?{open:b,close:null,at:"open"}:g[1]?{open:q(n,g[2]),close:b,at:"close"}:(n=new z(c,k.line,k.ch,o),{open:b,close:r(n,g[2]),at:"open"})}}},F.findEnclosingTag=function(i,g,n){for(var m=new z(i,g.line,g.ch,n);;){var l=q(m);if(!l){break}var k=new z(i,g.line,g.ch,n),j=r(k,l.tag);if(j){return{open:l,close:j}}}},F.scanForClosingTag=function(g,f,j,i){var h=new z(g,f.line,f.ch,i?{from:0,to:i}:null);return r(h,j)}});!function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(D){function A(e,d){this.cm=e,this.options=d,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var f=this;e.on("cursorActivity",this.activityFunc=function(){f.cursorActivity()})}function x(a,f){var e=D.cmpPos(f.from,a.from);return e>0&&a.to.ch-a.from.ch!=f.to.ch-f.from.ch}function w(h,g,l){var k=h.options.hintOptions,j={};for(var i in p){j[i]=p[i]}if(k){for(var i in k){void 0!==k[i]&&(j[i]=k[i])}}if(l){for(var i in l){void 0!==l[i]&&(j[i]=l[i])}}return j.hint.resolve&&(j.hint=j.hint.resolve(h,g)),j}function v(b){return"string"==typeof b?b:b.text}function u(j,i){function m(b,e){var c;c="string"!=typeof e?function(d){return e(d,i)}:E.hasOwnProperty(e)?E[e]:e,n[b]=c}var E={Up:function(){i.moveFocus(-1)},Down:function(){i.moveFocus(1)},PageUp:function(){i.moveFocus(-i.menuSize()+1,!0)},PageDown:function(){i.moveFocus(i.menuSize()-1,!0)},Home:function(){i.setFocus(0)},End:function(){i.setFocus(i.length-1)},Enter:i.pick,Tab:i.pick,Esc:i.close},o=j.options.customKeys,n=o?{}:E;if(o){for(var l in o){o.hasOwnProperty(l)&&m(l,o[l])}}var k=j.options.extraKeys;if(k){for(var l in k){k.hasOwnProperty(l)&&m(l,k[l])}}return n}function t(d,c){for(;c&&c!=d;){if("LI"===c.nodeName.toUpperCase()&&c.parentNode==d){return c}c=c.parentNode}}function s(V,U){this.completion=V,this.data=U,this.picked=!1;var T=this,S=V.cm,R=this.hints=document.createElement("ul");R.className="CodeMirror-hints",this.selectedHint=U.selectedHint||0;for(var Q=U.list,P=0;P<Q.length;++P){var O=R.appendChild(document.createElement("li")),N=Q[P],M=C+(P!=this.selectedHint?"":" "+B);null!=N.className&&(M=N.className+" "+M),O.className=M,N.render?N.render(O,U,N):O.appendChild(document.createTextNode(N.displayText||v(N))),O.hintId=P}var K=S.cursorCoords(V.options.alignWithWord?U.from:null),I=K.left,G=K.bottom,E=!0;R.style.left=I+"px",R.style.top=G+"px";var k=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),j=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(V.options.container||document.body).appendChild(R);var i=R.getBoundingClientRect(),c=i.bottom-j;if(c>0){var b=i.bottom-i.top,a=K.top-(K.bottom-i.top);if(a-b>0){R.style.top=(G=K.top-b)+"px",E=!1}else{if(b>j){R.style.height=j-5+"px",R.style.top=(G=K.bottom-i.top)+"px";var L=S.getCursor();U.from.ch!=L.ch&&(K=S.cursorCoords(L),R.style.left=(I=K.left)+"px",i=R.getBoundingClientRect())}}}var J=i.right-k;if(J>0&&(i.right-i.left>k&&(R.style.width=k-5+"px",J-=i.right-i.left-k),R.style.left=(I=K.left-J)+"px"),S.addKeyMap(this.keyMap=u(V,{moveFocus:function(e,d){T.changeActive(T.selectedHint+e,d)},setFocus:function(d){T.changeActive(d)},menuSize:function(){return T.screenAmount()},length:Q.length,close:function(){V.close()},pick:function(){T.pick()},data:U})),V.options.closeOnUnfocus){var H;S.on("blur",this.onBlur=function(){H=setTimeout(function(){V.close()},100)}),S.on("focus",this.onFocus=function(){clearTimeout(H)})}var F=S.getScrollInfo();return S.on("scroll",this.onScroll=function(){var f=S.getScrollInfo(),d=S.getWrapperElement().getBoundingClientRect(),h=G+F.top-f.top,g=h-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return E||(g+=R.offsetHeight),g<=d.top||g>=d.bottom?V.close():(R.style.top=h+"px",void (R.style.left=I+F.left-f.left+"px"))}),D.on(R,"dblclick",function(e){var d=t(R,e.target||e.srcElement);d&&null!=d.hintId&&(T.changeActive(d.hintId),T.pick())}),D.on(R,"click",function(e){var d=t(R,e.target||e.srcElement);d&&null!=d.hintId&&(T.changeActive(d.hintId),V.options.completeOnSingleClick&&T.pick())}),D.on(R,"mousedown",function(){setTimeout(function(){S.focus()},20)}),D.signal(U,"select",Q[0],R.firstChild),!0}function r(f,e){if(!f.somethingSelected()){return e}for(var h=[],g=0;g<e.length;g++){e[g].supportsSelection&&h.push(e[g])}return h}function q(a,n){var l,m=a.getHelpers(n,"hint");if(m.length){for(var j,k=!1,i=0;i<m.length;i++){m[i].async&&(k=!0)}return k?(j=function(g,d,E){function h(e,c){if(e==o.length){return d(null)}var b=o[e];if(b.async){b(g,function(f){f?d(f):h(e+1)},E)}else{var c=b(g,E);c?d(c):h(e+1)}}var o=r(g,m);h(0)},j.async=!0):j=function(g,d){for(var E=r(g,m),o=0;o<E.length;o++){var h=E[o](g,d);if(h&&h.list.length){return h}}},j.supportsSelection=!0,j}return(l=a.getHelper(a.getCursor(),"hintWords"))?function(c){return D.hint.fromList(c,{words:l})}:D.hint.anyword?function(d,e){return D.hint.anyword(d,e)}:function(){}}var C="CodeMirror-hint",B="CodeMirror-hint-active";D.showHint=function(g,f,j){if(!f){return g.showHint(j)}j&&j.async&&(f.async=!0);var i={hint:f};if(j){for(var h in j){i[h]=j[h]}}return g.showHint(i)},D.defineExtension("showHint",function(a){a=w(this,this.getCursor("start"),a);var h=this.listSelections();if(!(h.length>1)){if(this.somethingSelected()){if(!a.hint.supportsSelection){return}for(var g=0;g<h.length;g++){if(h[g].head.line!=h[g].anchor.line){return}}}this.state.completionActive&&this.state.completionActive.close();var d=this.state.completionActive=new A(this,a);d.options.hint&&(D.signal(this,"startCompletion",this),d.update(!0))}});var z=window.requestAnimationFrame||function(b){return setTimeout(b,1000/60)},y=window.cancelAnimationFrame||clearTimeout;A.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&D.signal(this.data,"close"),this.widget&&this.widget.close(),D.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(a,f){var e=a.list[f];e.hint?e.hint(this.cm,a,e):this.cm.replaceRange(v(e),e.from||a.from,e.to||a.to,"complete"),D.signal(a,"pick",e),this.close()},cursorActivity:function(){this.debounce&&(y(this.debounce),this.debounce=0);var e=this.cm.getCursor(),d=this.cm.getLine(e.line);if(e.line!=this.startPos.line||d.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(d.charAt(e.ch-1))){this.close()}else{var f=this;this.debounce=z(function(){f.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){if(this.options.hint.async){var d=++this.tick,f=this;this.options.hint(this.cm,function(a){f.tick==d&&f.finishUpdate(a,e)},this.options)}else{this.finishUpdate(this.options.hint(this.cm,this.options),e)}}},finishUpdate:function(a,f){this.data&&D.signal(this.data,"update");var e=this.widget&&this.widget.picked||f&&this.options.completeSingle;this.widget&&this.widget.close(),a&&this.data&&x(this.data,a)||(this.data=a,a&&a.list.length&&(e&&1==a.list.length?this.pick(a,0):(this.widget=new s(this,a),D.signal(a,"shown"))))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var b=this.completion.cm;this.completion.options.closeOnUnfocus&&(b.off("blur",this.onBlur),b.off("focus",this.onFocus)),b.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var b=this;this.keyMap={Enter:function(){b.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(a,f){if(a>=this.data.list.length?a=f?this.data.list.length-1:0:a<0&&(a=f?0:this.data.list.length-1),this.selectedHint!=a){var c=this.hints.childNodes[this.selectedHint];c.className=c.className.replace(" "+B,""),c=this.hints.childNodes[this.selectedHint=a],c.className+=" "+B,c.offsetTop<this.hints.scrollTop?this.hints.scrollTop=c.offsetTop-3:c.offsetTop+c.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=c.offsetTop+c.offsetHeight-this.hints.clientHeight+3),D.signal(this.data,"select",this.data.list[this.selectedHint],c)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},D.registerHelper("hint","auto",{resolve:q}),D.registerHelper("hint","fromList",function(I,H){var G=I.getCursor(),F=I.getTokenAt(G),E=D.Pos(G.line,F.end);if(F.string&&/\w/.test(F.string[F.string.length-1])){var o=F.string,n=D.Pos(G.line,F.start)}else{var o="",n=E}for(var m=[],l=0;l<H.words.length;l++){var a=H.words[l];a.slice(0,o.length)==o&&m.push(a)}return m.length?{list:m,from:n,to:E}:void 0}),D.commands.autocomplete=D.showHint;var p={hint:D.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};D.defineOption("hintOptions",null)});!function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(e){var d=/[\w$]+/,f=500;e.registerHelper("hint","anyword",function(F,E){for(var D=E&&E.word||d,C=E&&E.range||f,B=F.getCursor(),A=F.getLine(B.line),z=B.ch,y=z;y&&D.test(A.charAt(y-1));){--y}for(var x=y!=z&&A.slice(y,z),w=E&&E.list||[],v={},u=new RegExp(D.source,"g"),c=-1;c<=1;c+=2){for(var b=B.line,a=Math.min(Math.max(b+c*C,F.firstLine()),F.lastLine())+c;b!=a;b+=c){for(var G,H=F.getLine(b);G=u.exec(H);){(b!=B.line||G[0]!==x)&&(x&&0!=G[0].lastIndexOf(x,0)||Object.prototype.hasOwnProperty.call(v,G[0])||(v[G[0]]=!0,w.push(G[0])))}}}return{list:w,from:e.Pos(B.line,y),to:e.Pos(B.line,z)}})});!function(b){"object"==typeof exports&&"object"==typeof module?b(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],b):b(CodeMirror)}(function(j){function n(b){for(var c=0;c<b.state.activeLines.length;c++){b.removeLineClass(b.state.activeLines[c],"wrap",i),b.removeLineClass(b.state.activeLines[c],"background",p),b.removeLineClass(b.state.activeLines[c],"gutter",o)}}function m(e,d){if(e.length!=d.length){return !1}for(var f=0;f<e.length;f++){if(e[f]!=d[f]){return !1}}return !0}function l(b,q){for(var f=[],e=0;e<q.length;e++){var d=q[e];if(d.empty()){var c=b.getLineHandleVisualStart(d.head.line);f[f.length-1]!=c&&f.push(c)}}m(b.state.activeLines,f)||b.operation(function(){n(b);for(var a=0;a<f.length;a++){b.addLineClass(f[a],"wrap",i),b.addLineClass(f[a],"background",p),b.addLineClass(f[a],"gutter",o)}b.state.activeLines=f})}function k(d,c){l(d,c.ranges)}var i="CodeMirror-activeline",p="CodeMirror-activeline-background",o="CodeMirror-activeline-gutter";j.defineOption("styleActiveLine",!1,function(a,h,g){var e=g&&g!=j.Init;h&&!e?(a.state.activeLines=[],l(a,a.listSelections()),a.on("beforeSelectionChange",k)):!h&&e&&(a.off("beforeSelectionChange",k),n(a),delete a.state.activeLines)})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(f){function h(i){var j=i.search(g);return -1==j?0:j}function c(j,k,i){return/\bstring\b/.test(j.getTokenTypeAt(d(k.line,0)))&&!/^[\'\"\`]/.test(i)}function b(j,k){var i=j.getMode();return i.useInnerComments!==!1&&i.innerMode?j.getModeAt(k):i}var a={},g=/[^\s\u00a0]/,d=f.Pos;f.commands.toggleComment=function(i){i.toggleComment()},f.defineExtension("toggleComment",function(q){q||(q=a);for(var u=this,p=1/0,l=this.listSelections(),r=null,k=l.length-1;k>=0;k--){var j=l[k].from(),s=l[k].to();j.line>=p||(s.line>=p&&(s=d(p,0)),p=j.line,null==r?u.uncomment(j,s,q)?r="un":(u.lineComment(j,s,q),r="line"):"un"==r?u.uncomment(j,s,q):u.lineComment(j,s,q))}}),f.defineExtension("lineComment",function(n,q,i){i||(i=a);var p=this,l=b(p,n),k=p.getLine(n.line);if(null!=k&&!c(p,n,k)){var t=i.lineComment||l.lineComment;if(!t){return void ((i.blockCommentStart||l.blockCommentStart)&&(i.fullLines=!0,p.blockComment(n,q,i)))}var o=Math.min(0!=q.ch||q.line==n.line?q.line+1:q.line,p.lastLine()+1),r=null==i.padding?" ":i.padding,j=i.commentBlankLines||n.line==q.line;p.operation(function(){if(i.indent){for(var u=null,s=n.line;o>s;++s){var m=p.getLine(s),e=m.slice(0,h(m));(null==u||u.length>e.length)&&(u=e)}for(var s=n.line;o>s;++s){var m=p.getLine(s),v=u.length;(j||g.test(m))&&(m.slice(0,v)!=u&&(v=h(m)),p.replaceRange(u+t+r,d(s,0),d(s,v)))}}else{for(var s=n.line;o>s;++s){(j||g.test(p.getLine(s)))&&p.replaceRange(t+r,d(s,0))}}})}}),f.defineExtension("blockComment",function(o,i,r){r||(r=a);var q=this,j=b(q,o),p=r.blockCommentStart||j.blockCommentStart,l=r.blockCommentEnd||j.blockCommentEnd;if(!p||!l){return void ((r.lineComment||j.lineComment)&&0!=r.fullLines&&q.lineComment(o,i,r))}if(!/\bcomment\b/.test(q.getTokenTypeAt(d(o.line,0)))){var k=Math.min(i.line,q.lastLine());k!=o.line&&0==i.ch&&g.test(q.getLine(k))&&--k;var u=null==r.padding?" ":r.padding;o.line>k||q.operation(function(){if(0!=r.fullLines){var m=g.test(q.getLine(k));q.replaceRange(u+l,d(k)),q.replaceRange(p+u,d(o.line,0));var e=r.blockCommentLead||j.blockCommentLead;if(null!=e){for(var n=o.line+1;k>=n;++n){(n!=k||m)&&q.replaceRange(e+u,d(n,0))}}}else{q.replaceRange(l,i),q.replaceRange(p,o)}})}}),f.defineExtension("uncomment",function(V,J,F){F||(F=a);var Z,K=this,X=b(K,V),U=Math.min(0!=J.ch||J.line==V.line?J.line:J.line-1,K.lastLine()),Q=Math.min(V.line,U),G=F.lineComment||X.lineComment,W=[],B=null==F.padding?" ":F.padding;V:if(G){for(var P=Q;U>=P;++P){var A=K.getLine(P),I=A.indexOf(G);if(I>-1&&!/comment/.test(K.getTokenTypeAt(d(P,I+1)))&&(I=-1),-1==I&&g.test(A)){break V}if(I>-1&&g.test(A.slice(0,I))){break V}W.push(A)}if(K.operation(function(){for(var p=Q;U>=p;++p){var s=W[p-Q],m=s.indexOf(G),k=m+G.length;0>m||(s.slice(k,k+B.length)==B&&(k+=B.length),Z=!0,K.replaceRange("",d(p,m),d(p,k)))}}),Z){return !0}}var H=F.blockCommentStart||X.blockCommentStart,Y=F.blockCommentEnd||X.blockCommentEnd;if(!H||!Y){return !1}var N=F.blockCommentLead||X.blockCommentLead,r=K.getLine(Q),z=r.indexOf(H);if(-1==z){return !1}var l=U==Q?r:K.getLine(U),o=l.indexOf(Y,U==Q?z+H.length:0);-1==o&&Q!=U&&(l=K.getLine(--U),o=l.indexOf(Y));var i=d(Q,z+1),w=d(U,o+1);if(-1==o||!/comment/.test(K.getTokenTypeAt(i))||!/comment/.test(K.getTokenTypeAt(w))||K.getRange(i,w,"\n").indexOf(Y)>-1){return !1}var D=r.lastIndexOf(H,V.ch),q=-1==D?-1:r.slice(0,V.ch).indexOf(Y,D+H.length);if(-1!=D&&-1!=q&&q+Y.length!=V.ch){return !1}q=l.indexOf(Y,J.ch);var j=l.slice(J.ch).lastIndexOf(H,q-J.ch);return D=-1==q||-1==j?-1:J.ch+j,-1!=q&&-1!=D&&D!=J.ch?!1:(K.operation(function(){K.replaceRange("",d(U,o-(B&&l.slice(o-B.length,o)==B?B.length:0)),d(U,o+Y.length));var s=z+H.length;if(B&&r.slice(s,s+B.length)==B&&(s+=B.length),K.replaceRange("",d(Q,z),d(Q,s)),N){for(var u=Q+1;U>=u;++u){var p=K.getLine(u),m=p.indexOf(N);if(-1!=m&&!g.test(p.slice(0,m))){var k=m+N.length;B&&p.slice(k,k+B.length)==B&&(k+=B.length),K.replaceRange("",d(u,m),d(u,k))}}}}),!0)})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(c){function f(k){if(k.getOption("disableInput")){return c.Pass}for(var j,t=k.listSelections(),e=[],q=0;q<t.length;q++){var p=t[q].head,B=k.getTokenAt(p);if("comment"!=B.type){return c.Pass}var y=c.innerMode(k.getMode(),B.state).mode;if(j){if(j!=y){return c.Pass}}else{j=y}var w=null;if(j.blockCommentStart&&j.blockCommentContinue){var z,A=B.string.indexOf(j.blockCommentEnd),x=k.getRange(c.Pos(p.line,0),c.Pos(p.line,B.end));if(-1!=A&&A==B.string.length-j.blockCommentEnd.length&&p.ch>=A){}else{if(0==B.string.indexOf(j.blockCommentStart)){if(w=x.slice(0,B.start),!/^\s*$/.test(w)){w="";for(var h=0;h<B.start;++h){w+=" "}}}else{-1!=(z=x.indexOf(j.blockCommentContinue))&&z+j.blockCommentContinue.length>B.start&&/^\s*$/.test(x.slice(0,z))&&(w=x.slice(0,z))}}null!=w&&(w+=j.blockCommentContinue)}if(null==w&&j.lineComment&&b(k)){var v=k.getLine(p.line),z=v.indexOf(j.lineComment);z>-1&&(w=v.slice(0,z),/\S/.test(w)?w=null:w+=j.lineComment+v.slice(z+j.lineComment.length).match(/^\s*/)[0])}if(null==w){return c.Pass}e[q]="\n"+w}k.operation(function(){for(var g=t.length-1;g>=0;g--){k.replaceRange(e[g],t[g].from(),t[g].to(),"+insert")}})}function b(g){var h=g.getOption("continueComments");return h&&"object"==typeof h?h.continueLineComment!==!1:!0}for(var d=["clike","css","javascript"],a=0;a<d.length;++a){c.extendMode(d[a],{blockCommentContinue:" * "})}c.defineOption("continueComments",null,function(h,k,g){if(g&&g!=c.Init&&h.removeKeyMap("continueComment"),k){var j="Enter";"string"==typeof k?j=k:"object"==typeof k&&k.key&&(j=k.key);var e={name:"continueComment"};e[j]=f,h.addKeyMap(e)}})});!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(f){function g(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function d(j){g(j);var i=j.state.placeholder=document.createElement("pre");i.style.cssText="height: 0; overflow: visible",i.className="CodeMirror-placeholder";var a=j.getOption("placeholder");"string"==typeof a&&(a=document.createTextNode(a)),i.appendChild(a),j.display.lineSpace.insertBefore(i,j.display.lineSpace.firstChild)}function c(a){h(a)&&d(a)}function b(k){var j=k.getWrapperElement(),i=h(k);j.className=j.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?d(k):g(k)}function h(a){return 1===a.lineCount()&&""===a.getLine(0)}f.defineOption("placeholder","",function(j,m,a){var e=a&&a!=f.Init;if(m&&!e){j.on("blur",c),j.on("change",b),j.on("swapDoc",b),b(j)}else{if(!m&&e){j.off("blur",c),j.off("change",b),j.off("swapDoc",b),g(j);var k=j.getWrapperElement();k.className=k.className.replace(" CodeMirror-empty","")}}m&&!j.hasFocus()&&c(j)})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["cgi","pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var b=0;b<a.modeInfo.length;b++){var c=a.modeInfo[b];if(c.mimes){c.mime=c.mimes[0]}}a.findModeByMIME=function(f){f=f.toLowerCase();for(var e=0;e<a.modeInfo.length;e++){var g=a.modeInfo[e];if(g.mime==f){return g}if(g.mimes){for(var d=0;d<g.mimes.length;d++){if(g.mimes[d]==f){return g}}}}if(/\+xml$/.test(f)){return a.findModeByMIME("application/xml")}if(/\+json$/.test(f)){return a.findModeByMIME("application/json")}};a.findModeByExtension=function(f){for(var e=0;e<a.modeInfo.length;e++){var g=a.modeInfo[e];if(g.ext){for(var d=0;d<g.ext.length;d++){if(g.ext[d]==f){return g}}}}};a.findModeByFileName=function(e){for(var f=0;f<a.modeInfo.length;f++){var h=a.modeInfo[f];if(h.file&&h.file.test(e)){return h}}var d=e.lastIndexOf(".");var g=d>-1&&e.substring(d+1,e.length);if(g){return a.findModeByExtension(g)}};a.findModeByName=function(e){e=e.toLowerCase();for(var f=0;f<a.modeInfo.length;f++){var g=a.modeInfo[f];if(g.name.toLowerCase()==e){return g}if(g.alias){for(var d=0;d<g.alias.length;d++){if(g.alias[d].toLowerCase()==e){return g}}}}}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),"cjs")}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],function(b){a(b,"amd")})}else{a(CodeMirror,"plain")}}})(function(a,c){if(!a.modeURL){a.modeURL="../mode/%N/%N.js"}var e={};function d(f,h){var g=h;return function(){if(--g==0){f()}}}function b(l,f){var k=a.modes[l].dependencies;if(!k){return f()}var j=[];for(var h=0;h<k.length;++h){if(!a.modes.hasOwnProperty(k[h])){j.push(k[h])}}if(!j.length){return f()}var g=d(f,j.length);for(var h=0;h<j.length;++h){a.requireMode(j[h],g)}}a.requireMode=function(k,f){if(typeof k!="string"){k=k.name}if(a.modes.hasOwnProperty(k)){return b(k,f)}if(e.hasOwnProperty(k)){return e[k].push(f)}var h=a.modeURL.replace(/%N/g,k);if(c=="plain"){var g=document.createElement("script");g.src=h;var i=document.getElementsByTagName("script")[0];var j=e[k]=[f];a.on(g,"load",function(){b(k,function(){for(var l=0;l<j.length;++l){j[l]()}})});i.parentNode.insertBefore(g,i)}else{if(c=="cjs"){require(h);f()}else{if(c=="amd"){requirejs([h],f)}}}};a.autoLoadMode=function(f,g){if(!a.modes.hasOwnProperty(g)){a.requireMode(g,function(){f.setOption("mode",f.getOption("mode"))})}}});